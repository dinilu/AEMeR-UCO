[
  {
    "objectID": "AEMER-2-Presentacion.html#qué-son-los-datos-espaciales",
    "href": "AEMER-2-Presentacion.html#qué-son-los-datos-espaciales",
    "title": "Análisis de datos espaciales en R",
    "section": "¿Qué son los datos espaciales?",
    "text": "¿Qué son los datos espaciales?"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#la-misma-información-se-puede-representar-de-varias-maneras",
    "href": "AEMER-2-Presentacion.html#la-misma-información-se-puede-representar-de-varias-maneras",
    "title": "Análisis de datos espaciales en R",
    "section": "La misma información se puede representar de varias maneras",
    "text": "La misma información se puede representar de varias maneras\n\n\nAlgunos tipos de datos se ajustan mejor a ciertas formas de representación"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#cómo-se-localiza-la-información",
    "href": "AEMER-2-Presentacion.html#cómo-se-localiza-la-información",
    "title": "Análisis de datos espaciales en R",
    "section": "¿Cómo se localiza la información?",
    "text": "¿Cómo se localiza la información?"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#no-parece-fácil-medir-los-ángulos",
    "href": "AEMER-2-Presentacion.html#no-parece-fácil-medir-los-ángulos",
    "title": "Análisis de datos espaciales en R",
    "section": "No parece fácil medir los ángulos ;)",
    "text": "No parece fácil medir los ángulos ;)\n\nSe calculan aproximaciones usando modelos de la Tierra (Datum)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#no-es-lo-mismo-saber-donde-ocurre-algo-que-dibujarlo-en-un-mapa",
    "href": "AEMER-2-Presentacion.html#no-es-lo-mismo-saber-donde-ocurre-algo-que-dibujarlo-en-un-mapa",
    "title": "Análisis de datos espaciales en R",
    "section": "No es lo mismo saber donde ocurre algo que dibujarlo en un mapa",
    "text": "No es lo mismo saber donde ocurre algo que dibujarlo en un mapa\n\n\nPara ello es necesario proyectar una esfera sobre un plano"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#cada-proyección-y-cada-datum-genera-mapas-con-propiedades-diferentes",
    "href": "AEMER-2-Presentacion.html#cada-proyección-y-cada-datum-genera-mapas-con-propiedades-diferentes",
    "title": "Análisis de datos espaciales en R",
    "section": "Cada proyección y cada datum genera mapas con propiedades diferentes",
    "text": "Cada proyección y cada datum genera mapas con propiedades diferentes\nConformes, equidistantes, equivalentes y afiláticas"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#vamos-a-usar-el-paquete-terra",
    "href": "AEMER-2-Presentacion.html#vamos-a-usar-el-paquete-terra",
    "title": "Análisis de datos espaciales en R",
    "section": "Vamos a usar el paquete terra",
    "text": "Vamos a usar el paquete terra\n\n# install.packages(\"terra\")\nlibrary(terra)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#podemos-crear-datos-vectoriales-desde-cero",
    "href": "AEMER-2-Presentacion.html#podemos-crear-datos-vectoriales-desde-cero",
    "title": "Análisis de datos espaciales en R",
    "section": "Podemos crear datos vectoriales desde cero",
    "text": "Podemos crear datos vectoriales desde cero\nLos más sencillos de crear son los puntos\n\nlon &lt;- c(-116.7, -120.4, -116.7, -113.5, -115.5, -120.8, -119.5, -113.7, -113.7, -110.7) \nlat &lt;- c(45.3, 42.6, 38.9, 42.1, 35.7, 38.9, 36.2, 39, 41.6, 36.9) \nlonlat &lt;- cbind(lon, lat) \npts &lt;- vect(lonlat) \npts\n\n class       : SpatVector \n geometry    : points \n dimensions  : 10, 0  (geometries, attributes)\n extent      : -120.8, -110.7, 35.7, 45.3  (xmin, xmax, ymin, ymax)\n coord. ref. :  \n\n\n\n\n\n\n\n\nWarning\n\n\nFijaros que el apartado “coord. ref.” está vacío"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#revisamos-el-tipo-de-datos",
    "href": "AEMER-2-Presentacion.html#revisamos-el-tipo-de-datos",
    "title": "Análisis de datos espaciales en R",
    "section": "Revisamos el tipo de datos",
    "text": "Revisamos el tipo de datos\n\nclass(pts)\n\n[1] \"SpatVector\"\nattr(,\"package\")\n[1] \"terra\"\n\n\n\ngeom(pts)\n\n      geom part      x    y hole\n [1,]    1    1 -116.7 45.3    0\n [2,]    2    1 -120.4 42.6    0\n [3,]    3    1 -116.7 38.9    0\n [4,]    4    1 -113.5 42.1    0\n [5,]    5    1 -115.5 35.7    0\n [6,]    6    1 -120.8 38.9    0\n [7,]    7    1 -119.5 36.2    0\n [8,]    8    1 -113.7 39.0    0\n [9,]    9    1 -113.7 41.6    0\n[10,]   10    1 -110.7 36.9    0"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#veamos-la-distribución-espacial-de-los-datos",
    "href": "AEMER-2-Presentacion.html#veamos-la-distribución-espacial-de-los-datos",
    "title": "Análisis de datos espaciales en R",
    "section": "Veamos la distribución espacial de los datos",
    "text": "Veamos la distribución espacial de los datos\n\nplot(pts)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#definimos-el-sistema-de-referencia-de-coordenadas-crs",
    "href": "AEMER-2-Presentacion.html#definimos-el-sistema-de-referencia-de-coordenadas-crs",
    "title": "Análisis de datos espaciales en R",
    "section": "Definimos el sistema de referencia de coordenadas (CRS)",
    "text": "Definimos el sistema de referencia de coordenadas (CRS)\n\ncrdref &lt;- \"+proj=longlat +datum=WGS84\"\npts &lt;- vect(lonlat, crs = crdref)\npts\n\n class       : SpatVector \n geometry    : points \n dimensions  : 10, 0  (geometries, attributes)\n extent      : -120.8, -110.7, 35.7, 45.3  (xmin, xmax, ymin, ymax)\n coord. ref. : +proj=longlat +datum=WGS84 +no_defs"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#podemos-comprobar-el-crs-de-un-objeto-vectorial",
    "href": "AEMER-2-Presentacion.html#podemos-comprobar-el-crs-de-un-objeto-vectorial",
    "title": "Análisis de datos espaciales en R",
    "section": "Podemos comprobar el CRS de un objeto vectorial",
    "text": "Podemos comprobar el CRS de un objeto vectorial\n\ncrs(pts)\n\n[1] \"GEOGCRS[\\\"unknown\\\",\\n    DATUM[\\\"World Geodetic System 1984\\\",\\n        ELLIPSOID[\\\"WGS 84\\\",6378137,298.257223563,\\n            LENGTHUNIT[\\\"metre\\\",1]],\\n        ID[\\\"EPSG\\\",6326]],\\n    PRIMEM[\\\"Greenwich\\\",0,\\n        ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n        ID[\\\"EPSG\\\",8901]],\\n    CS[ellipsoidal,2],\\n        AXIS[\\\"longitude\\\",east,\\n            ORDER[1],\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433,\\n                ID[\\\"EPSG\\\",9122]]],\\n        AXIS[\\\"latitude\\\",north,\\n            ORDER[2],\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433,\\n                ID[\\\"EPSG\\\",9122]]]]\""
  },
  {
    "objectID": "AEMER-2-Presentacion.html#la-ubicación-sola-no-es-muy-interesante",
    "href": "AEMER-2-Presentacion.html#la-ubicación-sola-no-es-muy-interesante",
    "title": "Análisis de datos espaciales en R",
    "section": "La ubicación sola no es muy interesante…",
    "text": "La ubicación sola no es muy interesante…\nVoy a simular valores de precipitación al azar (sample), un valor para cada punto\n\nprecipvalue &lt;- sample(1:100, 10)\ndf &lt;- data.frame(ID = 1:nrow(lonlat), \n                 precip = precipvalue)\npts &lt;- vect(lonlat, atts = df, crs = crdref)\npts\n\n class       : SpatVector \n geometry    : points \n dimensions  : 10, 2  (geometries, attributes)\n extent      : -120.8, -110.7, 35.7, 45.3  (xmin, xmax, ymin, ymax)\n coord. ref. : +proj=longlat +datum=WGS84 +no_defs \n names       :    ID precip\n type        : &lt;int&gt;  &lt;int&gt;\n values      :     1     78\n                   2     30\n                   3      5"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#veamos-las-precipitaciones-en-su-contexto-espacial",
    "href": "AEMER-2-Presentacion.html#veamos-las-precipitaciones-en-su-contexto-espacial",
    "title": "Análisis de datos espaciales en R",
    "section": "Veamos las precipitaciones en su contexto espacial",
    "text": "Veamos las precipitaciones en su contexto espacial\n\nplot(pts, \"precip\", type = \"interval\")"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#vamos-a-generar-ahora-un-segundo-conjunto-de-puntos",
    "href": "AEMER-2-Presentacion.html#vamos-a-generar-ahora-un-segundo-conjunto-de-puntos",
    "title": "Análisis de datos espaciales en R",
    "section": "Vamos a generar ahora un segundo conjunto de puntos…",
    "text": "Vamos a generar ahora un segundo conjunto de puntos…\n\nlon2 &lt;- c(-116.8, -114.2, -112.9, -111.9, -114.2, -115.4, -117.7)\nlat2 &lt;- c(41.3, 42.9, 42.4, 39.8, 37.6, 38.3, 37.6)\nlonlat2 &lt;- cbind(id = c(1,1,1,1,1,1,1), part = c(1,1,1,1,1,1,1), lon2, lat2)\nlonlat2\n\n     id part   lon2 lat2\n[1,]  1    1 -116.8 41.3\n[2,]  1    1 -114.2 42.9\n[3,]  1    1 -112.9 42.4\n[4,]  1    1 -111.9 39.8\n[5,]  1    1 -114.2 37.6\n[6,]  1    1 -115.4 38.3\n[7,]  1    1 -117.7 37.6"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#pero-para-crear-datos-de-líneas",
    "href": "AEMER-2-Presentacion.html#pero-para-crear-datos-de-líneas",
    "title": "Análisis de datos espaciales en R",
    "section": "… pero para crear datos de líneas…",
    "text": "… pero para crear datos de líneas…\n\nlns &lt;- vect(lonlat2, type = \"lines\", crs = crdref)\nlns\n\n class       : SpatVector \n geometry    : lines \n dimensions  : 1, 0  (geometries, attributes)\n extent      : -117.7, -111.9, 37.6, 42.9  (xmin, xmax, ymin, ymax)\n coord. ref. : +proj=longlat +datum=WGS84 +no_defs \n\n\n\nplot(lns)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#o-un-datos-de-polígonos",
    "href": "AEMER-2-Presentacion.html#o-un-datos-de-polígonos",
    "title": "Análisis de datos espaciales en R",
    "section": "… o un datos de polígonos",
    "text": "… o un datos de polígonos\n\npols &lt;- vect(lonlat2, type = \"polygons\", crs = crdref)\npols\n\n class       : SpatVector \n geometry    : polygons \n dimensions  : 1, 0  (geometries, attributes)\n extent      : -117.7, -111.9, 37.6, 42.9  (xmin, xmax, ymin, ymax)\n coord. ref. : +proj=longlat +datum=WGS84 +no_defs \n\n\n\nplot(pols)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#lo-más-normal-es-usar-datos-generados-con-un-sig",
    "href": "AEMER-2-Presentacion.html#lo-más-normal-es-usar-datos-generados-con-un-sig",
    "title": "Análisis de datos espaciales en R",
    "section": "Lo más normal es usar datos generados con un SIG",
    "text": "Lo más normal es usar datos generados con un SIG\nDescargar datos de Internet (v.gr. GADM) y cargarlos desde el disco duro\n\narg &lt;- vect(\"gadm/gadm41_ARG_1.shp\")\narg"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#lo-más-normal-es-usar-datos-generados-con-un-sig-1",
    "href": "AEMER-2-Presentacion.html#lo-más-normal-es-usar-datos-generados-con-un-sig-1",
    "title": "Análisis de datos espaciales en R",
    "section": "Lo más normal es usar datos generados con un SIG",
    "text": "Lo más normal es usar datos generados con un SIG\nHay paquetes de R que dan acceso directo a datos vectoriales (v.gr. geodata)\n\n# install.packages(\"geodata\")\nlibrary(geodata)\narg &lt;- gadm(\"ARG\", level = 1, path = \".\")\narg\n\n class       : SpatVector \n geometry    : polygons \n dimensions  : 24, 11  (geometries, attributes)\n extent      : -73.56056, -53.59184, -55.06153, -21.78137  (xmin, xmax, ymin, ymax)\n coord. ref. : lon/lat WGS 84 (EPSG:4326) \n names       :   GID_1 GID_0   COUNTRY       NAME_1       VARNAME_1 NL_NAME_1\n type        :   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;chr&gt;     &lt;chr&gt;\n values      : ARG.1_1   ARG Argentina Buenos Aires Baires|Buenos ~        NA\n               ARG.2_1   ARG Argentina    Catamarca              NA        NA\n               ARG.3_1   ARG Argentina        Chaco El Chaco|Presi~        NA\n    TYPE_1 ENGTYPE_1  CC_1 HASC_1 ISO_1\n     &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;\n Provincia  Province    NA  AR.BA  AR-B\n Provincia  Province    NA  AR.CT  AR-K\n Provincia  Province    NA  AR.CC  AR-H"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#veamos-si-se-parece-a-lo-que-conocemos",
    "href": "AEMER-2-Presentacion.html#veamos-si-se-parece-a-lo-que-conocemos",
    "title": "Análisis de datos espaciales en R",
    "section": "Veamos si se parece a lo que conocemos…",
    "text": "Veamos si se parece a lo que conocemos…\n\nplot(arg)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#estos-datos-se-pueden-guardar-para-no-tener-que-volver-a-descargarlos",
    "href": "AEMER-2-Presentacion.html#estos-datos-se-pueden-guardar-para-no-tener-que-volver-a-descargarlos",
    "title": "Análisis de datos espaciales en R",
    "section": "Estos datos se pueden guardar para no tener que volver a descargarlos",
    "text": "Estos datos se pueden guardar para no tener que volver a descargarlos\n\nwriteVector(arg, \"arg.shp\", overwrite = TRUE)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#comprobemos-el-crs-de-alguno-de-nuestros-datos",
    "href": "AEMER-2-Presentacion.html#comprobemos-el-crs-de-alguno-de-nuestros-datos",
    "title": "Análisis de datos espaciales en R",
    "section": "Comprobemos el CRS de alguno de nuestros datos",
    "text": "Comprobemos el CRS de alguno de nuestros datos\n\ncrs(arg)\n\n[1] \"GEOGCRS[\\\"WGS 84\\\",\\n    DATUM[\\\"World Geodetic System 1984\\\",\\n        ELLIPSOID[\\\"WGS 84\\\",6378137,298.257223563,\\n            LENGTHUNIT[\\\"metre\\\",1]]],\\n    PRIMEM[\\\"Greenwich\\\",0,\\n        ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],\\n    CS[ellipsoidal,2],\\n        AXIS[\\\"geodetic latitude (Lat)\\\",north,\\n            ORDER[1],\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],\\n        AXIS[\\\"geodetic longitude (Lon)\\\",east,\\n            ORDER[2],\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],\\n    ID[\\\"EPSG\\\",4326]]\""
  },
  {
    "objectID": "AEMER-2-Presentacion.html#se-puede-borrar-el-crs-del-conjunto-de-datos",
    "href": "AEMER-2-Presentacion.html#se-puede-borrar-el-crs-del-conjunto-de-datos",
    "title": "Análisis de datos espaciales en R",
    "section": "Se puede borrar el CRS del conjunto de datos",
    "text": "Se puede borrar el CRS del conjunto de datos\n\narg_sin_crs &lt;- arg\ncrs(arg_sin_crs) &lt;- \"\"\ncrs(arg_sin_crs)\n\n[1] \"\""
  },
  {
    "objectID": "AEMER-2-Presentacion.html#o-se-puede-especificar-a-mano-estandar-proj.4",
    "href": "AEMER-2-Presentacion.html#o-se-puede-especificar-a-mano-estandar-proj.4",
    "title": "Análisis de datos espaciales en R",
    "section": "O se puede especificar a mano (estandar PROJ.4)",
    "text": "O se puede especificar a mano (estandar PROJ.4)\n\narg_falso_utm &lt;- arg\ncrs(arg_falso_utm) &lt;- \"+proj=utm +zone=19 +south +datum=WGS84 +units=m +no_defs +type=crs\"\ncrs(arg_falso_utm)\n\n[1] \"PROJCRS[\\\"unknown\\\",\\n    BASEGEOGCRS[\\\"unknown\\\",\\n        DATUM[\\\"World Geodetic System 1984\\\",\\n            ELLIPSOID[\\\"WGS 84\\\",6378137,298.257223563,\\n                LENGTHUNIT[\\\"metre\\\",1]],\\n            ID[\\\"EPSG\\\",6326]],\\n        PRIMEM[\\\"Greenwich\\\",0,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8901]]],\\n    CONVERSION[\\\"UTM zone 19S\\\",\\n        METHOD[\\\"Transverse Mercator\\\",\\n            ID[\\\"EPSG\\\",9807]],\\n        PARAMETER[\\\"Latitude of natural origin\\\",0,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8801]],\\n        PARAMETER[\\\"Longitude of natural origin\\\",-69,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8802]],\\n        PARAMETER[\\\"Scale factor at natural origin\\\",0.9996,\\n            SCALEUNIT[\\\"unity\\\",1],\\n            ID[\\\"EPSG\\\",8805]],\\n        PARAMETER[\\\"False easting\\\",500000,\\n            LENGTHUNIT[\\\"metre\\\",1],\\n            ID[\\\"EPSG\\\",8806]],\\n        PARAMETER[\\\"False northing\\\",10000000,\\n            LENGTHUNIT[\\\"metre\\\",1],\\n            ID[\\\"EPSG\\\",8807]],\\n        ID[\\\"EPSG\\\",17019]],\\n    CS[Cartesian,2],\\n        AXIS[\\\"(E)\\\",east,\\n            ORDER[1],\\n            LENGTHUNIT[\\\"metre\\\",1,\\n                ID[\\\"EPSG\\\",9001]]],\\n        AXIS[\\\"(N)\\\",north,\\n            ORDER[2],\\n            LENGTHUNIT[\\\"metre\\\",1,\\n                ID[\\\"EPSG\\\",9001]]]]\""
  },
  {
    "objectID": "AEMER-2-Presentacion.html#o-se-puede-especificar-con-los-códigos-epsg",
    "href": "AEMER-2-Presentacion.html#o-se-puede-especificar-con-los-códigos-epsg",
    "title": "Análisis de datos espaciales en R",
    "section": "O se puede especificar con los códigos EPSG",
    "text": "O se puede especificar con los códigos EPSG\n\narg_false_utm2 &lt;- arg\ncrs(arg_false_utm2) &lt;- \"EPSG:32719\"\ncrs(arg_false_utm2)\n\n[1] \"PROJCRS[\\\"WGS 84 / UTM zone 19S\\\",\\n    BASEGEOGCRS[\\\"WGS 84\\\",\\n        ENSEMBLE[\\\"World Geodetic System 1984 ensemble\\\",\\n            MEMBER[\\\"World Geodetic System 1984 (Transit)\\\"],\\n            MEMBER[\\\"World Geodetic System 1984 (G730)\\\"],\\n            MEMBER[\\\"World Geodetic System 1984 (G873)\\\"],\\n            MEMBER[\\\"World Geodetic System 1984 (G1150)\\\"],\\n            MEMBER[\\\"World Geodetic System 1984 (G1674)\\\"],\\n            MEMBER[\\\"World Geodetic System 1984 (G1762)\\\"],\\n            MEMBER[\\\"World Geodetic System 1984 (G2139)\\\"],\\n            ELLIPSOID[\\\"WGS 84\\\",6378137,298.257223563,\\n                LENGTHUNIT[\\\"metre\\\",1]],\\n            ENSEMBLEACCURACY[2.0]],\\n        PRIMEM[\\\"Greenwich\\\",0,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],\\n        ID[\\\"EPSG\\\",4326]],\\n    CONVERSION[\\\"UTM zone 19S\\\",\\n        METHOD[\\\"Transverse Mercator\\\",\\n            ID[\\\"EPSG\\\",9807]],\\n        PARAMETER[\\\"Latitude of natural origin\\\",0,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8801]],\\n        PARAMETER[\\\"Longitude of natural origin\\\",-69,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8802]],\\n        PARAMETER[\\\"Scale factor at natural origin\\\",0.9996,\\n            SCALEUNIT[\\\"unity\\\",1],\\n            ID[\\\"EPSG\\\",8805]],\\n        PARAMETER[\\\"False easting\\\",500000,\\n            LENGTHUNIT[\\\"metre\\\",1],\\n            ID[\\\"EPSG\\\",8806]],\\n        PARAMETER[\\\"False northing\\\",10000000,\\n            LENGTHUNIT[\\\"metre\\\",1],\\n            ID[\\\"EPSG\\\",8807]]],\\n    CS[Cartesian,2],\\n        AXIS[\\\"(E)\\\",east,\\n            ORDER[1],\\n            LENGTHUNIT[\\\"metre\\\",1]],\\n        AXIS[\\\"(N)\\\",north,\\n            ORDER[2],\\n            LENGTHUNIT[\\\"metre\\\",1]],\\n    USAGE[\\n        SCOPE[\\\"Navigation and medium accuracy spatial referencing.\\\"],\\n        AREA[\\\"Between 72°W and 66°W, southern hemisphere between 80°S and equator, onshore and offshore. Argentina. Bolivia. Brazil. Chile. Colombia. Peru.\\\"],\\n        BBOX[-80,-72,0,-66]],\\n    ID[\\\"EPSG\\\",32719]]\""
  },
  {
    "objectID": "AEMER-2-Presentacion.html#cambia-el-crs-pero-no-las-coordenadas-en-si",
    "href": "AEMER-2-Presentacion.html#cambia-el-crs-pero-no-las-coordenadas-en-si",
    "title": "Análisis de datos espaciales en R",
    "section": "Cambia el CRS pero no las coordenadas en si",
    "text": "Cambia el CRS pero no las coordenadas en si\n\npar(mfrow = c(1, 4))\nplot(arg)\nplot(arg_sin_crs)\nplot(arg_falso_utm)\nplot(arg_false_utm2)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nCambia la representación gráfica porque las unidades cambian entre CRS (grados o metros). Mientras los metros se representan igual en el eje horizontal y vertical, los grados geográficos no."
  },
  {
    "objectID": "AEMER-2-Presentacion.html#para-convertir-coordenadas-entre-diferentes-crss-tenemos-que-proyectar-los-datos",
    "href": "AEMER-2-Presentacion.html#para-convertir-coordenadas-entre-diferentes-crss-tenemos-que-proyectar-los-datos",
    "title": "Análisis de datos espaciales en R",
    "section": "Para convertir coordenadas entre diferentes CRSs tenemos que proyectar los datos",
    "text": "Para convertir coordenadas entre diferentes CRSs tenemos que proyectar los datos\n\narg_utm19s &lt;- project(arg, \"+proj=utm +zone=19 +south +datum=WGS84 +units=m +no_defs +type=crs\")\narg_4326 &lt;- project(arg, \"EPSG:32719\")\npar(mfrow = c(1, 3))\nplot(arg)\nplot(arg_utm19s)\nplot(arg_4326)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#también-se-puede-filtrar-la-información-para-una-o-varias-entidades-de-los-datos",
    "href": "AEMER-2-Presentacion.html#también-se-puede-filtrar-la-información-para-una-o-varias-entidades-de-los-datos",
    "title": "Análisis de datos espaciales en R",
    "section": "También se puede filtrar la información para una o varias entidades de los datos",
    "text": "También se puede filtrar la información para una o varias entidades de los datos\n\nwhich(arg$NAME_1 == \"Buenos Aires\")\n\n[1] 1\n\n\n\ni &lt;- which(arg$NAME_1 %in% c(\"Buenos Aires\", \"Río Negro\"))\ng &lt;- arg[i,]\nplot(g)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#momento-para-practicar",
    "href": "AEMER-2-Presentacion.html#momento-para-practicar",
    "title": "Análisis de datos espaciales en R",
    "section": "Momento para practicar",
    "text": "Momento para practicar\nEjercicios de clase\nParte 1: Trabajando con datos vectoriales"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#podemos-crear-datos-ráster-desde-cero",
    "href": "AEMER-2-Presentacion.html#podemos-crear-datos-ráster-desde-cero",
    "title": "Análisis de datos espaciales en R",
    "section": "Podemos crear datos ráster desde cero",
    "text": "Podemos crear datos ráster desde cero\n\nr &lt;- rast(ncol = 10, nrow = 10, \n          xmin = -150, xmax = -80, \n          ymin = 20, ymax = 60)\nvalues(r) &lt;- runif(ncell(r))\nr\n\nclass       : SpatRaster \nsize        : 10, 10, 1  (nrow, ncol, nlyr)\nresolution  : 7, 4  (x, y)\nextent      : -150, -80, 20, 60  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (CRS84) (OGC:CRS84) \nsource(s)   : memory\nname        :      lyr.1 \nmin value   : 0.02502502 \nmax value   : 0.99639169"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#veamos-que-aspecto-tienen",
    "href": "AEMER-2-Presentacion.html#veamos-que-aspecto-tienen",
    "title": "Análisis de datos espaciales en R",
    "section": "Veamos que aspecto tienen",
    "text": "Veamos que aspecto tienen\n\nplot(r)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#podemos-operar-con-los-datos-ráster",
    "href": "AEMER-2-Presentacion.html#podemos-operar-con-los-datos-ráster",
    "title": "Análisis de datos espaciales en R",
    "section": "Podemos operar con los datos ráster",
    "text": "Podemos operar con los datos ráster\n\nr2 &lt;- r * r\nr3  &lt;- sqrt(r)\n\n\n\n\n\n\n\nImportant\n\n\nAl operar con datos ráster, las operaciones se aplican sobre cada píxel individualmente. Por ello, sólo se pueden realizar operaciones con ráster que tienen el mismo área y el mismo tamaño de píxel. El resultado, por tanto, es un nuevo objeto ráster con las mismas características geográficas, pero cuyos píxeles tienen los valores resultantes de aplicar las funciones matemáticas."
  },
  {
    "objectID": "AEMER-2-Presentacion.html#si-trabajamos-con-muchas-capas-mejor-crear-un-objeto-multicapa",
    "href": "AEMER-2-Presentacion.html#si-trabajamos-con-muchas-capas-mejor-crear-un-objeto-multicapa",
    "title": "Análisis de datos espaciales en R",
    "section": "Si trabajamos con muchas capas, mejor crear un objeto multicapa",
    "text": "Si trabajamos con muchas capas, mejor crear un objeto multicapa\n\nstck &lt;- c(r, r2, r3)\nstck\n\nclass       : SpatRaster \nsize        : 10, 10, 3  (nrow, ncol, nlyr)\nresolution  : 7, 4  (x, y)\nextent      : -150, -80, 20, 60  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (CRS84) (OGC:CRS84) \nsource(s)   : memory\nnames       :      lyr.1,        lyr.1,     lyr.1 \nmin values  : 0.02502502, 0.0006262514, 0.1581930 \nmax values  : 0.99639169, 0.9927963983, 0.9981942"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#veamos-que-aspecto-tiene-el-objeto-multicapa",
    "href": "AEMER-2-Presentacion.html#veamos-que-aspecto-tiene-el-objeto-multicapa",
    "title": "Análisis de datos espaciales en R",
    "section": "Veamos que aspecto tiene el objeto multicapa",
    "text": "Veamos que aspecto tiene el objeto multicapa\n\nplot(stck)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#también-se-pueden-extraer-capas-de-objetos-multicapa",
    "href": "AEMER-2-Presentacion.html#también-se-pueden-extraer-capas-de-objetos-multicapa",
    "title": "Análisis de datos espaciales en R",
    "section": "También se pueden extraer capas de objetos multicapa",
    "text": "También se pueden extraer capas de objetos multicapa\n\nr2 &lt;- stck[[2]]\nr2\n\nclass       : SpatRaster \nsize        : 10, 10, 1  (nrow, ncol, nlyr)\nresolution  : 7, 4  (x, y)\nextent      : -150, -80, 20, 60  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (CRS84) (OGC:CRS84) \nsource(s)   : memory\nname        :        lyr.1 \nmin value   : 0.0006262514 \nmax value   : 0.9927963983"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#como-antes-lo-normal-es-cargar-datos-generados-en-sig",
    "href": "AEMER-2-Presentacion.html#como-antes-lo-normal-es-cargar-datos-generados-en-sig",
    "title": "Análisis de datos espaciales en R",
    "section": "Como antes, lo normal es cargar datos generados en SIG",
    "text": "Como antes, lo normal es cargar datos generados en SIG\nPara ello podemos descargar datos de distintas fuentes (v.gr. WorldClim)\n\ntavg &lt;- rast(\"data/tavg_arg.tif\")\ntavg\n\nclass       : SpatRaster \nsize        : 4080, 2460, 12  (nrow, ncol, nlyr)\nresolution  : 0.008333333, 0.008333333  (x, y)\nextent      : -74, -53.5, -55.5, -21.5  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \nsource      : tavg_arg.tif \nnames       : ARG_w~avg_1, ARG_w~avg_2, ARG_w~avg_3, ARG_w~avg_4, ARG_w~avg_5, ARG_w~avg_6, ... \nmin values  :       -11.1,       -11.8,       -12.5,       -14.5,       -16.7,       -19.8, ... \nmax values  :        29.2,        28.4,        27.3,        25.0,        22.2,        21.0, ..."
  },
  {
    "objectID": "AEMER-2-Presentacion.html#como-antes-lo-normal-es-cargar-datos-generados-en-sig-1",
    "href": "AEMER-2-Presentacion.html#como-antes-lo-normal-es-cargar-datos-generados-en-sig-1",
    "title": "Análisis de datos espaciales en R",
    "section": "Como antes, lo normal es cargar datos generados en SIG",
    "text": "Como antes, lo normal es cargar datos generados en SIG\n… o podemos usar el paquete geodata para acceder directamente a esa información\n\ntavg &lt;- worldclim_country(\"ARG\", \"tavg\", path = \".\")\ntavg"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#veamos-si-se-parece-a-lo-que-conocemos-1",
    "href": "AEMER-2-Presentacion.html#veamos-si-se-parece-a-lo-que-conocemos-1",
    "title": "Análisis de datos espaciales en R",
    "section": "Veamos si se parece a lo que conocemos…",
    "text": "Veamos si se parece a lo que conocemos…\n\nplot(tavg, range = c(-20, 30))"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#también-podemos-guardar-estos-datos-para-no-tener-que-volver-a-descargarlos",
    "href": "AEMER-2-Presentacion.html#también-podemos-guardar-estos-datos-para-no-tener-que-volver-a-descargarlos",
    "title": "Análisis de datos espaciales en R",
    "section": "También podemos guardar estos datos para no tener que volver a descargarlos",
    "text": "También podemos guardar estos datos para no tener que volver a descargarlos\n\nwriteRaster(tavg, \"raster_tavg_arg.tif\", overwrite = TRUE)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#los-datos-ráster-también-se-pueden-proyectar",
    "href": "AEMER-2-Presentacion.html#los-datos-ráster-también-se-pueden-proyectar",
    "title": "Análisis de datos espaciales en R",
    "section": "Los datos ráster también se pueden proyectar",
    "text": "Los datos ráster también se pueden proyectar\n\ntavg_utm19s &lt;- project(tavg, \"EPSG:32719\")\n\n\n|---------|---------|---------|---------|\n=========================================\n                                          \n\ntavg_utm19s\n\nclass       : SpatRaster \nsize        : 4455, 2454, 12  (nrow, ncol, nlyr)\nresolution  : 871.5251, 871.5251  (x, y)\nextent      : -18378.29, 2120344, 3739870, 7622514  (xmin, xmax, ymin, ymax)\ncoord. ref. : WGS 84 / UTM zone 19S (EPSG:32719) \nsource      : spat_4cf83de2418e_19704_o8up7yuDdJ6XHBX.tif \nnames       : ARG_w~avg_1, ARG_w~avg_2, ARG_w~avg_3, ARG_w~avg_4, ARG_w~avg_5, ARG_w~avg_6, ... \nmin values  :    -10.0483,   -10.73825,   -11.50091,   -13.56357,   -15.82101,   -19.13140, ... \nmax values  :     29.2000,    28.40000,    27.30000,    25.00000,    22.20000,    20.98395, ..."
  },
  {
    "objectID": "AEMER-2-Presentacion.html#ahora-las-coordenadas-si-aparecen-desplazadas",
    "href": "AEMER-2-Presentacion.html#ahora-las-coordenadas-si-aparecen-desplazadas",
    "title": "Análisis de datos espaciales en R",
    "section": "Ahora las coordenadas si aparecen “desplazadas”",
    "text": "Ahora las coordenadas si aparecen “desplazadas”\n\npar(mfrow = c(1, 2))\nplot(tavg[[1]])\nplot(tavg_utm19s[[1]])\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\nNo hay una correspondencia exacta de píxeles. Lo veréis más claro si revisáis las diapositivas anteriores (39 y 43)."
  },
  {
    "objectID": "AEMER-2-Presentacion.html#para-controlar-el-número-de-pixeles-y-su-resolución-podemos-crear-una-plantilla",
    "href": "AEMER-2-Presentacion.html#para-controlar-el-número-de-pixeles-y-su-resolución-podemos-crear-una-plantilla",
    "title": "Análisis de datos espaciales en R",
    "section": "Para controlar el número de pixeles y su resolución podemos crear una “plantilla”",
    "text": "Para controlar el número de pixeles y su resolución podemos crear una “plantilla”\n\nplantilla &lt;- rast(tavg_utm19s)\nres(plantilla) &lt;- 800\nplantilla\n\nclass       : SpatRaster \nsize        : 4853, 2673, 12  (nrow, ncol, nlyr)\nresolution  : 800, 800  (x, y)\nextent      : -18378.29, 2120022, 3739870, 7622270  (xmin, xmax, ymin, ymax)\ncoord. ref. : WGS 84 / UTM zone 19S (EPSG:32719) \n\n\n\ntavg_utm19s_plantilla &lt;- project(tavg, plantilla)\n\n\n|---------|---------|---------|---------|\n=========================================\n                                          \n\ntavg_utm19s_plantilla\n\nclass       : SpatRaster \nsize        : 4853, 2673, 12  (nrow, ncol, nlyr)\nresolution  : 800, 800  (x, y)\nextent      : -18378.29, 2120022, 3739870, 7622270  (xmin, xmax, ymin, ymax)\ncoord. ref. : WGS 84 / UTM zone 19S (EPSG:32719) \nsource      : spat_4cf873c9401d_19704_zxzxx9jyyx6UnnI.tif \nnames       : ARG_w~avg_1, ARG_w~avg_2, ARG_w~avg_3, ARG_w~avg_4, ARG_w~avg_5, ARG_w~avg_6, ... \nmin values  :   -10.77633,   -11.47463,   -12.17463,   -14.20292,   -16.40292,   -19.51049, ... \nmax values  :    29.20000,    28.40000,    27.30000,    25.00000,    22.20000,    20.95103, ..."
  },
  {
    "objectID": "AEMER-2-Presentacion.html#veamos-el-resultado",
    "href": "AEMER-2-Presentacion.html#veamos-el-resultado",
    "title": "Análisis de datos espaciales en R",
    "section": "Veamos el resultado",
    "text": "Veamos el resultado\n\npar(mfrow = c(1, 3))\nplot(tavg[[2]])\nplot(tavg_utm19s[[2]])\nplot(tavg_utm19s_plantilla[[2]])"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#momento-de-practicar-por-vuestra-cuenta",
    "href": "AEMER-2-Presentacion.html#momento-de-practicar-por-vuestra-cuenta",
    "title": "Análisis de datos espaciales en R",
    "section": "Momento de practicar por vuestra cuenta",
    "text": "Momento de practicar por vuestra cuenta\nEjercicios de clase\nParte 2. Manejo de datos ráster"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#podemos-dibujar-los-mapas-en-base-a-información-de-los-atributos",
    "href": "AEMER-2-Presentacion.html#podemos-dibujar-los-mapas-en-base-a-información-de-los-atributos",
    "title": "Análisis de datos espaciales en R",
    "section": "Podemos dibujar los mapas en base a información de los atributos",
    "text": "Podemos dibujar los mapas en base a información de los atributos\n\nplot(arg, \"NAME_1\")"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#podemos-combinar-información-ráster-y-vectorial-en-el-mismo-gráfico",
    "href": "AEMER-2-Presentacion.html#podemos-combinar-información-ráster-y-vectorial-en-el-mismo-gráfico",
    "title": "Análisis de datos espaciales en R",
    "section": "Podemos combinar información ráster y vectorial en el mismo gráfico",
    "text": "Podemos combinar información ráster y vectorial en el mismo gráfico\n\nplot(tavg[[1]])\nplot(arg, add = TRUE)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#también-se-puede-extraer-información-de-atributos-para-trabajar-con-ella",
    "href": "AEMER-2-Presentacion.html#también-se-puede-extraer-información-de-atributos-para-trabajar-con-ella",
    "title": "Análisis de datos espaciales en R",
    "section": "También se puede extraer información de atributos para trabajar con ella",
    "text": "También se puede extraer información de atributos para trabajar con ella\n\nd &lt;- as.data.frame(arg)\nhead(d)\n\n    GID_1 GID_0   COUNTRY                 NAME_1\n1 ARG.1_1   ARG Argentina           Buenos Aires\n2 ARG.2_1   ARG Argentina              Catamarca\n3 ARG.3_1   ARG Argentina                  Chaco\n4 ARG.4_1   ARG Argentina                 Chubut\n5 ARG.5_1   ARG Argentina Ciudad de Buenos Aires\n6 ARG.6_1   ARG Argentina                Córdoba\n                         VARNAME_1 NL_NAME_1           TYPE_1        ENGTYPE_1\n1              Baires|Buenos Ayres      &lt;NA&gt;        Provincia         Province\n2                             &lt;NA&gt;      &lt;NA&gt;        Provincia         Province\n3   El Chaco|Presidente Juan Peron      &lt;NA&gt;        Provincia         Province\n4                             &lt;NA&gt;      &lt;NA&gt;        Provincia         Province\n5 BUENOS AIRES D.F.|Capital Federa      &lt;NA&gt; Distrito Federal Federal District\n6                          Cordova      &lt;NA&gt;        Provincia         Province\n  CC_1 HASC_1 ISO_1\n1 &lt;NA&gt;  AR.BA  AR-B\n2 &lt;NA&gt;  AR.CT  AR-K\n3 &lt;NA&gt;  AR.CC  AR-H\n4 &lt;NA&gt;  AR.CH  AR-U\n5 &lt;NA&gt;  AR.DF  &lt;NA&gt;\n6 &lt;NA&gt;  AR.CB  &lt;NA&gt;"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#o-puedo-extraer-la-información-de-uno-sólo-de-los-atributos",
    "href": "AEMER-2-Presentacion.html#o-puedo-extraer-la-información-de-uno-sólo-de-los-atributos",
    "title": "Análisis de datos espaciales en R",
    "section": "O puedo extraer la información de uno sólo de los atributos",
    "text": "O puedo extraer la información de uno sólo de los atributos\n\narg$NAME_1\n\n [1] \"Buenos Aires\"           \"Catamarca\"              \"Chaco\"                 \n [4] \"Chubut\"                 \"Ciudad de Buenos Aires\" \"Córdoba\"               \n [7] \"Corrientes\"             \"Entre Ríos\"             \"Formosa\"               \n[10] \"Jujuy\"                  \"La Pampa\"               \"La Rioja\"              \n[13] \"Mendoza\"                \"Misiones\"               \"Neuquén\"               \n[16] \"Río Negro\"              \"Salta\"                  \"San Juan\"              \n[19] \"San Luis\"               \"Santa Cruz\"             \"Santa Fe\"              \n[22] \"Santiago del Estero\"    \"Tierra del Fuego\"       \"Tucumán\"               \n\narg[, \"NAME_1\"]\n\n class       : SpatVector \n geometry    : polygons \n dimensions  : 24, 1  (geometries, attributes)\n extent      : -73.56056, -53.59184, -55.06153, -21.78137  (xmin, xmax, ymin, ymax)\n coord. ref. : lon/lat WGS 84 (EPSG:4326) \n names       :       NAME_1\n type        :        &lt;chr&gt;\n values      : Buenos Aires\n                  Catamarca\n                      Chaco\n\n\n\n\n\n\n\n\nWarning\n\n\nNotad que en este caso, las dos formas de extraer información no se comportan exactamente igual"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#también-podemos-extraer-las-características-geográficas-espaciales",
    "href": "AEMER-2-Presentacion.html#también-podemos-extraer-las-características-geográficas-espaciales",
    "title": "Análisis de datos espaciales en R",
    "section": "También podemos extraer las características geográficas (espaciales)",
    "text": "También podemos extraer las características geográficas (espaciales)\n\ng &lt;- geom(arg_utm19s) \nhead(g)\n\n     geom part       x       y hole\n[1,]    1    1 1084262 5487852    0\n[2,]    1    1 1084239 5487854    0\n[3,]    1    1 1084236 5487823    0\n[4,]    1    1 1084213 5487825    0\n[5,]    1    1 1084206 5487732    0\n[6,]    1    1 1084159 5487735    0"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#es-posible-incorporar-información-a-nuestros-datos-vectoriales",
    "href": "AEMER-2-Presentacion.html#es-posible-incorporar-información-a-nuestros-datos-vectoriales",
    "title": "Análisis de datos espaciales en R",
    "section": "Es posible incorporar información a nuestros datos vectoriales",
    "text": "Es posible incorporar información a nuestros datos vectoriales\n\nperim(arg)\n\n [1] 6542992.70 2141772.81 1833193.58 4072812.99   75022.34 1898965.96\n [7] 1546899.19 1391962.59 1887284.93 1410538.99 1816741.56 1613964.82\n[13] 2160729.22 1272355.56 2006884.02 2829645.14 3018996.89 1897253.64\n[19] 1379291.29 3552443.52 2159600.76 1709915.38 2035550.57  814874.32\n\narg$perimetro &lt;- perim(arg)\n\n\nexpanse(arg)\n\n [1] 307005689751 101325015569  99764195922 224358261357    211011750\n [6] 164663835095  88958640476  78008027779  75592720001  53125295415\n[11] 142947760813  91104159966 148772281932  29980009644  94504843837\n[16] 202539975187 155196050532  88821613819  75844534099 242892543838\n[21] 133097028860 136911867268  20884464648  22539627987\n\narg$area &lt;- expanse(arg)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#qué-pasa-si-quiero-borrar-una-columna",
    "href": "AEMER-2-Presentacion.html#qué-pasa-si-quiero-borrar-una-columna",
    "title": "Análisis de datos espaciales en R",
    "section": "¿Qué pasa si quiero borrar una columna?",
    "text": "¿Qué pasa si quiero borrar una columna?\n\narg$area &lt;- NULL"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#a-veces-tenemos-los-datos-en-una-tabla-aparte",
    "href": "AEMER-2-Presentacion.html#a-veces-tenemos-los-datos-en-una-tabla-aparte",
    "title": "Análisis de datos espaciales en R",
    "section": "A veces tenemos los datos en una tabla aparte",
    "text": "A veces tenemos los datos en una tabla aparte\n\n\n\n\n\n\nNote\n\n\nMe descargué datos del censo poblacional del país\n\n\n\n\nd &lt;- read.csv(\"data/c2022_tp_c_resumen.csv\", \n              header = TRUE, \n              encoding = \"latin1\")\nd\n\n                provincia poblacion\n1  Ciudad de Buenos Aires   3121707\n2            Buenos Aires  17523996\n3               Catamarca    429562\n4                   Chaco   1129606\n5                  Chubut    592621\n6                 Córdoba   3840905\n7              Corrientes   1212696\n8              Entre Ríos   1425578\n9                 Formosa    607419\n10                  Jujuy    811611\n11               La Pampa    361859\n12               La Rioja    383865\n13                Mendoza   2043540\n14               Misiones   1278873\n15                Neuquén    710814\n16              Río Negro    750768\n17                  Salta   1441351\n18               San Juan    822853\n19               San Luis    542069\n20             Santa Cruz    337226\n21               Santa Fe   3544908\n22    Santiago del Estero   1060906\n23       Tierra del Fuego    185732\n24                Tucumán   1731820"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#podemos-vincularla-con-los-datos-espaciales",
    "href": "AEMER-2-Presentacion.html#podemos-vincularla-con-los-datos-espaciales",
    "title": "Análisis de datos espaciales en R",
    "section": "Podemos vincularla con los datos espaciales",
    "text": "Podemos vincularla con los datos espaciales\nPara vincularla necesitamos un campo en común\n\narg &lt;- merge(arg, d, \n             by.x = \"NAME_1\", \n             by.y = \"provincia\")\narg\n\n class       : SpatVector \n geometry    : polygons \n dimensions  : 24, 13  (geometries, attributes)\n extent      : -73.56056, -53.59184, -55.06153, -21.78137  (xmin, xmax, ymin, ymax)\n coord. ref. : lon/lat WGS 84 (EPSG:4326) \n names       :       NAME_1   GID_1 GID_0   COUNTRY       VARNAME_1 NL_NAME_1\n type        :        &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;           &lt;chr&gt;     &lt;chr&gt;\n values      : Buenos Aires ARG.1_1   ARG Argentina Baires|Buenos ~        NA\n                  Catamarca ARG.2_1   ARG Argentina              NA        NA\n                      Chaco ARG.3_1   ARG Argentina El Chaco|Presi~        NA\n    TYPE_1 ENGTYPE_1  CC_1 HASC_1 (and 3 more)\n     &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;             \n Provincia  Province    NA  AR.BA             \n Provincia  Province    NA  AR.CT             \n Provincia  Province    NA  AR.CC"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#veamos-la-población-argentina-por-provincias",
    "href": "AEMER-2-Presentacion.html#veamos-la-población-argentina-por-provincias",
    "title": "Análisis de datos espaciales en R",
    "section": "Veamos la población argentina por provincias",
    "text": "Veamos la población argentina por provincias\n\nplot(arg, \"poblacion\", type = \"continuous\")"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#a-veces-necesitamos-fusionar-las-formas-de-varios-polígonos-o-líneas-en-uno-de-mayor-tamaño",
    "href": "AEMER-2-Presentacion.html#a-veces-necesitamos-fusionar-las-formas-de-varios-polígonos-o-líneas-en-uno-de-mayor-tamaño",
    "title": "Análisis de datos espaciales en R",
    "section": "A veces necesitamos fusionar las formas de varios polígonos (o líneas) en uno de mayor tamaño",
    "text": "A veces necesitamos fusionar las formas de varios polígonos (o líneas) en uno de mayor tamaño\n\narg_0 &lt;- aggregate(arg, by = \"COUNTRY\") \nplot(arg_0, col = \"white\", lwd = 2, border = \"cyan\")"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#los-objetos-ráster-también-se-pueden-agregar",
    "href": "AEMER-2-Presentacion.html#los-objetos-ráster-también-se-pueden-agregar",
    "title": "Análisis de datos espaciales en R",
    "section": "Los objetos ráster también se pueden agregar",
    "text": "Los objetos ráster también se pueden agregar\n\n\n\n\n\n\nNote\n\n\nLa agregación aquí trabaja a nivel de píxel, por lo que se usan para cambiar la resolución de los datos.\n\n\n\n\ntavg_10 &lt;- aggregate(tavg, fact = 100, fun = \"mean\", na.rm = TRUE)\npar(mfrow = c(1, 2))\nplot(tavg[[1]])\nplot(tavg_10[[1]])"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#podemos-usar-una-capa-vectorial-como-máscara-para-seleccionar-objetos-dentro-de-otra-capa-vectorial",
    "href": "AEMER-2-Presentacion.html#podemos-usar-una-capa-vectorial-como-máscara-para-seleccionar-objetos-dentro-de-otra-capa-vectorial",
    "title": "Análisis de datos espaciales en R",
    "section": "Podemos usar una capa vectorial como máscara para seleccionar objetos dentro de otra capa vectorial",
    "text": "Podemos usar una capa vectorial como máscara para seleccionar objetos dentro de otra capa vectorial\n\nclip &lt;- rast(ext = c(-70, -60, -47, -30), nrow = 2, ncol = 2)\nvalues(clip) &lt;- 1:4\nnames(clip) &lt;- \"Zona\"\nclip &lt;- as.polygons(clip)\nclip \n\n class       : SpatVector \n geometry    : polygons \n dimensions  : 4, 1  (geometries, attributes)\n extent      : -70, -60, -47, -30  (xmin, xmax, ymin, ymax)\n coord. ref. : lon/lat WGS 84 (CRS84) (OGC:CRS84) \n names       :  Zona\n type        : &lt;int&gt;\n values      :     1\n                   2\n                   3"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#veamos-que-aspecto-presentan-las-dos-capas",
    "href": "AEMER-2-Presentacion.html#veamos-que-aspecto-presentan-las-dos-capas",
    "title": "Análisis de datos espaciales en R",
    "section": "Veamos que aspecto presentan las dos capas",
    "text": "Veamos que aspecto presentan las dos capas\n\nplot(arg) \nplot(clip, add = TRUE, border = \"blue\", lwd = 5)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#hagamos-la-intersección-y-veamos-el-resultado",
    "href": "AEMER-2-Presentacion.html#hagamos-la-intersección-y-veamos-el-resultado",
    "title": "Análisis de datos espaciales en R",
    "section": "Hagamos la intersección y veamos el resultado",
    "text": "Hagamos la intersección y veamos el resultado\n\narg_clip &lt;- intersect(arg, clip) \nplot(arg_clip)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#los-objetos-ráster-también-se-pueden-cortar-con-un-vectorial",
    "href": "AEMER-2-Presentacion.html#los-objetos-ráster-también-se-pueden-cortar-con-un-vectorial",
    "title": "Análisis de datos espaciales en R",
    "section": "Los objetos ráster también se pueden cortar con un vectorial",
    "text": "Los objetos ráster también se pueden cortar con un vectorial\n\ntavg_arg &lt;- mask(tavg, arg)\n\n\n|---------|---------|---------|---------|\n=========================================\n                                          \n\npar(mfrow = c(1, 2))\nplot(tavg[[1]])\nplot(tavg_arg[[1]])"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#otras-veces-necesitamos-combinar-las-formas-de-dos-objetos-vectoriales-diferentes",
    "href": "AEMER-2-Presentacion.html#otras-veces-necesitamos-combinar-las-formas-de-dos-objetos-vectoriales-diferentes",
    "title": "Análisis de datos espaciales en R",
    "section": "Otras veces necesitamos combinar las formas de dos objetos vectoriales diferentes",
    "text": "Otras veces necesitamos combinar las formas de dos objetos vectoriales diferentes\n\nu &lt;- union(arg, clip)\nplot(u, col = sample(rainbow(length(u))))"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#es-muy-útil-extraer-información-de-una-capa-vectorial-en-los-puntos-líneas-o-polígonos-de-otra-capa-vectorial",
    "href": "AEMER-2-Presentacion.html#es-muy-útil-extraer-información-de-una-capa-vectorial-en-los-puntos-líneas-o-polígonos-de-otra-capa-vectorial",
    "title": "Análisis de datos espaciales en R",
    "section": "Es muy útil extraer información de una capa vectorial en los puntos, líneas o polígonos de otra capa vectorial",
    "text": "Es muy útil extraer información de una capa vectorial en los puntos, líneas o polígonos de otra capa vectorial\nPara ello creamos una capa de puntos cualquiera\n\npnts &lt;- spatSample(arg, 100)\n\n\nplot(arg)\nplot(clip, add = TRUE, border = \"cyan\")\nplot(pnts, add = TRUE, col = \"red\")"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#veamos-los-valores-de-las-capas-en-los-puntos",
    "href": "AEMER-2-Presentacion.html#veamos-los-valores-de-las-capas-en-los-puntos",
    "title": "Análisis de datos espaciales en R",
    "section": "Veamos los valores de las capas en los puntos",
    "text": "Veamos los valores de las capas en los puntos\n\npnts_arg &lt;- extract(arg, pnts)\nhead(pnts_arg)\n\n  id.y       NAME_1    GID_1 GID_0   COUNTRY           VARNAME_1 NL_NAME_1\n1    1     Santa Fe ARG.21_1   ARG Argentina            Santa Fé      &lt;NA&gt;\n2    2     Santa Fe ARG.21_1   ARG Argentina            Santa Fé      &lt;NA&gt;\n3    3 Buenos Aires  ARG.1_1   ARG Argentina Baires|Buenos Ayres      &lt;NA&gt;\n4    4 Buenos Aires  ARG.1_1   ARG Argentina Baires|Buenos Ayres      &lt;NA&gt;\n5    5       Chubut  ARG.4_1   ARG Argentina                &lt;NA&gt;      &lt;NA&gt;\n6    6   Corrientes  ARG.7_1   ARG Argentina                &lt;NA&gt;      &lt;NA&gt;\n     TYPE_1 ENGTYPE_1 CC_1 HASC_1 ISO_1 perimetro poblacion\n1 Provincia  Province &lt;NA&gt;  AR.SF  AR-S   2159601   3544908\n2 Provincia  Province &lt;NA&gt;  AR.SF  AR-S   2159601   3544908\n3 Provincia  Province &lt;NA&gt;  AR.BA  AR-B   6542993  17523996\n4 Provincia  Province &lt;NA&gt;  AR.BA  AR-B   6542993  17523996\n5 Provincia  Province &lt;NA&gt;  AR.CH  AR-U   4072813    592621\n6 Provincia  Province &lt;NA&gt;  AR.CN  AR-W   1546899   1212696\n\n\n\npnts_clip &lt;- extract(clip, pnts)\nhead(pnts_clip)\n\n  id.y Zona\n1    1   NA\n2    2   NA\n3    3   NA\n4    4    4\n5    5   NA\n6    6   NA"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#igual-podemos-hacer-con-respecto-a-los-valores-de-los-píxeles-en-cada-punto-de-un-vectorial",
    "href": "AEMER-2-Presentacion.html#igual-podemos-hacer-con-respecto-a-los-valores-de-los-píxeles-en-cada-punto-de-un-vectorial",
    "title": "Análisis de datos espaciales en R",
    "section": "Igual podemos hacer con respecto a los valores de los píxeles en cada punto de un vectorial",
    "text": "Igual podemos hacer con respecto a los valores de los píxeles en cada punto de un vectorial\n\npnts_tavg &lt;- extract(tavg, pnts)\nhead(pnts_tavg)\n\n  ID ARG_wc2.1_30s_tavg_1 ARG_wc2.1_30s_tavg_2 ARG_wc2.1_30s_tavg_3\n1  1                 26.7                 25.9                 23.6\n2  2                 26.4                 25.3                 23.4\n3  3                 21.7                 20.8                 18.4\n4  4                 22.6                 21.6                 18.7\n5  5                 13.5                 13.0                 10.6\n6  6                 26.4                 25.9                 23.9\n  ARG_wc2.1_30s_tavg_4 ARG_wc2.1_30s_tavg_5 ARG_wc2.1_30s_tavg_6\n1                 20.1                 17.4                 14.9\n2                 19.3                 16.5                 13.7\n3                 13.9                 10.7                  7.9\n4                 14.9                 10.8                  7.9\n5                  6.9                  3.7                  0.8\n6                 20.9                 17.7                 15.7\n  ARG_wc2.1_30s_tavg_7 ARG_wc2.1_30s_tavg_8 ARG_wc2.1_30s_tavg_9\n1                 14.3                 16.4                 18.1\n2                 13.3                 15.6                 17.4\n3                  7.7                  8.7                 10.9\n4                  7.3                  8.6                 11.5\n5                  0.4                  2.2                  4.6\n6                 15.1                 16.6                 18.5\n  ARG_wc2.1_30s_tavg_10 ARG_wc2.1_30s_tavg_11 ARG_wc2.1_30s_tavg_12\n1                  20.8                  23.3                  25.6\n2                  20.4                  23.0                  25.4\n3                  13.8                  17.0                  19.7\n4                  15.1                  18.7                  21.3\n5                   7.4                   9.9                  12.0\n6                  20.8                  23.2                  25.5\n\n\n\n\n\n\n\n\nWarning\n\n\nFijaros que extrae un valor de cada capa del ráster stack"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#también-funciona-con-polígonos",
    "href": "AEMER-2-Presentacion.html#también-funciona-con-polígonos",
    "title": "Análisis de datos espaciales en R",
    "section": "También funciona con polígonos",
    "text": "También funciona con polígonos\n\nprov_tavg &lt;- extract(tavg, arg, fun = \"mean\", bind = TRUE, na.rm = TRUE)\nplot(prov_tavg, \"ARG_wc2.1_30s_tavg_1\")"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#los-objetos-ráster-se-puede-operar-matemáticamente-con-ellos-para-generar-estadísticos",
    "href": "AEMER-2-Presentacion.html#los-objetos-ráster-se-puede-operar-matemáticamente-con-ellos-para-generar-estadísticos",
    "title": "Análisis de datos espaciales en R",
    "section": "Los objetos ráster se puede operar matemáticamente con ellos para generar estadísticos",
    "text": "Los objetos ráster se puede operar matemáticamente con ellos para generar estadísticos\nmin, max, mean, prod, sum, median, cv, range, any y all\n\nmin_tavg &lt;- min(tavg)\n\n\n|---------|---------|---------|---------|\n=========================================\n                                          \n\nplot(min_tavg)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#también-hay-multitud-de-funciones-avanzadas-propias-de-un-sig-tanto-para-vectoriales-como-ráster",
    "href": "AEMER-2-Presentacion.html#también-hay-multitud-de-funciones-avanzadas-propias-de-un-sig-tanto-para-vectoriales-como-ráster",
    "title": "Análisis de datos espaciales en R",
    "section": "También hay multitud de funciones avanzadas propias de un SIG, tanto para vectoriales como ráster",
    "text": "También hay multitud de funciones avanzadas propias de un SIG, tanto para vectoriales como ráster\ncrop, trim, merge, disagg, resample, classify o cover\nEl paquete gdistance ofrece análisis de distancias complejos (least cost path, etcétera)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#last-but-not-least-se-pueden-transformar-datos-vectoriales-en-ráster",
    "href": "AEMER-2-Presentacion.html#last-but-not-least-se-pueden-transformar-datos-vectoriales-en-ráster",
    "title": "Análisis de datos espaciales en R",
    "section": "Last but not least! Se pueden transformar datos vectoriales en ráster…",
    "text": "Last but not least! Se pueden transformar datos vectoriales en ráster…\n\narg_raster &lt;- rasterize(arg, tavg, field = \"NAME_1\")\nclass(arg_raster)\n\n[1] \"SpatRaster\"\nattr(,\"package\")\n[1] \"terra\"\n\nplot(arg_raster)"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#y-viceversa",
    "href": "AEMER-2-Presentacion.html#y-viceversa",
    "title": "Análisis de datos espaciales en R",
    "section": "… y viceversa",
    "text": "… y viceversa\n\nas.polygons(tavg[[1]])\n\n class       : SpatVector \n geometry    : polygons \n dimensions  : 41, 1  (geometries, attributes)\n extent      : -74, -53.5, -55.5, -21.5  (xmin, xmax, ymin, ymax)\n coord. ref. : lon/lat WGS 84 (EPSG:4326) \n names       : ARG_wc2.1_30s_tavg_1\n type        :                &lt;int&gt;\n values      :                  -11\n                                -10\n                                 -9"
  },
  {
    "objectID": "AEMER-2-Presentacion.html#hora-de-trabajar-por-vuestra-cuenta",
    "href": "AEMER-2-Presentacion.html#hora-de-trabajar-por-vuestra-cuenta",
    "title": "Análisis de datos espaciales en R",
    "section": "Hora de trabajar por vuestra cuenta…",
    "text": "Hora de trabajar por vuestra cuenta…\nEjercicios de clase\nParte 3. Manipulación de datos ráster y vectoriales"
  },
  {
    "objectID": "AEMER-1-Ejercicios.html",
    "href": "AEMER-1-Ejercicios.html",
    "title": "Análisis Espaciales y Multivariantes con R (AEMeR) Aplicados a Estudios de Biodiversidad",
    "section": "",
    "text": "Nota\n\n\n\nLos ejercicios tendréis que entregarlos para la evaluación del curso. Para ello, crea un script de R con RStudio. Ponle el nombre ejercicios_s1_[tu_nombre]_[tu_apellidos].R. Dicho script deberá estar organizado con comentarios en castellano (poniendo una almohadilla # delante) y justo detrás el enunciado del ejercicio. A continuación, en las siguientes líneas del fichero escribe el código necesario para realizar el ejercicio (ver ejemplo debajo). Además, si el ejercicio pide reflexionar sobre el resultado usa los comentarios (con la #) para indicar tus reflexiones debajo del código. Una vez los tengáis completos podéis mandármelos por email (bv2nilud@uco.es).\n\n# PARTE 1\n\n# Ejercicio 1. Ejecuta las dos líneas de código siguientes y explica que resultado dan y por qué.\n\nseq(1, 40, by = 2)\nseq(1, 40, by = -2)\n\n# Este código da error porque especifiqué algo mal :)\n\n\n\n\nParte 1: Trabajando con vectores\nEjercicio 1. Como muchas funciones en R, seq() es flexible y puede trabajar de formas muy diferentes. Merece la pena entender cómo y porqué funciona de la forma en la que lo hace. Prueba los siguientes comandos:\n\nseq()\nseq(0, 5)\nseq(from = 0, to = 5)\nseq(to = 5)\nseq(to = 5, by = 0.5)\nseq(from = 10, to = 1, length.out = 10)\nseq(from = 5, to = 1, by = -2)\nseq(from = 5, to = 1, by = 2)\n\n\n¿Tienen sentido el resultado de todos estos comandos?\n\nEjercicio 2. Fijaros que se pueden pasar argumentos a una función en R ya sea por su nombre (por ejemplo, to = 5 o by = 0.1), o simplemente colocando los parámetros en el orden correcto. La función seq espera que le des argumentos en el orden from, to y by. Puedes averiguarlo revisando el archivo de ayuda ejecutando el código ?seq. En caso de duda, es más seguro especificar argumentos por su nombre, en cuyo caso cualquier orden está bien. Puedes probar por ejemplo con los siguientes comandos:\n\nseq(4, 8, 1)\nseq(by = 1, to = 8, from = 4)\nseq(to = 8, by = 1, from = 4)\n\n\n¿Se interpretan y devuelven el mismo resultado todos estos comandos?\n\nEjercicio 3. Si se está interesado en generar una secuencia entera, a menudo es más rápido usar un operador (un símbolo reservado para una tarea especial). Aquí, podríamos generar la secuencia anterior usando el operador :.\n\n4:8\n\n\nOtros operadores comunes son +, -, *, /, ^, entre otros. Prueba todos ellos y explica que hace cada uno.\n\nEjercicio 4. Usa seq() y c() para crear un vector llamado a que contenga los enteros del 1 al 10, seguido de los enteros pares del 20 al 30, seguidos de los múltiplos de 5 del 150 al 100 (cuenta regresiva).\n\n¿Cuál es el decimocuarto elemento del vector “a”?\n\n\n\n\n\n\n\nPista\n\n\n\n\n\nAquí deberás usar primero la función seq() para generar las secuencias que necesitas y luego encadenarlas con la función c(). Además, necesitarás hacer uso de los corchetes para extraer la información del vector en las posiciones que te interese. Recuerda que el valor que se especifica dentro del corchete es la posición, o posiciones, que se desea obtener.\n\n\n\n\nUsa length() para averiguar la longitud de a y en una sola línea de código R encuentra los elementos 2º, 23º y 10º de a, en ese mismo orden.\n\nEjercicio 5. Crea cuatro vectores diferentes. El primero llamado “nombres” con los nombres de 15 personas ficticias. El segundo llamado “sexo” con el sexo biológico de esas mismas 15 personas ficticias. El tercero llamado “peso” con el peso en kilogramos de cada una de esas 15 personas. Finalmente, el cuarto vector llamado “altura” deberá tener la estatura en metros de cada uno de ellos. Tened en cuenta, que los 4 vectores se ordenarán de forma correlativa: El primer peso que especifiquéis en el vector “peso” corresponderá al peso de la persona cuyo nombre aparezca en primera posición en el vector “nombres”. Una vez que hayas creado los cuatro vectores, calcula el índice de masa corporal (IMC), usando la siguiente fórmula: IMC = peso / estatura^2. Con esta información crea un vector con los nombres de las personas que hayan obtenido un IMC superior a 25.\n\n\n\n\n\n\nPista\n\n\n\n\n\nAquí tendrás que combinar el uso de varias funciones. Por un lado los operadores condicionales (&lt;, &lt;=, &gt;, &gt;=, ==, !=…) permiten realizar una comprobación sobre todos los valores de un vector. El resultado es un vector de valores lógicos (TRUE o FALSE) dependiendo de si cada elemento cumple la condición, o no. Posteriormente, podrás usar la función which(), que al pasarle un vector de valores lógicos, nos dice que posiciones de dicho vector son TRUE. Esto nos permite generar un índice, al que solemos llamar i, con las posiciones de los valores que nos interesan. Una vez que tengas ese índice, sólo necesitas usarlo dentro de un corchete ([]) para extraer los valores de las posiciones de interés.\n\n\n\n\n\nParte 2: Trabajando con matrices y data.frames\nEjercicio 1. Crea una matriz llamada “A” que tenga 12 filas y 8 columnas, donde cada elemento en la matriz sea un número diferente generado aleatoriamente de una distribución normal con una media de 3 y una desviación estándar de 2. Establece una nueva variable “b” que sea igual al elemento en la quinta fila y la sexta columna de “A”.\n\nTened en cuenta que, una vez que se establece, “b” es independiente de “A”. Mantendrá su valor como esté definido, incluso si los elementos de “A” cambian posteriormente.\n\n\n\n\n\n\n\nPista\n\n\n\n\n\nAquí necesitas usar la función matrix(). Esta función admite una serie de valores, que usará para rellenar los datos de una matriz. Además, admite los argumentos nrow y ncol especificando las dimensiones de dicha matriz. Para generar los valores aleatorios con los que rellenar la matriz puedes usar la función rnorm a la que le puedes pasar el número de valores que necesitas generar, además de los argumentos meany sd, que permiten especificar los valores de la media y desviación estandar, respectivamente, que van a tener el conjunto de datos generado.\n\n\n\n2. Crea un data frame llamado “datos” que contenga la información de los cuatro vectores (i.e., nombres, sexo, altura y peso) de los ejercicios anteriores. Vuelve a calcular el IMC, pero usando los datos almacenados dentro de este data frame e incorpora el resultado como una nueva columna dentro del propio data frame.\n\n\n\n\n\n\nPista\n\n\n\n\n\nAquí deberás usar la función data.frame(). Esta función acepta como argumentos vectores con un nombre. La forma de especificarlos es la siguiente: data.frame(nombre = vector). Puedes especificar tantos argumentos como necesites: data.frame(nombre1 = vector1, nombre2 = vector2, nombre3 = vector3). Recuerda que para extraer la información de las columnas de un data frame, puedes usar tanto corchetes ([]), como $.\n\n\n\n\n\nParte 3: Usando ficheros de datos\n1. Lee en R un fichero de datos de ejemplo (“Abundancia.csv”) que incluye información sobre la abundancia de varias especies en diferentes sitios y llama al data frame resultante “abundancia”. Usa head(), names() y str() para explorar la estructura del data frame “abundancia”.\n\n\n\n\n\n\nPista\n\n\n\n\n\nUsa la función read.csv(path), donde path indica la ubicación del archivo en el disco duro y este argumento se introduce como una cadena de texto (entre comillas). Ten en cuenta que los datos se leen en la memoria RAM del ordenador para que R trabaje con ellos. Los cambios que realices en los datos se almacenan solo en la memoria (NO alteran el archivo de datos original). Esta y otras funciones relacionadas (read.delim(), read.table() y otras) devuelven un data frame. A menudo es una buena idea usar la opción as.is = T, que impide la conversión de variables de tipo character en variables de tipo factor.\n\n\n\n2. Usa la función apply() para calcular la abundancia promedio de cada especie en los 10 sitios.\n\nTen en cuenta que ahora estamos trabajando con un data frame, por lo que no todas las columnas son numéricas. La columna con el nombre de especie no puede realizar operaciones numéricas, por lo que tendrás que excluir esa columna de alguna manera. Para ello puedes usar los corchetes [] de forma similar a como hacíamos para seleccionar elementos dentro de un vector o de una matriz.\n\n\n\n\n\n\n\nPista\n\n\n\n\n\nLa función apply(X, MARGIN, FUN) realiza alguna función (FUN) en cada fila o columna de una matriz o marco de datos (X). MARGIN permite especificar si se debe realizar la función en filas (MARGIN = 1) o en columnas (MARGIN = 2). FUN permite especificar la función a realizar (e.g. FUN = mean, FUN = sd o FUN = sum)\n\nAlgunas funciones útiles para usar aquí son max, min, mean, sum, entre otras. Explora con todas ellas e intenta averiguar que hace cada una.\n\n\n\n\n3. Usa la función which() para determinar qué sitios tienen al menos 10 individuos de Lupinus bicolor. Usa la función which() para determinar qué especies tienen una abundancia de al menos 5 en el Site5.\n\n\n\n\n\n\nPista\n\n\n\n\n\nLa función which(x) devuelve los índices de los elementos de x que son TRUE. Nota que x debe ser un vector o matriz de tipo logic (i.e. todos los valores son TRUE o FALSE).\n\n\n\n4. Crea una nueva matriz llamada “presencia” donde cada elemento de “presencia” es 1, si el valor correspondiente de “abundancia” es mayor que 0, y 0 en el caso contrario.\n\n\n\n\n\n\nPista\n\n\n\n\n\nLa función ifelse(test, yes, no) comprueba una condición (test) y si se cumple devuelve el valor especificado en el argumento yes. Si la condición no se cumple, devuelve el valor especificado en el argumento no. Las condiciones se especifican con los operadores lógicos (v.gr. &gt;) de la siguiente manera: vector &gt; 25 lo que comparará cada valor del objeto vector y lo compara con 25, devolviendo TRUE o FALSE en cada caso dependiendo del resultado de la comparación. Por tanto, el resultado de la función es otro vector de la misma longitud pero de tipo lógico.\n\n\n\n5. Usando la matriz “presencia” que creaste y la función apply(), calcula la riqueza de especies (i.e. el número de especies) de cada sitio.\n6. Escribe la matriz “presencia” que creaste en un archivo “Presencia.csv”.\n\n\n\n\n\n\nPista\n\n\n\n\n\nLa función write.csv(x, file) te permitirá guardar el objeto x con el nombre especificado en file. Al tratarse de un nombre de fichero se especifica entre comillas file = \"fichero.csv\".\n\n\n\n\n\nParte 4: Gráficas y figuras\n1. Dibuja un histograma del vector “a” que creaste en los Ejercicios de la parte 1. Cambia el color de las barras con la opción col y cambia el color de los cuadros con la opción de border. Usa abline() para dibujar la media de la distribución como una línea vertical punteada.\n\nAquí deberás usar la función mean para calcular la media antes.\n\n\n\n\n\n\n\nPista\n\n\n\n\n\nLa función hist (x) dibuja un histograma de los valores almacenados en x. Se puede personalizar de varias maneras, incluido el uso de puntos de cambio para cambiar la definición de la anchura de las barras. Explora las posibilidades con ?hist\nLa función abline (a, b) dibuja una línea en la gráfica ya existente con la pendiente especificada b e intercepto a. También puede dibujar líneas horizontales o verticales. Para ello, en lugar de especificar los argumentos a y b, deberás especificar un valor concreto usando h = valor o v = valor, dependiendo si quieres dibujar una línea horizontal o vertical.\n\n\n\n2. Crea dos variables correlacionadas “x” e “y”, usando x &lt;- rnorm (200) e y = x + rnorm (200). Dibuja “x” vs. “y” y juega con los parámetros de trazado. Usa la abline para incluir una recta de regresión entre las dos variables.\n\n\n\n\n\n\nPista\n\n\n\n\n\nLa función plot (x, y,...) dibuja los datos de x contra los datos de y. Es personalizable utilizando una amplia gama de opciones. Puedes consultar todas las opciones con ?plot\nRecuerda, además, que la función abline (a, b) dibuja una línea en la gráfica ya existente con la pendiente especificada b e intercepto a. Para calcular los valores de la pendiente, puedes usar la función lm(x, y), que genera un modelo lineal entre las dos variables.\n\n\n\n3. Genera un nuevo conjunto de datos “w” correlacionado con “x”, usando w &lt;- 2*x * rnorm(200). Añade esta nuevo conjunto de datos al gráfico anterior pero cambiando el color para que se distingan bien los datos de “y” y “w”. Además, añade otra recta de regresión entre “w” y “x”.\n\n\n\n\n\n\nPista\n\n\n\n\n\nHay varias funciones (points(x, y), segments(x0, y0, x1, y1), arrows(x0, y0, x1, y1), polygons(x, y), que en lugar de generar gráficos nuevos, dibuja puntos, segmentos de línea, flechas o polígonos en el último gráfico que se haya generado."
  },
  {
    "objectID": "AEMER-5-HMSC.html#cargamos-algunos-datos",
    "href": "AEMER-5-HMSC.html#cargamos-algunos-datos",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Cargamos algunos datos",
    "text": "Cargamos algunos datos\n\nlibrary(openxlsx)\nenv &lt;- read.xlsx(\"data/sciberras_ambiente.xlsx\", sheet = 1, rowNames = TRUE)\ncom &lt;- read.xlsx(\"data/sciberras_especies.xlsx\", sheet = 1, rowNames = TRUE)"
  },
  {
    "objectID": "AEMER-5-HMSC.html#preparamos-un-poco-los-datos",
    "href": "AEMER-5-HMSC.html#preparamos-un-poco-los-datos",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Preparamos un poco los datos",
    "text": "Preparamos un poco los datos\n\ncomm &lt;- as.matrix(com)\n\nenvm &lt;- scale(env[, 4:7])\nenvm &lt;- as.data.frame(envm)\n\nsites &lt;- env[, 1:3]"
  },
  {
    "objectID": "AEMER-5-HMSC.html#simulamos-unos-datos-filogenéticos",
    "href": "AEMER-5-HMSC.html#simulamos-unos-datos-filogenéticos",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Simulamos unos datos filogenéticos",
    "text": "Simulamos unos datos filogenéticos\n\nphy &lt;- ape::rcoal(n = ncol(comm), \n                 tip.label = colnames(comm), \n                 br = \"coalescent\")\nplot(phy, no.margin = TRUE)"
  },
  {
    "objectID": "AEMER-5-HMSC.html#definimos-el-diseño-experimental",
    "href": "AEMER-5-HMSC.html#definimos-el-diseño-experimental",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Definimos el diseño experimental",
    "text": "Definimos el diseño experimental\n\nlibrary(Hmsc)\nstudyDesign &lt;- data.frame(rio = as.factor(sites$rio),\n                         mes = as.factor(sites$mes))\nrioL &lt;- HmscRandomLevel(units = levels(sites$rio))\nmesL &lt;- HmscRandomLevel(units = levels(sites$mes))\n\nrioL$nfMin &lt;- 2\nmesL$nfMin &lt;- 2"
  },
  {
    "objectID": "AEMER-5-HMSC.html#especificamos-la-estructura-del-modelo",
    "href": "AEMER-5-HMSC.html#especificamos-la-estructura-del-modelo",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Especificamos la estructura del modelo",
    "text": "Especificamos la estructura del modelo\n\nm0 &lt;- Hmsc(Y = comm, \n         XData = envm, \n         XFormula = ~1,\n         studyDesign = studyDesign, \n         ranLevels = list(rio = rioL, mes = mesL),\n         distr = \"lognormal poisson\")\n\nm1 &lt;- Hmsc(Y = comm, \n           XData = envm,\n           XFormula = ~materia_org + poly(temperatura ,degree = 2, raw = TRUE) + salinidad + ph,\n           distr = \"lognormal poisson\")\n\n\nm_env &lt;- Hmsc(Y = comm, \n          XData = envm,\n          XFormula = ~materia_org + poly(temperatura ,degree = 2, raw = TRUE)  + salinidad + ph,\n          studyDesign = studyDesign, \n          ranLevels = list(rio = rioL, mes = mesL),\n          distr = \"lognormal poisson\")\n\nm_env_phy &lt;- Hmsc(Y = comm,\n         XData = envm, \n         XFormula = ~materia_org + poly(temperatura ,degree = 2, raw = TRUE)  + salinidad + ph,\n         phyloTree = phy,\n         studyDesign = studyDesign, \n         ranLevels = list(rio = rioL, mes = mesL),\n         distr = \"lognormal poisson\")"
  },
  {
    "objectID": "AEMER-5-HMSC.html#definimos-los-parámetros-para-las-cadenas-de-markov-monte-carlo",
    "href": "AEMER-5-HMSC.html#definimos-los-parámetros-para-las-cadenas-de-markov-monte-carlo",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Definimos los parámetros para las Cadenas de Markov Monte Carlo",
    "text": "Definimos los parámetros para las Cadenas de Markov Monte Carlo\n\nsamples &lt;- 100 # Este valor debería ser más alto. Del orden de 100000 hacia arriba.\nthin &lt;- 1 # Este valor también suele ser más alto. Del orden de 50-100 hacia arriba.\ntransient &lt;- 500*thin\nnChains &lt;- 4"
  },
  {
    "objectID": "AEMER-5-HMSC.html#se-calibran-y-estiman-los-parámetros-del-modelos-con-las-mcmc",
    "href": "AEMER-5-HMSC.html#se-calibran-y-estiman-los-parámetros-del-modelos-con-las-mcmc",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Se calibran y estiman los parámetros del modelos con las MCMC",
    "text": "Se calibran y estiman los parámetros del modelos con las MCMC\n\nm0 &lt;- sampleMcmc(m0, \n               thin = thin, \n               samples = samples, \n               transient = transient, \n               nChains = nChains, \n               nParallel = nChains)\nm1 &lt;- sampleMcmc(m1, \n               thin = thin, \n               samples = samples, \n               transient = transient, \n               nChains = nChains, \n               nParallel = nChains)\nm_env &lt;- sampleMcmc(m_env, \n               thin = thin, \n               samples = samples, \n               transient = transient, \n               nChains = nChains, \n               nParallel = nChains)\nm_env_phy &lt;- sampleMcmc(m_env_phy, \n               thin = thin, \n               samples = samples, \n               transient = transient, \n               nChains = nChains, \n               nParallel = nChains)"
  },
  {
    "objectID": "AEMER-5-HMSC.html#convertimos-los-resultados-en-objetos-coda-son-un-tipo-de-datos-de-análisis-bayesianos-en-r",
    "href": "AEMER-5-HMSC.html#convertimos-los-resultados-en-objetos-coda-son-un-tipo-de-datos-de-análisis-bayesianos-en-r",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Convertimos los resultados en objetos CODA, son un tipo de datos de análisis bayesianos en R",
    "text": "Convertimos los resultados en objetos CODA, son un tipo de datos de análisis bayesianos en R\n\nmpost_m0 &lt;- convertToCodaObject(m0)\nmpost_m1 &lt;- convertToCodaObject(m1)\nmpost_m_env &lt;- convertToCodaObject(m_env)\nmpost_m_env_phy &lt;- convertToCodaObject(m_env_phy)"
  },
  {
    "objectID": "AEMER-5-HMSC.html#calculamos-dos-estadísticos-de-calibración-de-mcmc",
    "href": "AEMER-5-HMSC.html#calculamos-dos-estadísticos-de-calibración-de-mcmc",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Calculamos dos estadísticos de calibración de MCMC",
    "text": "Calculamos dos estadísticos de calibración de MCMC\n\nes_m0 &lt;- effectiveSize(mpost_m0$Beta)\nes_m1 &lt;- effectiveSize(mpost_m1$Beta)\nes_m_env &lt;- effectiveSize(mpost_m_env$Beta)\nes_m_env_phy &lt;- effectiveSize(mpost_m_env_phy$Beta)\n\n\ngd_m0 &lt;- gelman.diag(mpost_m0$Beta, multivariate=FALSE)$psrf\ngd_m_env &lt;- gelman.diag(mpost_m_env$Beta, multivariate=FALSE)$psrf\ngd_m_env_phy &lt;- gelman.diag(mpost_m_env_phy$Beta, multivariate=FALSE)$psrf"
  },
  {
    "objectID": "AEMER-5-HMSC.html#dibujamos-las-gráficas-de-esos-dos-parámetros",
    "href": "AEMER-5-HMSC.html#dibujamos-las-gráficas-de-esos-dos-parámetros",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Dibujamos las gráficas de esos dos parámetros",
    "text": "Dibujamos las gráficas de esos dos parámetros\nEffective size debería estar entorno al número de muestras de las MCMC (samples * nChains). El diagnóstico de Gelman debería estar entorno a 1.\n\npar(mfrow=c(3,2))\nhist(es_m0, main=\"ess(beta)\")\nhist(gd_m0, main=\"psrf(beta)\")\nhist(es_m_env, main=\"ess(beta)\")\nhist(gd_m_env, main=\"psrf(beta)\")\nhist(es_m_env_phy, main=\"ess(beta)\")\nhist(gd_m_env_phy, main=\"psrf(beta)\")"
  },
  {
    "objectID": "AEMER-5-HMSC.html#lo-mismo-pero-con-los-valores-de-omega-que-son-los-coeficientes-de-interacciones-entre-especies",
    "href": "AEMER-5-HMSC.html#lo-mismo-pero-con-los-valores-de-omega-que-son-los-coeficientes-de-interacciones-entre-especies",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "… lo mismo pero con los valores de Omega, que son los coeficientes de interacciones entre especies",
    "text": "… lo mismo pero con los valores de Omega, que son los coeficientes de interacciones entre especies\n\npar(mfrow=c(3,2))\nhist(effectiveSize(mpost_m0$Omega[[1]]), main=\"ess(omega)\")\nhist(gelman.diag(mpost_m0$Omega[[1]], multivariate=FALSE)$psrf, main=\"psrf(omega)\")\nhist(effectiveSize(mpost_m_env$Omega[[1]]), main=\"ess(omega)\")\nhist(gelman.diag(mpost_m_env$Omega[[1]], multivariate=FALSE)$psrf, main=\"psrf(omega)\")\nhist(effectiveSize(mpost_m_env_phy$Omega[[1]]), main=\"ess(omega)\")\nhist(gelman.diag(mpost_m_env_phy$Omega[[1]], multivariate=FALSE)$psrf, main=\"psrf(omega)\")"
  },
  {
    "objectID": "AEMER-5-HMSC.html#tambien-podemos-dibujar-algunas-de-las-cadenas-para-visulizar-su-forma-y-ver-si-se-han-estabilizado",
    "href": "AEMER-5-HMSC.html#tambien-podemos-dibujar-algunas-de-las-cadenas-para-visulizar-su-forma-y-ver-si-se-han-estabilizado",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Tambien podemos dibujar algunas de las cadenas para visulizar su forma y ver si se han estabilizado",
    "text": "Tambien podemos dibujar algunas de las cadenas para visulizar su forma y ver si se han estabilizado\n\nplot(mpost_m0$Beta[[1]][,2])"
  },
  {
    "objectID": "AEMER-5-HMSC.html#para-evaluar-el-modelo-en-términos-de-la-distribuciónabundancia-de-las-especies-debemos-hacer-predicciones-primero.",
    "href": "AEMER-5-HMSC.html#para-evaluar-el-modelo-en-términos-de-la-distribuciónabundancia-de-las-especies-debemos-hacer-predicciones-primero.",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Para evaluar el modelo en términos de la distribución/abundancia de las especies, debemos hacer predicciones primero.",
    "text": "Para evaluar el modelo en términos de la distribución/abundancia de las especies, debemos hacer predicciones primero.\n\npreds_m0 &lt;- computePredictedValues(m0)\nevaluateModelFit(hM = m0, predY = preds_m0)\n\n$RMSE\n [1] 176.1891390 113.3819140  19.9669428  25.7011014   1.4737596   1.2348385\n [7]   0.6480730   0.3811005   0.4564347   0.6587788\n\n$SR2\n [1]  0.356940712  0.430461312  0.128924738  0.322763592 -0.002164043\n [6]  0.037958426  0.021168275 -0.011233670 -0.012729935  0.024952644\n\n$O.AUC\n [1] 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5\n\n$O.TjurR2\n [1] 0 0 0 0 0 0 0 0 0 0\n\n$O.RMSE\n [1] 0.5814019 0.5566499 0.8960005 0.8049145 0.9115843 0.9786452 0.9858149\n [8] 0.9786452 0.9786452 0.9858149\n\n$C.SR2\n [1] 0.29267547 0.37953646 0.06156373 0.18173214 0.03169014         NA\n [7]         NA         NA         NA         NA\n\n$C.RMSE\n [1] 213.9207373 135.6517973  44.6541693  42.3680914   3.4559702   5.7187362\n [7]   0.3292153   0.6491780   0.5500465   0.3267268\n\n\n\npreds_m1 &lt;- computePredictedValues(m1)\nevaluateModelFit(hM = m1, predY = preds_m1)\n\n$RMSE\n [1] 441.2060688 124.0995733  19.4937653  26.4232928   1.4626281   1.2348022\n [7]   0.3640992   0.2967474   0.2244434   0.3159712\n\n$SR2\n [1]  0.204591288  0.278270496  0.054234927  0.174222286  0.014584948\n [6]  0.002483611  0.000431332  0.016853408  0.016853408 -0.001397516\n\n$O.AUC\n [1] 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5\n\n$O.TjurR2\n [1] 0 0 0 0 0 0 0 0 0 0\n\n$O.RMSE\n [1] 0.5814019 0.5566499 0.8960005 0.8049145 0.9115843 0.9786452 0.9858149\n [8] 0.9786452 0.9786452 0.9858149\n\n$C.SR2\n [1] 0.14628186 0.14101741 0.14107897 0.01455414 0.01528637 1.00000000\n [7]         NA         NA         NA         NA\n\n$C.RMSE\n [1] 524.8324792 146.1360562  43.4599196  41.0280928   3.4745828   5.7682407\n [7]   0.6688393   0.7343398   0.7696891   0.7293591\n\n\n\npreds_m_env &lt;- computePredictedValues(m_env)\nevaluateModelFit(hM = m_env, predY = preds_m_env)\n\n$RMSE\n [1] 214.2521043 130.1587942  19.5863620  25.1591691   1.4526257   1.2341329\n [7]   0.2062596   0.2163149   0.2065560   0.2045055\n\n$SR2\n [1]  0.353709265  0.465359210  0.105966862  0.356189004  0.004750754\n [6]  0.016176588  0.002915804  0.003373016  0.005147059 -0.022360248\n\n$O.AUC\n [1] 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5\n\n$O.TjurR2\n [1] 0 0 0 0 0 0 0 0 0 0\n\n$O.RMSE\n [1] 0.5814019 0.5566499 0.8960005 0.8049145 0.9115843 0.9786452 0.9858149\n [8] 0.9786452 0.9786452 0.9858149\n\n$C.SR2\n [1]  0.28616426  0.30685626  0.22043589  0.14748104  0.01155869 -0.25000000\n [7]          NA          NA          NA          NA\n\n$C.RMSE\n [1] 262.2170394 156.1560598  43.8217146  41.5482601   3.4437496   5.8868526\n [7]   0.8418953   0.8935774   0.9144335   0.9133166\n\n\n\npreds_m_env_phy &lt;- computePredictedValues(m_env_phy)\nevaluateModelFit(hM = m_env_phy, predY = preds_m_env_phy)\n\n$RMSE\n [1] 184.9757296 117.7430132  19.7549442  24.9857485   1.4323117   1.2353708\n [7]   0.2653488   0.2863802   0.2716157   0.4667680\n\n$SR2\n [1]  0.3622176245  0.4436959604  0.1096460500  0.3544545857  0.0018604838\n [6]  0.0906223152 -0.0008454106  0.0303571429 -0.0134920635 -0.0006211180\n\n$O.AUC\n [1] 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5\n\n$O.TjurR2\n [1] 0 0 0 0 0 0 0 0 0 0\n\n$O.RMSE\n [1] 0.5814019 0.5566499 0.8960005 0.8049145 0.9115843 0.9786452 0.9858149\n [8] 0.9786452 0.9786452 0.9858149\n\n$C.SR2\n [1] 0.28678724 0.29074706 0.18736919 0.08262324 0.34965035 1.00000000\n [7]         NA         NA         NA         NA\n\n$C.RMSE\n [1] 226.7265646 140.8851609  44.3244918  41.4678534   3.3803274   5.5956194\n [7]   0.7923804   0.7004086   0.8523164   0.6153267"
  },
  {
    "objectID": "AEMER-5-HMSC.html#también-es-posible-realizar-evaluación-por-validación-cruzada",
    "href": "AEMER-5-HMSC.html#también-es-posible-realizar-evaluación-por-validación-cruzada",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "También es posible realizar evaluación por validación cruzada",
    "text": "También es posible realizar evaluación por validación cruzada\n\npartition_env &lt;- createPartition(m_env, nfolds = 4)\npreds_m_env = computePredictedValues(m_env, \n                               partition = partition_env,\n                               nParallel = nChains)\n\nCross-validation, fold 1 out of 4\nCross-validation, fold 2 out of 4\nCross-validation, fold 3 out of 4\nCross-validation, fold 4 out of 4\n\nevaluateModelFit(hM = m_env, predY = preds_m_env)\n\n$RMSE\n [1] 282.8160115 212.8376929  19.7716179  28.9426512   1.4990442   1.2413768\n [7]   0.2021352   0.3413352   0.2547289   0.2011618\n\n$SR2\n [1]  0.091806450  0.229641471  0.009505440  0.109193022 -0.001130670\n [6]  0.001379109  0.012577640 -0.078478058  0.001412232  0.004416839\n\n$O.AUC\n [1] 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5\n\n$O.TjurR2\n [1] 0 0 0 0 0 0 0 0 0 0\n\n$O.RMSE\n [1] 0.5814019 0.5566499 0.8960005 0.8049145 0.9115843 0.9786452 0.9858149\n [8] 0.9786452 0.9786452 0.9858149\n\n$C.SR2\n [1]  0.075517452  0.099412806  0.034414750 -0.003949079  0.029590244\n [6]  0.250000000           NA           NA           NA           NA\n\n$C.RMSE\n [1] 335.9812009 254.1607911  43.9448462  44.2574649   3.5478285   5.8558098\n [7]   0.8159360   0.9492204   0.8377288   0.8691425"
  },
  {
    "objectID": "AEMER-5-HMSC.html#una-vez-que-tengamos-un-modelo-sólido.-nos-interesa-ver-que-papel-juegan-las-variables-ambientales-en-las-especiescomunidades.",
    "href": "AEMER-5-HMSC.html#una-vez-que-tengamos-un-modelo-sólido.-nos-interesa-ver-que-papel-juegan-las-variables-ambientales-en-las-especiescomunidades.",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Una vez que tengamos un modelo sólido. Nos interesa ver que papel juegan las variables ambientales en las especies/comunidades.",
    "text": "Una vez que tengamos un modelo sólido. Nos interesa ver que papel juegan las variables ambientales en las especies/comunidades.\n\npostBeta &lt;- getPostEstimate(m_env, parName = \"Beta\")\nplotBeta(m_env, \n         post = postBeta, \n         param = \"Support\", \n         supportLevel = 0.9)"
  },
  {
    "objectID": "AEMER-5-HMSC.html#también-podemos-ver-su-relación-con-la-información-filogenética-si-la-hemos-incluido-en-el-modelo",
    "href": "AEMER-5-HMSC.html#también-podemos-ver-su-relación-con-la-información-filogenética-si-la-hemos-incluido-en-el-modelo",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "También podemos ver su relación con la información filogenética, si la hemos incluido en el modelo",
    "text": "También podemos ver su relación con la información filogenética, si la hemos incluido en el modelo\n\npostBeta &lt;- getPostEstimate(m_env_phy, parName = \"Beta\")\nplotBeta(m_env_phy, \n         post = postBeta, \n         param = \"Support\", \n         supportLevel = 0.9,\n         plotTree = TRUE)\n\n[1] 0.3 1.0 0.0 1.0"
  },
  {
    "objectID": "AEMER-5-HMSC.html#otro-aspecto-importantenovedoso-es-estimar-las-correlaciones-entre-especies",
    "href": "AEMER-5-HMSC.html#otro-aspecto-importantenovedoso-es-estimar-las-correlaciones-entre-especies",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Otro aspecto importante/novedoso es estimar las correlaciones entre especies",
    "text": "Otro aspecto importante/novedoso es estimar las correlaciones entre especies\n\nlibrary(corrplot)\nOmegaCor &lt;- computeAssociations(m_env)\nsupportLevel &lt;- 0.95\ntoPlot &lt;- ((OmegaCor[[1]]$support &gt; supportLevel) +\n           (OmegaCor[[1]]$support &lt; (1-supportLevel)\n            ) &gt; 0) * OmegaCor[[1]]$mean\ncorrplot(toPlot)"
  },
  {
    "objectID": "AEMER-5-HMSC.html#cuando-especificamos-un-modelo-sin-variables-ambientales-estamos-haciendo-un-modelo-unconstrained-o-indirecto.-por-lo-que-se-puede-usar-para-generar-gráficos-de-ordenación.",
    "href": "AEMER-5-HMSC.html#cuando-especificamos-un-modelo-sin-variables-ambientales-estamos-haciendo-un-modelo-unconstrained-o-indirecto.-por-lo-que-se-puede-usar-para-generar-gráficos-de-ordenación.",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Cuando especificamos un modelo sin variables ambientales, estamos haciendo un modelo “unconstrained” o indirecto. Por lo que se puede usar para generar gráficos de ordenación.",
    "text": "Cuando especificamos un modelo sin variables ambientales, estamos haciendo un modelo “unconstrained” o indirecto. Por lo que se puede usar para generar gráficos de ordenación.\n\netaPost &lt;- getPostEstimate(m0, \"Eta\")\nlambdaPost &lt;- getPostEstimate(m0, \"Lambda\")\nbiPlot(m0, \n       etaPost = etaPost, \n       lambdaPost = lambdaPost, \n       factors = c(1,2), \n       \"ph\")"
  },
  {
    "objectID": "AEMER-5-HMSC.html#en-este-tipo-de-modelos-la-importancia-de-cada-variable-se-mide-en-términos-de-variación-explicada-y-se-calcula-con-análisis-de-particionado-de-la-varianza",
    "href": "AEMER-5-HMSC.html#en-este-tipo-de-modelos-la-importancia-de-cada-variable-se-mide-en-términos-de-variación-explicada-y-se-calcula-con-análisis-de-particionado-de-la-varianza",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "En este tipo de modelos, la importancia de cada variable se mide en términos de variación explicada y se calcula con análisis de particionado de la varianza",
    "text": "En este tipo de modelos, la importancia de cada variable se mide en términos de variación explicada y se calcula con análisis de particionado de la varianza\n\nVP = computeVariancePartitioning(m_env)\nplotVariancePartitioning(m_env, VP = VP)"
  },
  {
    "objectID": "AEMER-5-HMSC.html#como-en-los-modelos-de-distribución-de-especies-podemos-calcular-curvas-de-respuesta-de-cada-especiecomunidad-a-las-variables-ambientales",
    "href": "AEMER-5-HMSC.html#como-en-los-modelos-de-distribución-de-especies-podemos-calcular-curvas-de-respuesta-de-cada-especiecomunidad-a-las-variables-ambientales",
    "title": "Modelos Jerárquicos de Comunidades de Especies en R",
    "section": "Como en los Modelos de Distribución de Especies, podemos calcular curvas de respuesta de cada especie/comunidad a las variables ambientales",
    "text": "Como en los Modelos de Distribución de Especies, podemos calcular curvas de respuesta de cada especie/comunidad a las variables ambientales\n\nGradient = constructGradient(m1, focalVariable = \"temperatura\",\nnon.focalVariables = list(\"habitat\"=list(3,\"open\")))\nGradient$XDataNew\n\n    temperatura   materia_org    salinidad          ph\n1  -2.065315281 -0.1667234554 -0.501380262  0.37285247\n2  -1.878146837 -0.1516142030 -0.455942859  0.33906285\n3  -1.690978393 -0.1365049507 -0.410505456  0.30527323\n4  -1.503809949 -0.1213956984 -0.365068052  0.27148361\n5  -1.316641505 -0.1062864460 -0.319630649  0.23769400\n6  -1.129473060 -0.0911771937 -0.274193245  0.20390438\n7  -0.942304616 -0.0760679413 -0.228755842  0.17011476\n8  -0.755136172 -0.0609586890 -0.183318438  0.13632514\n9  -0.567967728 -0.0458494366 -0.137881035  0.10253552\n10 -0.380799284 -0.0307401843 -0.092443632  0.06874590\n11 -0.193630840 -0.0156309320 -0.047006228  0.03495628\n12 -0.006462395 -0.0005216796 -0.001568825  0.00116666\n13  0.180706049  0.0145875727  0.043868579 -0.03262296\n14  0.367874493  0.0296968251  0.089305982 -0.06641258\n15  0.555042937  0.0448060774  0.134743386 -0.10020220\n16  0.742211381  0.0599153298  0.180180789 -0.13399182\n17  0.929379825  0.0750245821  0.225618193 -0.16778144\n18  1.116548270  0.0901338344  0.271055596 -0.20157106\n19  1.303716714  0.1052430868  0.316492999 -0.23536068\n20  1.490885158  0.1203523391  0.361930403 -0.26915030\n\npredY &lt;- predict(m1, \n                XData=Gradient$XDataNew, \n                studyDesign=Gradient$studyDesignNew,\n                ranLevels=Gradient$rLNew, \n                expected=TRUE)\nplotGradient(m1, Gradient, pred=predY, measure=\"S\")\n\n\n\n\n\n\n\n\n[1] 0.9275\n\nplotGradient(m1, Gradient, pred=predY, measure=\"Y\", index = 3)\n\n\n\n\n\n\n\n\n[1] 0.975"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#la-estructura-de-r",
    "href": "AEMER-1-Presentacion_2.html#la-estructura-de-r",
    "title": "Sesión 1: Introducción a R",
    "section": "La estructura de R",
    "text": "La estructura de R\n\nFunciones: ¿qué deseas hacer?\nObjetos: ¿con qué o sobre qué quieres hacerlo?\n\n\nsqrt(16)\n\n[1] 4\n\n\n\n\n\n\n\n\nNote\n\n\nAquí, 16 es el objeto sobre el que aplicamos la función sqrt() (raíz cuadrada)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#la-estructura-de-r-1",
    "href": "AEMER-1-Presentacion_2.html#la-estructura-de-r-1",
    "title": "Sesión 1: Introducción a R",
    "section": "La estructura de R",
    "text": "La estructura de R\n\n\n\n\n\n\n\n\n\n\nObjeto\n\nObjeto\n\n\n\nFunción\n\nFunción\n\n\n\nObjeto-&gt;Función\n\n\n\n\n\nNuevo objeto\n\nNuevo objeto\n\n\n\nFunción-&gt;Nuevo objeto"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#llamar-a-una-función",
    "href": "AEMER-1-Presentacion_2.html#llamar-a-una-función",
    "title": "Sesión 1: Introducción a R",
    "section": "Llamar a una función",
    "text": "Llamar a una función\n\nCall: Una función con un conjunto particular de objetos\n\nfunción( argumento 1 )\n\n\n\nsqrt(16)\n\n[1] 4\n\n\n\n\n\n\n\n\nNote\n\n\nEl resultado de la función se imprime directamente en pantalla"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#asignación-de-valores-a-objetos",
    "href": "AEMER-1-Presentacion_2.html#asignación-de-valores-a-objetos",
    "title": "Sesión 1: Introducción a R",
    "section": "Asignación de valores a objetos",
    "text": "Asignación de valores a objetos\n\nAssign: Una función especial para crear/modificar un objeto\n\nValor específico\nEl resultado de una llamada a una función\n\n\n\nx &lt;- 2\n\n\n\n\n\n\n\nNote\n\n\nFijaros que el resultado no se imprime en pantalla como antes\n\n\n\n\nx\n\n[1] 2"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#múltiples-asignaciones-para-crear-objetos",
    "href": "AEMER-1-Presentacion_2.html#múltiples-asignaciones-para-crear-objetos",
    "title": "Sesión 1: Introducción a R",
    "section": "Múltiples asignaciones para crear objetos",
    "text": "Múltiples asignaciones para crear objetos\n\na = 10\n\na &lt;- 10\n\n10 -&gt; a\n\n\n\n\n\n\n\nNote\n\n\nEstas tres líneas hacen lo mismo"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#números-de-cualquier-tipo",
    "href": "AEMER-1-Presentacion_2.html#números-de-cualquier-tipo",
    "title": "Sesión 1: Introducción a R",
    "section": "Números de cualquier tipo",
    "text": "Números de cualquier tipo\n\n0, 0.2, Inf\n\n\nnumeric_object &lt;- 0.5"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#caracteres-texto",
    "href": "AEMER-1-Presentacion_2.html#caracteres-texto",
    "title": "Sesión 1: Introducción a R",
    "section": "Caracteres (texto)",
    "text": "Caracteres (texto)\n\nTexto libre\n\n\ncharacter_object &lt;- \"Bromus diandrus\"\n\n\n\n\n\n\n\nWarning\n\n\nLas cadenas de texto se ponen entre comillas para poder usar espacios y para distinguirlos de los objetos"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#valores-lógicos",
    "href": "AEMER-1-Presentacion_2.html#valores-lógicos",
    "title": "Sesión 1: Introducción a R",
    "section": "Valores lógicos",
    "text": "Valores lógicos\n\nTRUE (T), FALSE (F)\n\n\nlogical_object &lt;- TRUE"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#factores",
    "href": "AEMER-1-Presentacion_2.html#factores",
    "title": "Sesión 1: Introducción a R",
    "section": "Factores",
    "text": "Factores\n\nCategorías (e.g., “Planta”, “Animal”, “Hongo”)\n\n\nfactor_object &lt;- factor(\"Planta\")"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#no-data",
    "href": "AEMER-1-Presentacion_2.html#no-data",
    "title": "Sesión 1: Introducción a R",
    "section": "No data",
    "text": "No data\n\nNA\n\n\nna_object &lt;- NA"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#qué-hace-interesantes-a-los-objetos",
    "href": "AEMER-1-Presentacion_2.html#qué-hace-interesantes-a-los-objetos",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Qué hace interesantes a los objetos?",
    "text": "¿Qué hace interesantes a los objetos?\n\nEntidad con información\nSe puede reutilizar tantas veces como se quiera\nPertenece a una clase, lo que le dota de propiedades propias\nCada clase tiene una estructura propia"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#class-te-dice-la-clase-de-un-objeto",
    "href": "AEMER-1-Presentacion_2.html#class-te-dice-la-clase-de-un-objeto",
    "title": "Sesión 1: Introducción a R",
    "section": "class() te dice la clase de un objeto",
    "text": "class() te dice la clase de un objeto\n\nclass(numeric_object)\nclass(logical_object)\nclass(factor_object)\nclass(character_object)\nclass(\"x\")\nclass(x)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#cómo-se-reutilizan-los-objetos",
    "href": "AEMER-1-Presentacion_2.html#cómo-se-reutilizan-los-objetos",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Cómo se reutilizan los objetos?",
    "text": "¿Cómo se reutilizan los objetos?\n\na &lt;- a + 1\nb &lt;- a * a\nx &lt;- sqrt(b)\nx\n\n[1] 11"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#muchas-funciones-aceptan-varios-objetos",
    "href": "AEMER-1-Presentacion_2.html#muchas-funciones-aceptan-varios-objetos",
    "title": "Sesión 1: Introducción a R",
    "section": "Muchas funciones aceptan varios objetos",
    "text": "Muchas funciones aceptan varios objetos\n\n\n\n\n\n\n\n\n\n\nObjeto1\n\nObjeto1\n\n\n\nFunción\n\nFunción\n\n\n\nObjeto1-&gt;Función\n\n\n\n\n\nNuevo objeto\n\nNuevo objeto\n\n\n\nFunción-&gt;Nuevo objeto\n\n\n\n\n\nObjeto2\n\nObjeto2\n\n\n\nObjeto2-&gt;Función\n\n\n\n\n\nObjeto3\n\nObjeto3\n\n\n\nObjeto3-&gt;Función"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#se-pasan-varios-objetos-a-las-funciones-separados-por-comas",
    "href": "AEMER-1-Presentacion_2.html#se-pasan-varios-objetos-a-las-funciones-separados-por-comas",
    "title": "Sesión 1: Introducción a R",
    "section": "Se pasan varios objetos a las funciones separados por comas",
    "text": "Se pasan varios objetos a las funciones separados por comas\n\nsum(15, 16, 17, 24, 10)\n\n[1] 82"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#algunos-objetos-son-opciones",
    "href": "AEMER-1-Presentacion_2.html#algunos-objetos-son-opciones",
    "title": "Sesión 1: Introducción a R",
    "section": "Algunos objetos son opciones",
    "text": "Algunos objetos son opciones\nLas opciones modifican el comportamiento de las funciones\n\n\n\n\n\n\n\n\n\n\nObjeto1\n\nObjeto1\n\n\n\nFunción\n\nFunción\n\n\n\nObjeto1-&gt;Función\n\n\n\n\n\nNuevo objeto\n\nNuevo objeto\n\n\n\nFunción-&gt;Nuevo objeto\n\n\n\n\n\nObjeto2\n\nObjeto2\n\n\n\nObjeto2-&gt;Función\n\n\n\n\n\nObjeto3\n\nObjeto3\n\n\n\nObjeto3-&gt;Función\n\n\n\n\n\nOpción\n\nOpción\n\n\n\nOpción-&gt;Función\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nLas opciones en realidad también son objetos. Todos los objetos que requiere una función (i.e. datos y/u opciones) se conocen como argumentos."
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#las-opciones-también-se-separan-por-comas",
    "href": "AEMER-1-Presentacion_2.html#las-opciones-también-se-separan-por-comas",
    "title": "Sesión 1: Introducción a R",
    "section": "Las opciones también se separan por comas",
    "text": "Las opciones también se separan por comas\n\nseveral_data &lt;- c(15, 16, 17, 24, 10, NA)\nmean(several_data)\n\n[1] NA"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#las-opciones-también-se-separan-por-comas-1",
    "href": "AEMER-1-Presentacion_2.html#las-opciones-también-se-separan-por-comas-1",
    "title": "Sesión 1: Introducción a R",
    "section": "Las opciones también se separan por comas",
    "text": "Las opciones también se separan por comas\n\nseveral_data &lt;- c(15, 16, 17, 24, 10, NA)\nmean(several_data)\n\n[1] NA\n\nmean(several_data, na.rm = TRUE)\n\n[1] 16.4"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#cómo-se-cuales-son-los-argumentos-de-una-función",
    "href": "AEMER-1-Presentacion_2.html#cómo-se-cuales-son-los-argumentos-de-una-función",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Cómo se cuales son los argumentos de una función?",
    "text": "¿Cómo se cuales son los argumentos de una función?\n\nMuchas funciones tendrán valores predeterminados para los argumentos\n\nSi no se especifica, el argumento tomará ese valor\n\nPara encontrar estos valores y una lista de todos los argumentos, puedes usar cualquiera de las siguientes opciones:\n\n?funcion\nhelp(funcion)\nUsar la pestaña Help de Rstudio\n\n\n\nhelp(mean)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#los-objetos-pueden-tener-muchos-datos-organizados-en-dimensiones",
    "href": "AEMER-1-Presentacion_2.html#los-objetos-pueden-tener-muchos-datos-organizados-en-dimensiones",
    "title": "Sesión 1: Introducción a R",
    "section": "Los objetos pueden tener muchos datos organizados en dimensiones",
    "text": "Los objetos pueden tener muchos datos organizados en dimensiones"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#vectores-numéricos",
    "href": "AEMER-1-Presentacion_2.html#vectores-numéricos",
    "title": "Sesión 1: Introducción a R",
    "section": "Vectores numéricos",
    "text": "Vectores numéricos\nSe pueden crear secuencias de números de forma sencilla\n\na &lt;- 1:4\na\n\n[1] 1 2 3 4"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#vectores-numéricos-1",
    "href": "AEMER-1-Presentacion_2.html#vectores-numéricos-1",
    "title": "Sesión 1: Introducción a R",
    "section": "Vectores numéricos",
    "text": "Vectores numéricos\nSe pueden crear secuencias con la función seq()\n\na &lt;- seq(1, 10)\na\n\n [1]  1  2  3  4  5  6  7  8  9 10\n\n\n\n\n\n\n\n\nNote\n\n\nComo veremos más adelante. Esta función es muy flexible y permite crear secuencias más complejas."
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#vectores-numéricos-2",
    "href": "AEMER-1-Presentacion_2.html#vectores-numéricos-2",
    "title": "Sesión 1: Introducción a R",
    "section": "Vectores numéricos",
    "text": "Vectores numéricos\nSe pueden crear secuencias de números no consecutivos con la función c()\n\na &lt;- c(4, 2, 5, 10)\na\n\n[1]  4  2  5 10"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#vectores-de-texto-y-factores",
    "href": "AEMER-1-Presentacion_2.html#vectores-de-texto-y-factores",
    "title": "Sesión 1: Introducción a R",
    "section": "Vectores de texto y factores",
    "text": "Vectores de texto y factores\n\nspecies &lt;- c(\"Bromus diandrus\", \"Bromus carinatus\", \"Bison bison\")\n\nkingdom &lt;- factor(c(\"Planta\", \"Planta\", \"Animal\"))"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#valores-lógicos-1",
    "href": "AEMER-1-Presentacion_2.html#valores-lógicos-1",
    "title": "Sesión 1: Introducción a R",
    "section": "Valores lógicos",
    "text": "Valores lógicos\nOperadores condicionales: &lt; &gt; &lt;= &gt;= == != %in%\n\n3 &lt; 5\n\n[1] TRUE"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#valores-lógicos-2",
    "href": "AEMER-1-Presentacion_2.html#valores-lógicos-2",
    "title": "Sesión 1: Introducción a R",
    "section": "Valores lógicos",
    "text": "Valores lógicos\nOperadores condicionales: &lt; &gt; &lt;= &gt;= == != %in%\n\n3 &lt; 5\n\n[1] TRUE\n\n3 &gt; 5\n\n[1] FALSE"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#valores-lógicos-3",
    "href": "AEMER-1-Presentacion_2.html#valores-lógicos-3",
    "title": "Sesión 1: Introducción a R",
    "section": "Valores lógicos",
    "text": "Valores lógicos\nOperadores condicionales: &lt; &gt; &lt;= &gt;= == != %in%\n\n3 &lt; 5\n\n[1] TRUE\n\n3 &gt; 5\n\n[1] FALSE\n\nx &lt;- 5\nx == 5\n\n[1] TRUE"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#valores-lógicos-4",
    "href": "AEMER-1-Presentacion_2.html#valores-lógicos-4",
    "title": "Sesión 1: Introducción a R",
    "section": "Valores lógicos",
    "text": "Valores lógicos\nOperadores condicionales: &lt; &gt; &lt;= &gt;= == != %in%\n\n3 &lt; 5\n\n[1] TRUE\n\n3 &gt; 5\n\n[1] FALSE\n\nx &lt;- 5\nx == 5\n\n[1] TRUE\n\nx != 5\n\n[1] FALSE"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#vectores-lógicos",
    "href": "AEMER-1-Presentacion_2.html#vectores-lógicos",
    "title": "Sesión 1: Introducción a R",
    "section": "Vectores lógicos",
    "text": "Vectores lógicos\n\nx &lt;- 1:10\nx &lt; 5\n\n [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#vectores-lógicos-1",
    "href": "AEMER-1-Presentacion_2.html#vectores-lógicos-1",
    "title": "Sesión 1: Introducción a R",
    "section": "Vectores lógicos",
    "text": "Vectores lógicos\n\nx &lt;- 1:10\nx &lt; 5\n\n [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE\n\nx == 2\n\n [1] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#vectores-lógicos-2",
    "href": "AEMER-1-Presentacion_2.html#vectores-lógicos-2",
    "title": "Sesión 1: Introducción a R",
    "section": "Vectores lógicos",
    "text": "Vectores lógicos\n\nx &lt;- 1:10\nx &lt; 5\n\n [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE\n\nx == 2\n\n [1] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n\nspecies == (\"Bromus diandrus\")\n\n[1]  TRUE FALSE FALSE"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#extrayendo-valores-de-vectores",
    "href": "AEMER-1-Presentacion_2.html#extrayendo-valores-de-vectores",
    "title": "Sesión 1: Introducción a R",
    "section": "Extrayendo valores de vectores",
    "text": "Extrayendo valores de vectores\n\nR usa [ ] para referirse a elementos de objetos\n\nV[5] devuelve el 5º elemento de un vector llamado V\n\nEl número entre corchetes se denomina índice (i)\n\n\na &lt;- c(3, 2, 7, 8)\n\na[3]\n# ????\n\na[1:3]\n# ????\n\na[seq(2, 4)]\n# ???"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#los-objetos-pueden-tener-muchos-datos-organizados-en-dimensiones-1",
    "href": "AEMER-1-Presentacion_2.html#los-objetos-pueden-tener-muchos-datos-organizados-en-dimensiones-1",
    "title": "Sesión 1: Introducción a R",
    "section": "Los objetos pueden tener muchos datos organizados en dimensiones",
    "text": "Los objetos pueden tener muchos datos organizados en dimensiones"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#matrices",
    "href": "AEMER-1-Presentacion_2.html#matrices",
    "title": "Sesión 1: Introducción a R",
    "section": "Matrices",
    "text": "Matrices\n\nA &lt;- matrix(data = 0, nrow = 6, ncol = 5)\nA\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    0    0    0    0    0\n[2,]    0    0    0    0    0\n[3,]    0    0    0    0    0\n[4,]    0    0    0    0    0\n[5,]    0    0    0    0    0\n[6,]    0    0    0    0    0"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#matrices-1",
    "href": "AEMER-1-Presentacion_2.html#matrices-1",
    "title": "Sesión 1: Introducción a R",
    "section": "Matrices",
    "text": "Matrices\n\nA &lt;- matrix(data = 1:30, nrow = 6, ncol = 5)\n# ????"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#matrices-2",
    "href": "AEMER-1-Presentacion_2.html#matrices-2",
    "title": "Sesión 1: Introducción a R",
    "section": "Matrices",
    "text": "Matrices\n\nA &lt;- matrix(data = 1:30, nrow = 6, ncol = 5)\nA\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    7   13   19   25\n[2,]    2    8   14   20   26\n[3,]    3    9   15   21   27\n[4,]    4   10   16   22   28\n[5,]    5   11   17   23   29\n[6,]    6   12   18   24   30"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#extrayendo-valores-de-matrices",
    "href": "AEMER-1-Presentacion_2.html#extrayendo-valores-de-matrices",
    "title": "Sesión 1: Introducción a R",
    "section": "Extrayendo valores de matrices",
    "text": "Extrayendo valores de matrices\n\nR usa [ ] para referirse a elementos de objetos\nEl orden es siempre [filas, columnas]\n\nM[2,3] devuelve el elemento de la 2ª fila, 3ª columna de la matriz M\nM[2,] devuelve todos los elementos de la 2ª fila de la matriz M\n\nLos números entre corchetes se denominan índices (i y j)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#extrayendo-valores-de-matrices-1",
    "href": "AEMER-1-Presentacion_2.html#extrayendo-valores-de-matrices-1",
    "title": "Sesión 1: Introducción a R",
    "section": "Extrayendo valores de matrices",
    "text": "Extrayendo valores de matrices\n\nA &lt;- matrix(data = 1:30, nrow = 6, ncol = 5)\n\nA[3, 4]\n\n[1] 21"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#extrayendo-valores-de-matrices-2",
    "href": "AEMER-1-Presentacion_2.html#extrayendo-valores-de-matrices-2",
    "title": "Sesión 1: Introducción a R",
    "section": "Extrayendo valores de matrices",
    "text": "Extrayendo valores de matrices\n\nA &lt;- matrix(data = 1:30, nrow = 6, ncol = 5)\n\nA[3, 4]\n\nA[c(1:3), 4]\n???"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#extrayendo-valores-de-matrices-3",
    "href": "AEMER-1-Presentacion_2.html#extrayendo-valores-de-matrices-3",
    "title": "Sesión 1: Introducción a R",
    "section": "Extrayendo valores de matrices",
    "text": "Extrayendo valores de matrices\n\nA &lt;- matrix(data = 1:30, nrow = 6, ncol = 5)\n\nA[3, 4]\n\n[1] 21\n\nA[c(1:3), 4]\n\n[1] 19 20 21"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#pueden-los-objetos-mezclar-tipos-de-datos",
    "href": "AEMER-1-Presentacion_2.html#pueden-los-objetos-mezclar-tipos-de-datos",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Pueden los objetos mezclar tipos de datos?",
    "text": "¿Pueden los objetos mezclar tipos de datos?"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#data-frame",
    "href": "AEMER-1-Presentacion_2.html#data-frame",
    "title": "Sesión 1: Introducción a R",
    "section": "Data frame",
    "text": "Data frame\n\nUn data frame es una lista de vectores de la misma longitud\nSon equivalente a matrices con diferentes tipos de datos en cada columna\nSe usan para almacenar diferentes variables a partir de las mismas mediciones"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#data-frame-1",
    "href": "AEMER-1-Presentacion_2.html#data-frame-1",
    "title": "Sesión 1: Introducción a R",
    "section": "Data frame",
    "text": "Data frame\n\ndf &lt;- data.frame(\n    name = c(\"Diego\", \"Lucía\", \"Paco\"),\n    age = c(27, 23, 24)\n    )"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#extrayendo-información-de-un-data-frame",
    "href": "AEMER-1-Presentacion_2.html#extrayendo-información-de-un-data-frame",
    "title": "Sesión 1: Introducción a R",
    "section": "Extrayendo información de un data frame",
    "text": "Extrayendo información de un data frame\n\nExtracción de columnas\n\nData$columnname\nData[,”columnname”]\nData[,3]\n\nNombre de filas\n\nrownames(Data)\n\nNombre de columnas\n\ncolnames(Data)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#archivos-objetos-y-proyectos",
    "href": "AEMER-1-Presentacion_2.html#archivos-objetos-y-proyectos",
    "title": "Sesión 1: Introducción a R",
    "section": "Archivos, objetos y proyectos",
    "text": "Archivos, objetos y proyectos\n\nLos tres son cosas diferentes en R…\n\n\n\n\nLos archivos son scripts (e.g., un archivo de texto) o archivos de datos (e.g., Excel) en el disco duro\nLos objetos son datos en la sesión de R. Sólo existen en la memoria temporal del ordenador\nUn proyecto es una carpeta con un montón de archivos y objetos de R\n\nEs recomendable usar una estructura de carpetas lógica\n\n\n\n\n\nCarpeta/\n\nDatos/\nFiguras/\nTablas/\nScript_1.R\nScript_2.R\nScript_3.R"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#entorno-sesión-o-environment-de-r",
    "href": "AEMER-1-Presentacion_2.html#entorno-sesión-o-environment-de-r",
    "title": "Sesión 1: Introducción a R",
    "section": "Entorno, sesión o environment de R",
    "text": "Entorno, sesión o environment de R\n\nEl espacio temporal en la memoria del equipo donde R guarda objetos mientras ejecuta un análisis\nEstá limitado en tamaño por la memoria RAM del ordenador"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#funciones-útiles-para-controlar-la-sesión-de-trabajo",
    "href": "AEMER-1-Presentacion_2.html#funciones-útiles-para-controlar-la-sesión-de-trabajo",
    "title": "Sesión 1: Introducción a R",
    "section": "Funciones útiles para controlar la sesión de trabajo",
    "text": "Funciones útiles para controlar la sesión de trabajo\n\nPara enumerar objetos en la sesión de R: ls()\nPara eliminar objetos de la sesión de R: rm()\nPara guardar la sesión de R: save.image()\nPara salir de la sesión de R: q()\n\n\nls()\nrm(numeric_object, character_object)\nsave.image()\nrm(list=ls())"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#directorio-de-trabajo-carpeta-del-proyecto",
    "href": "AEMER-1-Presentacion_2.html#directorio-de-trabajo-carpeta-del-proyecto",
    "title": "Sesión 1: Introducción a R",
    "section": "Directorio de trabajo (= carpeta del proyecto)",
    "text": "Directorio de trabajo (= carpeta del proyecto)\n\nEs el directorio donde R busca archivos o escribe archivos\nEn una sesión de R, las referencias a archivos se hacen desde el directorio de trabajo\n\nEs conveniente usar rutas relativas a los ficheros\n\n\ngetwd() obtener el directorio de trabajo\nsetwd() lo cambia"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#trabajar-con-datos",
    "href": "AEMER-1-Presentacion_2.html#trabajar-con-datos",
    "title": "Sesión 1: Introducción a R",
    "section": "Trabajar con datos",
    "text": "Trabajar con datos\n\nLectura de datos del disco duro\nR lo almacena como un objeto (guardado en la memoria de su computadora)\nTrata ese objeto como cualquier otro objeto\nLos cambios en el objeto están restringidos al objeto, no afectan a los datos del disco duro\n\n\nmyData &lt;- read.csv(\"some data.csv\")"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#escribir-un-archivo-de-datos",
    "href": "AEMER-1-Presentacion_2.html#escribir-un-archivo-de-datos",
    "title": "Sesión 1: Introducción a R",
    "section": "Escribir un archivo de datos",
    "text": "Escribir un archivo de datos\n\nwrite.csv(myData, \"updated data.csv\")"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#mucho-más-conveniente-usar-ficheros-excel",
    "href": "AEMER-1-Presentacion_2.html#mucho-más-conveniente-usar-ficheros-excel",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Mucho más conveniente usar ficheros excel?",
    "text": "¿Mucho más conveniente usar ficheros excel?\n\ninstall.packages(\"openxlsx\")\nlibrary(openxlsx)\ndata &lt;- read.xlsx(\"data\", sheet = 1)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#scripts",
    "href": "AEMER-1-Presentacion_2.html#scripts",
    "title": "Sesión 1: Introducción a R",
    "section": "Scripts",
    "text": "Scripts\n\nArchivos de texto\nCon llamadas a funciones (código)\nOrdenado y secuencial:\n\nCargar datos\nModificar datos\nAnálisis de datos\nGuardar/trazar resultados\n\nPuede/debe contener comentarios legibles por humanos\n\nUsar # antes del comentario\n\n\n\n\n\n\n\n\nNote\n\n\nNo se manejan desde la consola de R, si no desde la interfaz de Rstudio."
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#seguimos-practicando",
    "href": "AEMER-1-Presentacion_2.html#seguimos-practicando",
    "title": "Sesión 1: Introducción a R",
    "section": "Seguimos practicando",
    "text": "Seguimos practicando\n\nEjercicios\nParte 3: Usando ficheros de datos"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#qué-son-los-paquetes-en-r",
    "href": "AEMER-1-Presentacion_2.html#qué-son-los-paquetes-en-r",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Qué son los paquetes en R?",
    "text": "¿Qué son los paquetes en R?\nConjuntos de funciones para un objetivo concreto"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#donde-se-encuentran-esos-paquetes",
    "href": "AEMER-1-Presentacion_2.html#donde-se-encuentran-esos-paquetes",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Donde se encuentran esos paquetes?",
    "text": "¿Donde se encuentran esos paquetes?\nSe encuentran recopilados en un repositorio llamado CRAN (Comprehensive R Archive Network)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#cómo-instalo-paquetes-de-cran",
    "href": "AEMER-1-Presentacion_2.html#cómo-instalo-paquetes-de-cran",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Cómo instalo paquetes de CRAN?",
    "text": "¿Cómo instalo paquetes de CRAN?\n\ninstall.packages(\"openxlsx\")\n\npackage 'openxlsx' successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n    C:\\Users\\diego\\AppData\\Local\\Temp\\RtmpUbERGM\\downloaded_packages"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#cómo-uso-las-funciones-de-una-librería",
    "href": "AEMER-1-Presentacion_2.html#cómo-uso-las-funciones-de-una-librería",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Cómo uso las funciones de una librería?",
    "text": "¿Cómo uso las funciones de una librería?\nTienes dos opciones, dependiendo de si…\n\nVas usar sus funciones de forma continuada\nSólo quieres usar una función de forma puntual\n\n\n# Uso intensivo de sus funciones\nlibrary(openxlsx)\nread.xlsx()\nwrite.xlsx()\n\n# Uso puntual de una función\nopenxlsx::read.xlsx()"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#puedo-encontrar-paquetes-en-algún-otro-sitio",
    "href": "AEMER-1-Presentacion_2.html#puedo-encontrar-paquetes-en-algún-otro-sitio",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Puedo encontrar paquetes en algún otro sitio?",
    "text": "¿Puedo encontrar paquetes en algún otro sitio?\nSi. Puedes encontrar paquetes sin organizar en internet. Algunos sitios frecuentes son GitHub, GitLab, o similares."
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#cómo-puedo-instalar-paquetes-de-github",
    "href": "AEMER-1-Presentacion_2.html#cómo-puedo-instalar-paquetes-de-github",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Cómo puedo instalar paquetes de GitHub?",
    "text": "¿Cómo puedo instalar paquetes de GitHub?\n\ninstall.packages(\"devtools\")\n\npackage 'devtools' successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n    C:\\Users\\diego\\AppData\\Local\\Temp\\RtmpUbERGM\\downloaded_packages"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#cómo-puedo-instalar-paquetes-de-github-1",
    "href": "AEMER-1-Presentacion_2.html#cómo-puedo-instalar-paquetes-de-github-1",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Cómo puedo instalar paquetes de GitHub?",
    "text": "¿Cómo puedo instalar paquetes de GitHub?\n\ninstall.packages(\"devtools\")\n\npackage 'devtools' successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n    C:\\Users\\diego\\AppData\\Local\\Temp\\RtmpUbERGM\\downloaded_packages\n\nlibrary(devtools)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#cómo-puedo-instalar-paquetes-de-github-2",
    "href": "AEMER-1-Presentacion_2.html#cómo-puedo-instalar-paquetes-de-github-2",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Cómo puedo instalar paquetes de GitHub?",
    "text": "¿Cómo puedo instalar paquetes de GitHub?\n\ninstall.packages(\"devtools\")\nlibrary(devtools)\n\ninstall_github(\"colearendt/xlsx\")\n## o\ndevtools::install_github(\"colearendt/xlsx\")"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#generación-de-gráficos-nuevos",
    "href": "AEMER-1-Presentacion_2.html#generación-de-gráficos-nuevos",
    "title": "Sesión 1: Introducción a R",
    "section": "Generación de gráficos nuevos",
    "text": "Generación de gráficos nuevos\nplot() es una función genérica que funciona con muchos objetos diferentes\n\n# plot(x, y)\nplot(5, 1)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#histogramas",
    "href": "AEMER-1-Presentacion_2.html#histogramas",
    "title": "Sesión 1: Introducción a R",
    "section": "Histogramas",
    "text": "Histogramas\n\nx &lt;- rnorm(10, 5, 3)\n\nhist(x)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#gráficas-de-barras",
    "href": "AEMER-1-Presentacion_2.html#gráficas-de-barras",
    "title": "Sesión 1: Introducción a R",
    "section": "Gráficas de barras",
    "text": "Gráficas de barras\n\nx &lt;- rnorm(10, 5, 3)\nnames(x) &lt;- paste0(\"tr_\", 1:10)\n\nbarplot(x)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#gráficas-de-barras-apiladas-o-paralelas",
    "href": "AEMER-1-Presentacion_2.html#gráficas-de-barras-apiladas-o-paralelas",
    "title": "Sesión 1: Introducción a R",
    "section": "Gráficas de barras apiladas o paralelas",
    "text": "Gráficas de barras apiladas o paralelas\n\nx &lt;- matrix(rnorm(30, 5, 3), nrow = 3, ncol = 10)\ncolnames(x) &lt;- paste0(\"tr_\", 1:10)\nrownames(x) &lt;- c(\"high\", \"med\", \"low\")\n\nbarplot(x, legend = TRUE)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#boxplots",
    "href": "AEMER-1-Presentacion_2.html#boxplots",
    "title": "Sesión 1: Introducción a R",
    "section": "Boxplots",
    "text": "Boxplots\n\nx &lt;- rnorm(30, 5, 3)\ny &lt;- rep(c(\"high\", \"med\", \"low\"), 10)\ndat &lt;- data.frame(size = x, group = y)\n\nboxplot(size ~ group, dat)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#puedo-pasarle-múltiples-valores",
    "href": "AEMER-1-Presentacion_2.html#puedo-pasarle-múltiples-valores",
    "title": "Sesión 1: Introducción a R",
    "section": "Puedo pasarle múltiples valores",
    "text": "Puedo pasarle múltiples valores\n\nx &lt;- 1:10\ny &lt;- 10:1\n\nplot(x, y)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#puedo-pasarle-múltiples-valores-1",
    "href": "AEMER-1-Presentacion_2.html#puedo-pasarle-múltiples-valores-1",
    "title": "Sesión 1: Introducción a R",
    "section": "Puedo pasarle múltiples valores",
    "text": "Puedo pasarle múltiples valores\n\nx &lt;- 1:10\ny &lt;- 10:1\n\nplot(x, y, main = \"A plot\", xlab = \"Temperature\",\n    ylab = \"Pirates\")"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#puedo-cambiar-la-conexión-entre-puntos",
    "href": "AEMER-1-Presentacion_2.html#puedo-cambiar-la-conexión-entre-puntos",
    "title": "Sesión 1: Introducción a R",
    "section": "Puedo cambiar la conexión entre puntos…",
    "text": "Puedo cambiar la conexión entre puntos…\n\n\nx &lt;- 1:10\ny &lt;- 10:1\n\npar(mfrow = c(2, 3))\nplot(x, y)\nplot(x, y, type = \"l\")\nplot(x, y, type = \"b\")\nplot(x, y, type = \"h\")\nplot(x, y, type = \"o\")\nplot(x, y, type = \"s\")"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#pero-cuidado-con-el-orden-de-los-datos",
    "href": "AEMER-1-Presentacion_2.html#pero-cuidado-con-el-orden-de-los-datos",
    "title": "Sesión 1: Introducción a R",
    "section": "… pero cuidado con el orden de los datos",
    "text": "… pero cuidado con el orden de los datos\n\n\nx &lt;- sample(1:10, 10)\ny &lt;- sample(1:10, 10)\n\npar(mfrow = c(2, 3))\nplot(x, y)\nplot(x, y, type = \"l\")\nplot(x, y, type = \"b\")\nplot(x, y, type = \"h\")\nplot(x, y, type = \"o\")\nplot(x, y, type = \"s\")"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#puedo-cambiar-el-tipo-de-puntos",
    "href": "AEMER-1-Presentacion_2.html#puedo-cambiar-el-tipo-de-puntos",
    "title": "Sesión 1: Introducción a R",
    "section": "Puedo cambiar el tipo de puntos",
    "text": "Puedo cambiar el tipo de puntos\n\n\nx &lt;- 1:10\n\npar(mfrow = c(3, 1))\nplot(x, rep(1, 10))\nplot(x, rep(1, 10), pch = 2)\nplot(x, rep(1, 10), pch = 1:10)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#puedo-cambiar-el-tamaño-de-puntos",
    "href": "AEMER-1-Presentacion_2.html#puedo-cambiar-el-tamaño-de-puntos",
    "title": "Sesión 1: Introducción a R",
    "section": "Puedo cambiar el tamaño de puntos",
    "text": "Puedo cambiar el tamaño de puntos\n\n\nx &lt;- 1:10\ny &lt;- 1:10\n\npar(mfrow = c(3, 1))\nplot(x, y)\nplot(x, y, cex = 2)\nplot(x, y, \n     cex = seq(1, 3, \n               length.out = 10))"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#puedo-cambiar-los-colores",
    "href": "AEMER-1-Presentacion_2.html#puedo-cambiar-los-colores",
    "title": "Sesión 1: Introducción a R",
    "section": "Puedo cambiar los colores",
    "text": "Puedo cambiar los colores\n\nUsando el nombre\nUsando funciones para generar colores\n\n\n\nx &lt;- rep(1:10, 10)\ny &lt;- rep(1:10, each = 10)\n\npar(mfrow = c(2, 2))\nplot(x, y, pch = 15)\nplot(x, y, pch = 15,\n     col = \"dark green\")\nplot(x, y, pch = 15,\n     col = \"#352575\")\nplot(x, y, pch = 15,\n     col = rgb(0.8,0.1,0.2))"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#muchas-más-opciones-en-la-función-par",
    "href": "AEMER-1-Presentacion_2.html#muchas-más-opciones-en-la-función-par",
    "title": "Sesión 1: Introducción a R",
    "section": "Muchas más opciones en la función par()",
    "text": "Muchas más opciones en la función par()\n70 opciones diferentes para controlar los gráficos!\n\n?par"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#añadiendo-información-a-gráficos-existentes",
    "href": "AEMER-1-Presentacion_2.html#añadiendo-información-a-gráficos-existentes",
    "title": "Sesión 1: Introducción a R",
    "section": "Añadiendo información a gráficos existentes",
    "text": "Añadiendo información a gráficos existentes\n\npoints(x, y) añade puntos a gráficos (opciones similares a plot())\nsegments(x0, y0, x1, y1) añade líneas, desde un punto a otro\npolygon(x, y) añade polígonos"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#guardando-gráficos-en-el-disco-duro",
    "href": "AEMER-1-Presentacion_2.html#guardando-gráficos-en-el-disco-duro",
    "title": "Sesión 1: Introducción a R",
    "section": "Guardando gráficos en el disco duro",
    "text": "Guardando gráficos en el disco duro\n\nx &lt;- rep(1:10, 10)\ny &lt;- rep(1:10, each = 10)\n\npdf(\"figures/Figure_1.pdf\") \n\nplot(x, y, pch = 15, cex = 2, col = rgb(0.8, 0.1, 0.2))\n\ndev.off()\n\npng \n  2"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#algunos-ejemplos-de-figuras",
    "href": "AEMER-1-Presentacion_2.html#algunos-ejemplos-de-figuras",
    "title": "Sesión 1: Introducción a R",
    "section": "Algunos ejemplos de figuras",
    "text": "Algunos ejemplos de figuras"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#como-visualizo-cuando-tengo-grandes-cantidades-de-datos",
    "href": "AEMER-1-Presentacion_2.html#como-visualizo-cuando-tengo-grandes-cantidades-de-datos",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Como visualizo cuando tengo grandes cantidades de datos?",
    "text": "¿Como visualizo cuando tengo grandes cantidades de datos?\n\n\nx &lt;- rnorm(20000)\ny &lt;- rnorm(20000)\n\nplot(x, y)"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#como-visualizo-cuando-tengo-grandes-cantidades-de-datos-1",
    "href": "AEMER-1-Presentacion_2.html#como-visualizo-cuando-tengo-grandes-cantidades-de-datos-1",
    "title": "Sesión 1: Introducción a R",
    "section": "¿Como visualizo cuando tengo grandes cantidades de datos?",
    "text": "¿Como visualizo cuando tengo grandes cantidades de datos?\n\n\ninstall.packages(\"hexbin\") \nlibrary(hexbin)\n\nhbin &lt;- hexbin(x, y, xbins = 40)\n\nplot(hbin)\n\n\n\n\n\n\n\n\n\npackage 'hexbin' successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n    C:\\Users\\diego\\AppData\\Local\\Temp\\RtmpUbERGM\\downloaded_packages"
  },
  {
    "objectID": "AEMER-1-Presentacion_2.html#vamos-a-practicar",
    "href": "AEMER-1-Presentacion_2.html#vamos-a-practicar",
    "title": "Sesión 1: Introducción a R",
    "section": "Vamos a practicar",
    "text": "Vamos a practicar\n\nEjercicios\nParte 4: Gráficas y figuras"
  },
  {
    "objectID": "AEMER-2-Ejercicios.html",
    "href": "AEMER-2-Ejercicios.html",
    "title": "Análisis espaciales y multivariantes con R (AEMeR) aplicados a estudios de biodiversidad",
    "section": "",
    "text": "Nota\n\n\n\nLos ejercicios tendréis que entregarlos para la evaluación del curso. Para ello, crea un script de R con RStudio. Ponle el nombre ejercicios_t2_[nombre]_[apellido].R. Dicho script deberá estar organizado con comentarios en castellano (poniendo una almohadilla # delante) y justo detrás el código necesario para realizar el ejercicio (ver ejemplo debajo). Además, si el ejercicio pide reflexionar sobre el resultado use los comentarios (con la #) para indicar sus reflexiones debajo del código. Una vez los tengáis completos podéis mandármelos por email.\n\n# Ejercicio 1.\n# Parte 1\nseq(1, 40, by = 2)\n\n# Parte 2\nseq(1, 40, by = -2)\n# Este código da error porque especifiqué algo mal :)"
  },
  {
    "objectID": "AEMER-2-Ejercicios.html#funciones-útiles",
    "href": "AEMER-2-Ejercicios.html#funciones-útiles",
    "title": "Análisis espaciales y multivariantes con R (AEMeR) aplicados a estudios de biodiversidad",
    "section": "Funciones útiles",
    "text": "Funciones útiles\nvect()\nSe usa para generar o leer datos vectoriales. Es muy flexible en su forma de funcionar, por lo que tendrás que leer bien la documentación para ver que argumentos necesita.\ngadm()\nEsta función del paquete geodata se usa para cargar datos de los límites administrativos de los distintos países del planeta.\nproject()\nProyecta las coordenadas de los objetos espaciales a un sistema de coordenadas diferentes. Para conseguir los códigos EPSG de distintos sistemas de proyección podéis usar la siguiente página: https://epsg.io/\n[]\nLos corchetes sirven para extraer elementos de ciertas posiciones en los objetos de R. Se pueden usar también con los objetos espaciales\n==\nSe usa para realizar comparaciones y generar un vector de valores lógicos que indican cuando se cumple una condición de igualdad.\nwriteVector\nEsta función se usa para guardar objetos vectoriales en el disco duro del ordenador."
  },
  {
    "objectID": "AEMER-2-Ejercicios.html#ejercicios",
    "href": "AEMER-2-Ejercicios.html#ejercicios",
    "title": "Análisis espaciales y multivariantes con R (AEMeR) aplicados a estudios de biodiversidad",
    "section": "Ejercicios",
    "text": "Ejercicios\n1. Cargue los límites administrativos de los departamentos de Argentina en un objeto llamado departamentos y filtre los departamentos para retener sólo los departamentos de la provincia de \"Buenos Aires\".\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nlibrary(geodata)\ndepartamentos &lt;- gadm(\"ARG\", 2, path = \".\")\ni &lt;- which(departamentos$NAME_1 == \"Buenos Aires\")\nba &lt;- departamentos[i]\n\n\n\n\n2. Ahora, proyecte los datos de estos municipios desde el sistema de coordenadas en longitud-latitud y WGS84 al sistema UTM21 sur. Para ello necesitaréis buscar el código EPSG en https://epsg.io.\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nba_utm &lt;- project(ba, \"epsg:32721\")\n\n\n\n\n3. Guarda el objeto vectorial de Buenos Aires con las coordenadas en UTM21s como un fichero geopackage nuevo, llamado BuenosAires.gpkg\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nwriteVector(ba_utm, \"BuenosAires.gpkg\", overwrite = TRUE)\n\n\n\n\n4. Finalmente, dibuje dos mapas uno con el mapa de la provincia de Buenos Aires en longitud-latitud (WGS84) y el otro en UTM21s. Por último .\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\npar(mfrow = c(1, 2))\nplot(ba)\nplot(ba_utm)"
  },
  {
    "objectID": "AEMER-2-Ejercicios.html#funciones-útiles-1",
    "href": "AEMER-2-Ejercicios.html#funciones-útiles-1",
    "title": "Análisis espaciales y multivariantes con R (AEMeR) aplicados a estudios de biodiversidad",
    "section": "Funciones útiles",
    "text": "Funciones útiles\nrast()\nSe utiliza para generar o cargar datos ráster. Es muy flexible también en su forma de usarse, por lo que tendrás que tener cuidad con los argumentos que usas con ella.\nworldclim_country()\nEsta función del paquete geodata se usa para cargar datos climáticos de cualquier país del planeta. Los datos proceden del proyecto WorldClim.\nproject()\nSe usa para proyectar tanto datos vectoriales como raster.\nwriteRaster()\nSe usa para guardar objetos ráster en el disco duro del ordenador."
  },
  {
    "objectID": "AEMER-2-Ejercicios.html#ejercicios-1",
    "href": "AEMER-2-Ejercicios.html#ejercicios-1",
    "title": "Análisis espaciales y multivariantes con R (AEMeR) aplicados a estudios de biodiversidad",
    "section": "Ejercicios",
    "text": "Ejercicios\n1. Carga las variables bioclimáticas (v.gr. var = \"bio\") del proyecto WorldClim a 0.5 minutos de grado de resolución.\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nlibrary(geodata)\narg_bio &lt;- worldclim_country(\"ARG\", var = \"bio\", path = \".\")\n\n\n\n\n2. Fíjese el nombre tan largo y poco intuitivo de los nombres de las distintas capas (puede consultarlo usando el siguiente código names(bio)). Cambie el nombre de las variables por algo más corto e intuitivo (v.gr. “bio1”, “bio2”, etc.).\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nnames(arg_bio)\nnames(arg_bio) &lt;- paste0(\"bio\", 1:19)\n\n\n\n\n3. Revisa el CRS de los datos que has descargado. ¿Coinciden con los datos que has generado como resultado de los ejercicios de la Parte 1? Si no es así, proyecta los datos raster para que coincidan con esos datos y mantengan una resolución exacta de 1000 metros.\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\narg_bio_utm &lt;- project(arg_bio, \"epsg:32721\", res = 1000)\n\n\n\n\n4. Guarde los dos objetos ráster (original y resultante) como un fichero en el disco duro de su ordenador, de modo que pueda reutilizarlos más adelante cuando los vuelva a necesitar.\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nwriteRaster(arg_bio, \"arg_bio.tif\", overwrite = TRUE) \nwriteRaster(arg_bio_utm, \"arg_bio_utm.tif\", overwrite = TRUE) \n\n\n\n\n5. Finalmente, para cerciorarnos que todo esté correcto, dibuje el mapa de la variable \"bio4\" en UTM19s con los polígonos de los municipios de la provincia de “Buenos Aires” superpuestos.\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nplot(arg_bio_utm[[\"bio4\"]])\nplot(ba_utm, add = TRUE)"
  },
  {
    "objectID": "AEMER-2-Ejercicios.html#funciones-útiles-2",
    "href": "AEMER-2-Ejercicios.html#funciones-útiles-2",
    "title": "Análisis espaciales y multivariantes con R (AEMeR) aplicados a estudios de biodiversidad",
    "section": "Funciones útiles",
    "text": "Funciones útiles\nexpanse()\nSe usa para calcular la superficie de cada uno de los polígonos en una capa vectorial.\naggregate()\nSirve para agregar formas vectoriales que tienen el mismo valor en alguno de los campos de los atributos, el cual se usa como criterio de agregación. También se usa para agregar los valores de varios píxeles contiguos en datos ráster.\nmask()\nSe usa para eliminar la información de un ráster que queda fuera de la superficie delimitada por los polígonos de una capa vectorial."
  },
  {
    "objectID": "AEMER-2-Ejercicios.html#ejercicios-2",
    "href": "AEMER-2-Ejercicios.html#ejercicios-2",
    "title": "Análisis espaciales y multivariantes con R (AEMeR) aplicados a estudios de biodiversidad",
    "section": "Ejercicios",
    "text": "Ejercicios\n1. Añade una columna de atributos a la capa de los municipios de “Buenos Aires” en la que se recoja el área (superficie) de cada municipio. Posteriormente, dibuja un mapa de los municipios en los que se pueda observar con colores diferentes el área de cada uno de ellos. ¿Hay un patrón geográfico en el tamaño de los municipios de la provincia?\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nba$area &lt;- expanse(ba)\nplot(ba, \"area\", type = \"interval\")\n\n\n\n\n2. Agrega todos los municipios de la provincia de “Buenos Aires” para generar un polígono con la forma de la provincia. Dibuja el mapa del ejercicio anterior y adiciona el borde de la provincia con los colores de la bandera argentina.\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nba_borde &lt;- aggregate(ba, \"NAME_1\")\nplot(ba, \"area\", type = \"interval\")\nplot(ba_borde, lwd = 4, border = \"cyan\", add = TRUE)\nplot(ba_borde, lwd = 2, border = \"white\", add = TRUE)\n\n\n\n\n3. Recorta el objeto ráster con las variables bioclimáticas de Argentina para quedarte sólo con los datos de la provincia de “Buenos Aires”. Dibuja el mapa de la variable bio4 de dichos datos. ¿Ves algo raro?\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nba_bio &lt;- mask(arg_bio, ba)\nplot(ba_bio[[\"bio4\"]])\n\n\n\n\n4. Usa el siguiente código x &lt;- trim(x) (donde x es el nombre del objeto resultante del ejercicio anterior) y vuelve a dibujar el mapa raster resultante. ¿Que diferencia observas con el mapa del ejercicio anterior? ¿Qué crees que hace la función?\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nba_bio &lt;- trim(ba_bio)\nplot(ba_bio[[\"bio4\"]])"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#análisis-multivariante-usa-datos-tabulados",
    "href": "AEMER-3-Analisis_multivariante.html#análisis-multivariante-usa-datos-tabulados",
    "title": "Análisis multivariante en R",
    "section": "Análisis multivariante usa datos tabulados",
    "text": "Análisis multivariante usa datos tabulados\n\nMatriz de comunidades (sitios x especies)\n\n\n\nsp_1\nsp_2\n…\nsp_n\n\n\n\n\nsite_1\n1\n0\n…\n1\n\n\nsite_2\n0\n0\n…\n1\n\n\n…\n…\n…\n…\n…\n\n\nsite_n\n0\n1\n…\n1"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#también-los-datos-de-las-variables-ambientales",
    "href": "AEMER-3-Analisis_multivariante.html#también-los-datos-de-las-variables-ambientales",
    "title": "Análisis multivariante en R",
    "section": "También los datos de las variables ambientales",
    "text": "También los datos de las variables ambientales\n\nMatriz de variables (sitios x variables)\n\n\n\nv_1\nv_2\n…\nv_n\n\n\n\n\nsite_1\n1\n0\n…\n1\n\n\nsite_2\n0\n0\n…\n1\n\n\n…\n…\n…\n…\n…\n\n\nsite_n\n0\n1\n…\n1"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#cargando-de-datos-en-r",
    "href": "AEMER-3-Analisis_multivariante.html#cargando-de-datos-en-r",
    "title": "Análisis multivariante en R",
    "section": "Cargando de datos en R",
    "text": "Cargando de datos en R\n\nlibrary(openxlsx)\ncom &lt;- read.xlsx(\"data/Inventarios.xlsx\", sheet = 1, rowNames = TRUE)\nhead(com)\n\n       Sp_1 Sp_2 Sp_3 Sp_4 Sp_5 Sp_6\nSite_1    0    0    9    0    2    0\nSite_2    1    0    8    0    1    0\nSite_3    2    1    7    0    1    0\nSite_4    2    1    0    1    5    0\nSite_5    1    2    0    0    6    0\nSite_6    0    4    0    2    3    0\n\nenv &lt;- read.xlsx(\"data/Variables.xlsx\", sheet = 1, rowNames = TRUE)\nhead(env)\n\n              v1         v2         v3\nSite_1 5.1789918 -0.4380167  2.8471131\nSite_2 4.4714402  1.8806640 -0.3560559\nSite_3 2.9379526 -0.3054643  3.2177157\nSite_4 0.7354044 -1.9925002  1.2593483\nSite_5 2.6035489 -2.5324108  1.9391404\nSite_6 0.6951173  2.8438965 -1.2821121"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#los-nombres-de-especies-largos-pueden-saturar-los-gráficos",
    "href": "AEMER-3-Analisis_multivariante.html#los-nombres-de-especies-largos-pueden-saturar-los-gráficos",
    "title": "Análisis multivariante en R",
    "section": "Los nombres de especies largos pueden saturar los gráficos",
    "text": "Los nombres de especies largos pueden saturar los gráficos\n\nSi la identidad es irrelevante: usar nombres genéricos\n\nQuercus ilex: SP_1\n\nSi la identidad de la especie es relevante: acortar\n\nQuercus ilex: Q_ILEX\n\nCornell Ecology Program (CEP) proporciona una abreviatura estandarizada:\n\n8 caracteres: 4 primeros del género y 4 de la especie:\nQuercus ilex: QUERILEX"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#transformación-de-valores-de-dominancia-abundancia",
    "href": "AEMER-3-Analisis_multivariante.html#transformación-de-valores-de-dominancia-abundancia",
    "title": "Análisis multivariante en R",
    "section": "Transformación de valores de dominancia-abundancia",
    "text": "Transformación de valores de dominancia-abundancia\n\n\n\nÍndice Braun-Blanquet\nValor de Van deer Maarel\n\n\n\n\nausencia\n0\n\n\nr\n1\n\n\n+\n2\n\n\n1\n3\n\n\n2m\n4\n\n\n2a\n5\n\n\n2b\n6\n\n\n3\n7\n\n\n4\n8\n\n\n5\n9"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#datos-de-presencia-ausencia",
    "href": "AEMER-3-Analisis_multivariante.html#datos-de-presencia-ausencia",
    "title": "Análisis multivariante en R",
    "section": "Datos de presencia-ausencia",
    "text": "Datos de presencia-ausencia\nLos análisis con datos de presencia-ausencia suelen ser más robustos que los de abundancia o cobertura\n\npres &lt;- ifelse(com &gt; 0, 1, 0)\nhead(pres)\n\n       Sp_1 Sp_2 Sp_3 Sp_4 Sp_5 Sp_6\nSite_1    0    0    1    0    1    0\nSite_2    1    0    1    0    1    0\nSite_3    1    1    1    0    1    0\nSite_4    1    1    0    1    1    0\nSite_5    1    1    0    0    1    0\nSite_6    0    1    0    1    1    0"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#análisis-de-componentes-principales-pca",
    "href": "AEMER-3-Analisis_multivariante.html#análisis-de-componentes-principales-pca",
    "title": "Análisis multivariante en R",
    "section": "Análisis de componentes principales (PCA)",
    "text": "Análisis de componentes principales (PCA)\nAunque parezca confuso, se usa la función rda.\n\n\n\n\n\n\nNote\n\n\nAsí se juntan la aproximación unconstrained y su equivalente constrained en la misma función. Si se especifican variables ambientales se ejecuta la versión constrained. Si no se especifican se ejecuta la versión unconstrained.\n\n\n\n\nlibrary(vegan)\ncom_pca &lt;- rda(com)\ncom_pca\n\nCall: rda(X = com)\n\n-- Model Summary --\n\n              Inertia Rank\nTotal           25.54     \nUnconstrained   25.54    6\n\nInertia is variance\n\n-- Eigenvalues --\n\nEigenvalues for unconstrained axes:\n   PC1    PC2    PC3    PC4    PC5    PC6 \n11.855  8.544  3.847  0.941  0.325  0.027"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#análisis-de-redundancia-rda",
    "href": "AEMER-3-Analisis_multivariante.html#análisis-de-redundancia-rda",
    "title": "Análisis multivariante en R",
    "section": "Análisis de redundancia (RDA)",
    "text": "Análisis de redundancia (RDA)\n\ncom_rda &lt;- rda(com, env)\ncom_rda\n\nCall: rda(X = com, Y = env)\n\n-- Model Summary --\n\n              Inertia Proportion Rank\nTotal         25.5395     1.0000     \nConstrained   14.2138     0.5565    3\nUnconstrained 11.3256     0.4435    6\n\nInertia is variance\n\n-- Eigenvalues --\n\nEigenvalues for constrained axes:\n RDA1  RDA2  RDA3 \n7.435 6.190 0.589 \n\nEigenvalues for unconstrained axes:\n  PC1   PC2   PC3   PC4   PC5   PC6 \n8.109 1.250 1.054 0.694 0.200 0.018"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#análisis-de-correspondencia-ca",
    "href": "AEMER-3-Analisis_multivariante.html#análisis-de-correspondencia-ca",
    "title": "Análisis multivariante en R",
    "section": "Análisis de correspondencia (CA)",
    "text": "Análisis de correspondencia (CA)\nAunque parezca confuso, para CA y CCA se usa la función cca.\n\n\n\n\n\n\nNote\n\n\nAsí se juntan la aproximación unconstrained y su equivalente constrained en la misma función. Si se especifican variables ambientales se ejecuta la versión constrained. Si no se especifican se ejecuta la versión unconstrained.\n\n\n\n\ncom_ca &lt;- cca(com)\ncom_ca\n\nCall: cca(X = com)\n\n-- Model Summary --\n\n              Inertia Rank\nTotal           1.336     \nUnconstrained   1.336    5\n\nInertia is scaled Chi-square\n\n-- Eigenvalues --\n\nEigenvalues for unconstrained axes:\n   CA1    CA2    CA3    CA4    CA5 \n0.5359 0.3371 0.3013 0.1014 0.0600"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#análisis-de-correspondencia-sin-tendencia-dca",
    "href": "AEMER-3-Analisis_multivariante.html#análisis-de-correspondencia-sin-tendencia-dca",
    "title": "Análisis multivariante en R",
    "section": "Análisis de correspondencia sin tendencia (DCA)",
    "text": "Análisis de correspondencia sin tendencia (DCA)\nPara DCA se usa la función decorana\n\ncom_dca &lt;- decorana(com)\ncom_dca\n\n\nCall:\ndecorana(veg = com) \n\nDetrended correspondence analysis with 26 segments.\nRescaling of axes with 4 iterations.\nTotal inertia (scaled Chi-square): 1.3356 \n\n                       DCA1   DCA2    DCA3    DCA4\nEigenvalues          0.5017 0.3112 0.16425 0.17184\nAdditive Eigenvalues 0.5017 0.3102 0.14014 0.09521\nDecorana values      0.5359 0.1160 0.05699 0.01393\nAxis lengths         2.8105 1.6228 1.09955 1.12945"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#análisis-de-correspondencia-canónica-cca",
    "href": "AEMER-3-Analisis_multivariante.html#análisis-de-correspondencia-canónica-cca",
    "title": "Análisis multivariante en R",
    "section": "Análisis de correspondencia canónica (CCA)",
    "text": "Análisis de correspondencia canónica (CCA)\n\ncom_cca &lt;- cca(com, env)\ncom_cca\n\nCall: cca(X = com, Y = env)\n\n-- Model Summary --\n\n              Inertia Proportion Rank\nTotal          1.3356     1.0000     \nConstrained    0.6556     0.4909    3\nUnconstrained  0.6800     0.5091    5\n\nInertia is scaled Chi-square\n\n-- Eigenvalues --\n\nEigenvalues for constrained axes:\n  CCA1   CCA2   CCA3 \n0.3345 0.2740 0.0471 \n\nEigenvalues for unconstrained axes:\n   CA1    CA2    CA3    CA4    CA5 \n0.4669 0.1206 0.0436 0.0395 0.0093"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#pca-basado-en-transformaciones",
    "href": "AEMER-3-Analisis_multivariante.html#pca-basado-en-transformaciones",
    "title": "Análisis multivariante en R",
    "section": "PCA basado en transformaciones",
    "text": "PCA basado en transformaciones\nPara ello se transforman los datos con la función decostand\n\ncom_hel &lt;- decostand(com, 'hellinger')\n\ncom_tbpca &lt;- rda(com_hel)\ncom_tbpca\n\nCall: rda(X = com_hel)\n\n-- Model Summary --\n\n              Inertia Rank\nTotal          0.3778     \nUnconstrained  0.3778    6\n\nInertia is variance\n\n-- Eigenvalues --\n\nEigenvalues for unconstrained axes:\n    PC1     PC2     PC3     PC4     PC5     PC6 \n0.16155 0.10550 0.07101 0.03200 0.00440 0.00333"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#pca-basado-en-transformaciones-1",
    "href": "AEMER-3-Analisis_multivariante.html#pca-basado-en-transformaciones-1",
    "title": "Análisis multivariante en R",
    "section": "PCA basado en transformaciones",
    "text": "PCA basado en transformaciones\nPara ello se transforman los datos con la función decostand\n\ncom_tbrda &lt;- rda(com_hel, env)\ncom_tbrda\n\nCall: rda(X = com_hel, Y = env)\n\n-- Model Summary --\n\n              Inertia Proportion Rank\nTotal          0.3778     1.0000     \nConstrained    0.1657     0.4387    3\nUnconstrained  0.2120     0.5613    6\n\nInertia is variance\n\n-- Eigenvalues --\n\nEigenvalues for constrained axes:\n   RDA1    RDA2    RDA3 \n0.09114 0.06063 0.01398 \n\nEigenvalues for unconstrained axes:\n    PC1     PC2     PC3     PC4     PC5     PC6 \n0.15218 0.03174 0.01660 0.00743 0.00243 0.00165"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#visualizar-ordenación",
    "href": "AEMER-3-Analisis_multivariante.html#visualizar-ordenación",
    "title": "Análisis multivariante en R",
    "section": "Visualizar ordenación",
    "text": "Visualizar ordenación\nEs interesante observar como se disponen especies y sitios en el espacio bidimensional.\nPara ello usamos la función plot sobre cualquiera de los objetos de ordenación.\n\nplot(com_ca)"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#gráficos-sobrecargados",
    "href": "AEMER-3-Analisis_multivariante.html#gráficos-sobrecargados",
    "title": "Análisis multivariante en R",
    "section": "¿Gráficos sobrecargados?",
    "text": "¿Gráficos sobrecargados?\nPuedes representar solo ‘especies’ o ‘sitios’ con el argumento display\n\nplot(com_ca, display = \"sites\")\n\n\n\n\n\n\n\nplot(com_ca, display = \"species\")"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#medida-de-disimilitud",
    "href": "AEMER-3-Analisis_multivariante.html#medida-de-disimilitud",
    "title": "Análisis multivariante en R",
    "section": "Medida de disimilitud",
    "text": "Medida de disimilitud\nPara calcular la disimilitud entre todos los ‘sitios’ usamos la función vegdist\n\ndist &lt;- vegdist(com)\ndist\n\n            Site_1     Site_2     Site_3     Site_4     Site_5     Site_6\nSite_2  0.14285714                                                       \nSite_3  0.27272727 0.14285714                                            \nSite_4  0.80000000 0.78947368 0.60000000                                 \nSite_5  0.80000000 0.78947368 0.70000000 0.22222222                      \nSite_6  0.80000000 0.89473684 0.80000000 0.44444444 0.44444444           \nSite_7  0.77777778 0.88235294 0.88888889 0.37500000 0.50000000 0.37500000\nSite_8  0.88235294 0.87500000 0.76470588 0.60000000 0.60000000 0.20000000\nSite_9  0.77777778 0.76470588 0.66666667 0.25000000 0.50000000 0.50000000\nSite_10 0.81818182 0.80952381 0.63636364 0.50000000 0.50000000 0.40000000\nSite_11 0.47826087 0.45454545 0.39130435 0.61904762 0.71428571 0.80952381\nSite_12 0.52380952 0.50000000 0.42857143 0.57894737 0.68421053 0.78947368\nSite_13 0.71428571 0.70000000 0.61904762 0.47368421 0.57894737 0.68421053\nSite_14 0.90909091 0.80952381 0.72727273 0.60000000 0.80000000 0.80000000\nSite_15 0.80000000 0.78947368 0.80000000 0.33333333 0.22222222 0.66666667\nSite_16 0.78947368 0.77777778 0.78947368 0.29411765 0.17647059 0.64705882\nSite_17 0.78947368 0.77777778 0.68421053 0.29411765 0.52941176 0.52941176\nSite_18 0.65217391 0.63636364 0.65217391 0.33333333 0.33333333 0.61904762\nSite_19 0.83333333 0.91304348 0.83333333 0.36363636 0.36363636 0.45454545\nSite_20 0.61904762 0.70000000 0.71428571 0.36842105 0.36842105 0.57894737\n            Site_7     Site_8     Site_9    Site_10    Site_11    Site_12\nSite_2                                                                   \nSite_3                                                                   \nSite_4                                                                   \nSite_5                                                                   \nSite_6                                                                   \nSite_7                                                                   \nSite_8  0.69230769                                                       \nSite_9  0.42857143 0.69230769                                            \nSite_10 0.77777778 0.41176471 0.44444444                                 \nSite_11 0.78947368 0.88888889 0.47368421 0.39130435                      \nSite_12 0.76470588 0.87500000 0.41176471 0.33333333 0.09090909           \nSite_13 0.64705882 0.87500000 0.29411765 0.33333333 0.18181818 0.20000000\nSite_14 0.77777778 0.76470588 0.44444444 0.45454545 0.39130435 0.42857143\nSite_15 0.50000000 0.86666667 0.50000000 0.70000000 0.71428571 0.68421053\nSite_16 0.46666667 0.85714286 0.46666667 0.68421053 0.70000000 0.66666667\nSite_17 0.46666667 0.71428571 0.06666667 0.36842105 0.40000000 0.33333333\nSite_18 0.47368421 0.77777778 0.47368421 0.73913043 0.58333333 0.54545455\nSite_19 0.40000000 0.68421053 0.60000000 0.75000000 0.84000000 0.82608696\nSite_20 0.41176471 0.75000000 0.52941176 0.80952381 0.63636364 0.60000000\n           Site_13    Site_14    Site_15    Site_16    Site_17    Site_18\nSite_2                                                                   \nSite_3                                                                   \nSite_4                                                                   \nSite_5                                                                   \nSite_6                                                                   \nSite_7                                                                   \nSite_8                                                                   \nSite_9                                                                   \nSite_10                                                                  \nSite_11                                                                  \nSite_12                                                                  \nSite_13                                                                  \nSite_14 0.33333333                                                       \nSite_15 0.57894737 0.80000000                                            \nSite_16 0.55555556 0.78947368 0.05882353                                 \nSite_17 0.22222222 0.36842105 0.52941176 0.50000000                      \nSite_18 0.54545455 0.73913043 0.14285714 0.20000000 0.50000000           \nSite_19 0.73913043 0.83333333 0.27272727 0.33333333 0.61904762 0.28000000\nSite_20 0.60000000 0.80952381 0.26315789 0.22222222 0.55555556 0.09090909\n           Site_19\nSite_2            \nSite_3            \nSite_4            \nSite_5            \nSite_6            \nSite_7            \nSite_8            \nSite_9            \nSite_10           \nSite_11           \nSite_12           \nSite_13           \nSite_14           \nSite_15           \nSite_16           \nSite_17           \nSite_18           \nSite_19           \nSite_20 0.30434783"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#tipos-de-distancias",
    "href": "AEMER-3-Analisis_multivariante.html#tipos-de-distancias",
    "title": "Análisis multivariante en R",
    "section": "Tipos de distancias",
    "text": "Tipos de distancias\nLa disimilitud entre ‘sitios’ se puede calcular de varias maneras: euclidean, manhattan, gower, canberra, bray, jaccard…\nPara ello usamos el argumento method\n\ndist &lt;- vegdist(com, method=\"euclidean\")\ndist &lt;- vegdist(com, method=\"bray\")\ndist &lt;- vegdist(com, method=\"jaccard\")\nhead(dist)\n\n[1] 0.2500000 0.4285714 0.8888889 0.8888889 0.8888889 0.8750000"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#clasificación-jerárquica",
    "href": "AEMER-3-Analisis_multivariante.html#clasificación-jerárquica",
    "title": "Análisis multivariante en R",
    "section": "Clasificación jerárquica",
    "text": "Clasificación jerárquica\nPara ello usamos la función hclust sobre la matriz de distancias\n\nhc &lt;- hclust(dist)\nhc\n\n\nCall:\nhclust(d = dist)\n\nCluster method   : complete \nDistance         : jaccard \nNumber of objects: 20"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#métodos-de-agrupación",
    "href": "AEMER-3-Analisis_multivariante.html#métodos-de-agrupación",
    "title": "Análisis multivariante en R",
    "section": "Métodos de agrupación",
    "text": "Métodos de agrupación\nMétodos para realizar la agrupación hay varios: single, complete, average, centroid…\nEspecificamos el método con el argumento method.\n\nhc &lt;- hclust(dist, method=\"single\")\nhc &lt;- hclust(dist, method=\"centroid\")\nhc &lt;- hclust(dist, method=\"average\")\nhc &lt;- hclust(dist, method=\"complete\")\nhc\n\n\nCall:\nhclust(d = dist, method = \"complete\")\n\nCluster method   : complete \nDistance         : jaccard \nNumber of objects: 20"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#visualizar-clasificaciones",
    "href": "AEMER-3-Analisis_multivariante.html#visualizar-clasificaciones",
    "title": "Análisis multivariante en R",
    "section": "Visualizar clasificaciones",
    "text": "Visualizar clasificaciones\nLas clasificaciones jerárquicas se pueden visualizar como un árbol filogenético con la función plot\n\nplot(hc, hang=-1)"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#interpretación",
    "href": "AEMER-3-Analisis_multivariante.html#interpretación",
    "title": "Análisis multivariante en R",
    "section": "Interpretación",
    "text": "Interpretación\nEstablecer grupos en un árbol no es siempre trivial\n\nSe puede usar un umbral para determinar los grupos\nO establecer un número determinado de grupos"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#visualizar-clasificaciones-con-un-umbral",
    "href": "AEMER-3-Analisis_multivariante.html#visualizar-clasificaciones-con-un-umbral",
    "title": "Análisis multivariante en R",
    "section": "Visualizar clasificaciones con un umbral",
    "text": "Visualizar clasificaciones con un umbral\n\nplot(hc, hang=-1) \nrect.hclust(hc, h=0.7)"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#visualizar-clasificaciones-con-número-de-grupos",
    "href": "AEMER-3-Analisis_multivariante.html#visualizar-clasificaciones-con-número-de-grupos",
    "title": "Análisis multivariante en R",
    "section": "Visualizar clasificaciones con número de grupos",
    "text": "Visualizar clasificaciones con número de grupos\n\nplot(hc, hang=-1)\nrect.hclust(hc, k=4)"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#extraer-grupos",
    "href": "AEMER-3-Analisis_multivariante.html#extraer-grupos",
    "title": "Análisis multivariante en R",
    "section": "Extraer grupos",
    "text": "Extraer grupos\nEn ocasiones es interesante extraer la asignación de cada sitio a un grupo\nPara ello podemos usar la función cutree\n\ngrp &lt;- cutree(hc, h=0.7)\ngrp &lt;- cutree(hc, k=4)\ngrp\n\n Site_1  Site_2  Site_3  Site_4  Site_5  Site_6  Site_7  Site_8  Site_9 Site_10 \n      1       1       1       2       2       3       2       3       4       4 \nSite_11 Site_12 Site_13 Site_14 Site_15 Site_16 Site_17 Site_18 Site_19 Site_20 \n      4       4       4       4       2       2       4       2       2       2"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#dibujar-agrupamientos-sobre-los-gráficos-de-ordenación",
    "href": "AEMER-3-Analisis_multivariante.html#dibujar-agrupamientos-sobre-los-gráficos-de-ordenación",
    "title": "Análisis multivariante en R",
    "section": "Dibujar agrupamientos sobre los gráficos de ordenación",
    "text": "Dibujar agrupamientos sobre los gráficos de ordenación\nPara ello usamos la función ordihull\n\nplot(com_ca, display=\"sites\")\nordihull(com_ca, grp, lty=2, col=\"red\")"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#hay-más-opciones",
    "href": "AEMER-3-Analisis_multivariante.html#hay-más-opciones",
    "title": "Análisis multivariante en R",
    "section": "Hay más opciones…",
    "text": "Hay más opciones…\nTambién se pueden usar las funciones ordispider y ordiellipse\n\nplot(com_ca, display=\"sites\")\nordispider(com_ca, grp, lty=2, col=\"red\")"
  },
  {
    "objectID": "AEMER-3-Analisis_multivariante.html#que-elegirás-en-función-de-tu-necesidad",
    "href": "AEMER-3-Analisis_multivariante.html#que-elegirás-en-función-de-tu-necesidad",
    "title": "Análisis multivariante en R",
    "section": "… que elegirás en función de tu necesidad",
    "text": "… que elegirás en función de tu necesidad\nPara ello usamos las funciones ordispider y ordiellipse\n\nplot(com_ca, display=\"sites\")\nordiellipse(com_ca, grp, lty=2, col=\"red\")"
  },
  {
    "objectID": "AEMER-4-GDM.html#cargamos-los-datos-de-michelle-incluyendo-las-coordenadas-geográficas",
    "href": "AEMER-4-GDM.html#cargamos-los-datos-de-michelle-incluyendo-las-coordenadas-geográficas",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Cargamos los datos de Michelle, incluyendo las coordenadas geográficas",
    "text": "Cargamos los datos de Michelle, incluyendo las coordenadas geográficas\n\nlibrary(openxlsx)\nenv &lt;- read.xlsx(\"data/sciberras_ambiente.xlsx\", \n                 sheet = 1, \n                 rowNames = TRUE)\ncom &lt;- read.xlsx(\"data/sciberras_especies.xlsx\", \n                 sheet = 1, \n                 rowNames = TRUE)\ncoords &lt;- read.xlsx(\"data/sciberras_coords.xlsx\", \n                    sheet = 1, \n                    rowNames = TRUE)\nhead(coords)\n\n                  x         y\nchapad    -57.70311 -38.20977\nsauce     -61.11647 -38.99773\nquequens  -60.51297 -38.92499\nclaromeco -60.08128 -38.86156\nquequeng  -58.70162 -38.58077\nmoro      -58.40547 -38.50085"
  },
  {
    "objectID": "AEMER-4-GDM.html#cargamos-los-datos-bioclimáticos",
    "href": "AEMER-4-GDM.html#cargamos-los-datos-bioclimáticos",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Cargamos los datos bioclimáticos",
    "text": "Cargamos los datos bioclimáticos\nEn particular cargamos los datos de argentina en formato ráster y en UTM 21s y los recorto para la región de interés\n\n\n\n\n\n\nNote\n\n\nEstos datos los generamos durante la clase sobre análisis de datos espaciales en R.\n\n\n\n\nlibrary(terra)\nbioclim &lt;- rast(\"arg_bio_utm.tif\")\nbioclim &lt;- crop(bioclim, \n                ext(-100000, 600000, 5500000, 6000000))\nplot(bioclim[[1]])"
  },
  {
    "objectID": "AEMER-4-GDM.html#reproyecto-los-datos-de-coordenadas-a-utm-21s-y-los-combino-con-los-datos-de-comunidades",
    "href": "AEMER-4-GDM.html#reproyecto-los-datos-de-coordenadas-a-utm-21s-y-los-combino-con-los-datos-de-comunidades",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Reproyecto los datos de coordenadas a UTM 21s y los combino con los datos de comunidades",
    "text": "Reproyecto los datos de coordenadas a UTM 21s y los combino con los datos de comunidades\n\n\n\n\n\n\nImportant\n\n\nEl paquete gdm requiere que las coordenadas estén especificadas como columnas en la matriz de comunidades, en la matriz de variables ambientales, o en las dos; pero no se pueden especificar como un objeto independiente.\n\n\n\n\nutm &lt;- project(as.matrix(coords), \n               from = \"EPSG: 4326\", \n               to = \"EPSG:32721\")\nutm &lt;- data.frame(x = utm[,1], \n                  y = utm[,2],\n                  rio = rownames(coords))\ncom$rio &lt;- env$rio\ncom &lt;- merge(com, utm)\nhead(com)\n\n     rio emertonia sextonis_1 sextonis_2 sextonis_delamarei\n1 chapad         0          0          0                  0\n2 chapad         6         12          0                  1\n3 chapad         1          4          0                  0\n4 chapad         0          0          0                  0\n5 chapad         0          0          0                  0\n6 chapad         2          0          0                  0\n  halectinosoma_parejae nannopus ectinosomatidae euterpina\n1                     1        0               0         0\n2                     1        0               0         0\n3                     0        0               0         0\n4                     0        3               0         0\n5                     0        1               0         0\n6                     0       10               0         0\n  quinquelaophonte_aestuarii cyclopoida        x       y\n1                          0          0 438444.6 5770677\n2                          0          0 438444.6 5770677\n3                          0          0 438444.6 5770677\n4                          0          0 438444.6 5770677\n5                          0          0 438444.6 5770677\n6                          0          0 438444.6 5770677"
  },
  {
    "objectID": "AEMER-4-GDM.html#genero-un-identificador-de-sitio-común-para-la-matriz-de-comunidades-y-la-de-variables-ambientales",
    "href": "AEMER-4-GDM.html#genero-un-identificador-de-sitio-común-para-la-matriz-de-comunidades-y-la-de-variables-ambientales",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Genero un identificador de sitio común para la matriz de comunidades y la de variables ambientales",
    "text": "Genero un identificador de sitio común para la matriz de comunidades y la de variables ambientales\n\ncom$site_id &lt;- as.numeric(1:nrow(com))\nenv$site_id &lt;- as.numeric(1:nrow(com))\nhead(env)\n\n              rio sitio     mes materia_org temperatura salinidad   ph site_id\nchapad_f_d chapad   des febrero   0.6026517        22.1      1.18 8.71       1\nchapad_f_n chapad norte febrero   0.8458035        21.7      2.89 8.61       2\nchapad_f_s chapad   sur febrero   0.6467259        22.8      2.86 8.62       3\nchapad_j_d chapad   des   julio   0.7584830        11.0      2.20 9.09       4\nchapad_j_n chapad norte   julio   0.8047438        10.8      3.20 9.07       5\nchapad_j_s chapad   sur   julio   0.7331378        12.4      0.98 9.07       6"
  },
  {
    "objectID": "AEMER-4-GDM.html#creamos-la-tabla-de-disimilaridades",
    "href": "AEMER-4-GDM.html#creamos-la-tabla-de-disimilaridades",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Creamos la tabla de disimilaridades",
    "text": "Creamos la tabla de disimilaridades\n\nlibrary(gdm)\ngdmTab &lt;- formatsitepair(com[,-1], # Quito la columna `río`\n               bioFormat = 1, \n               abundance = TRUE, \n               XColumn = \"x\", # Nombre de la coordenada X\n               YColumn = \"y\", # Nombre de la coordenada Y\n               siteColumn = \"site_id\", # Nombre del identificador\n               predData = env[,-c(1:3)]) # Quito columnas de texto\n\ngdmRast &lt;- formatsitepair(com[,-1],\n               bioFormat = 1, \n               abundance = TRUE, \n               XColumn = \"x\",\n               YColumn = \"y\", \n               siteColumn = \"site_id\",\n               predData = bioclim)\n\nhead(gdmTab)\n\n              distance weights s1.xCoord s1.yCoord s2.xCoord s2.yCoord\nchapad_f_d   0.9047619       1  438444.6   5770677  438444.6   5770677\nchapad_f_d.1 1.0000000       1  438444.6   5770677  438444.6   5770677\nchapad_f_d.2 1.0000000       1  438444.6   5770677  438444.6   5770677\nchapad_f_d.3 1.0000000       1  438444.6   5770677  438444.6   5770677\nchapad_f_d.4 1.0000000       1  438444.6   5770677  438444.6   5770677\nchapad_f_d.5 1.0000000       1  438444.6   5770677  438444.6   5770677\n             s1.materia_org s1.temperatura s1.salinidad s1.ph s2.materia_org\nchapad_f_d        0.6026517           22.1         1.18  8.71      0.8458035\nchapad_f_d.1      0.6026517           22.1         1.18  8.71      0.6467259\nchapad_f_d.2      0.6026517           22.1         1.18  8.71      0.7584830\nchapad_f_d.3      0.6026517           22.1         1.18  8.71      0.8047438\nchapad_f_d.4      0.6026517           22.1         1.18  8.71      0.7331378\nchapad_f_d.5      0.6026517           22.1         1.18  8.71      0.8279125\n             s2.temperatura s2.salinidad s2.ph\nchapad_f_d             21.7         2.89  8.61\nchapad_f_d.1           22.8         2.86  8.62\nchapad_f_d.2           11.0         2.20  9.09\nchapad_f_d.3           10.8         3.20  9.07\nchapad_f_d.4           12.4         0.98  9.07\nchapad_f_d.5           17.2         2.49  8.90"
  },
  {
    "objectID": "AEMER-4-GDM.html#calibramos-los-modelos",
    "href": "AEMER-4-GDM.html#calibramos-los-modelos",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Calibramos los modelos",
    "text": "Calibramos los modelos\n\n# Activo que incluya la distancia geográfica en el análisis\ngdmTab.fit &lt;- gdm(data=gdmTab, geo=TRUE)\ngdmRast.fit &lt;- gdm(data=gdmRast, geo=TRUE)"
  },
  {
    "objectID": "AEMER-4-GDM.html#veamos-los-resultados-de-los-datos-de-michelle",
    "href": "AEMER-4-GDM.html#veamos-los-resultados-de-los-datos-de-michelle",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Veamos los resultados de los datos de Michelle",
    "text": "Veamos los resultados de los datos de Michelle\n\nsummary(gdmTab.fit)\n\n[1] \n[1] \n[1] GDM Modelling Summary\n[1] Creation Date:  Tue Sep  9 18:24:21 2025\n[1] \n[1] Name:  gdmTab.fit\n[1] \n[1] Data:  gdmTab\n[1] \n[1] Samples:  2485\n[1] \n[1] Geographical distance used in model fitting?  TRUE\n[1] \n[1] NULL Deviance:  884.14\n[1] GDM Deviance:  851.866\n[1] Percent Deviance Explained:  3.65\n[1] \n[1] Intercept:  1.437\n[1] \n[1] PREDICTOR ORDER BY SUM OF I-SPLINE COEFFICIENTS:\n[1] \n[1] Predictor 1: ph\n[1] Splines: 3\n[1] Min Knot: 7.27\n[1] 50% Knot: 8.85\n[1] Max Knot: 9.66\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0.98\n[1] Sum of coefficients for ph: 0.98\n[1] \n[1] Predictor 2: materia_org\n[1] Splines: 3\n[1] Min Knot: 0.34\n[1] 50% Knot: 0.675\n[1] Max Knot: 1.37\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0.391\n[1] Coefficient[3]: 0.326\n[1] Sum of coefficients for materia_org: 0.718\n[1] \n[1] Predictor 3: salinidad\n[1] Splines: 3\n[1] Min Knot: 0.15\n[1] 50% Knot: 2.67\n[1] Max Knot: 3.49\n[1] Coefficient[1]: 0.436\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for salinidad: 0.436\n[1] \n[1] Predictor 4: Geographic\n[1] Splines: 3\n[1] Min Knot: 0\n[1] 50% Knot: 96436.034\n[1] Max Knot: 309976.305\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0.136\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for Geographic: 0.136\n[1] \n[1] Predictor 5: temperatura\n[1] Splines: 3\n[1] Min Knot: 6.5\n[1] 50% Knot: 17.2\n[1] Max Knot: 24\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for temperatura: 0"
  },
  {
    "objectID": "AEMER-4-GDM.html#y-los-del-modelo-calibrado-con-variables-bioclimáticas",
    "href": "AEMER-4-GDM.html#y-los-del-modelo-calibrado-con-variables-bioclimáticas",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "… y los del modelo calibrado con variables bioclimáticas",
    "text": "… y los del modelo calibrado con variables bioclimáticas\n\nsummary(gdmRast.fit)\n\n[1] \n[1] \n[1] GDM Modelling Summary\n[1] Creation Date:  Tue Sep  9 18:24:21 2025\n[1] \n[1] Name:  gdmRast.fit\n[1] \n[1] Data:  gdmRast\n[1] \n[1] Samples:  28\n[1] \n[1] Geographical distance used in model fitting?  TRUE\n[1] \n[1] NULL Deviance:  7.644\n[1] GDM Deviance:  1.316\n[1] Percent Deviance Explained:  82.787\n[1] \n[1] Intercept:  0.164\n[1] \n[1] PREDICTOR ORDER BY SUM OF I-SPLINE COEFFICIENTS:\n[1] \n[1] Predictor 1: bio1\n[1] Splines: 3\n[1] Min Knot: 14.108\n[1] 50% Knot: 14.234\n[1] Max Knot: 14.463\n[1] Coefficient[1]: 0.672\n[1] Coefficient[2]: 0.931\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio1: 1.602\n[1] \n[1] Predictor 2: bio10\n[1] Splines: 3\n[1] Min Knot: 19.769\n[1] 50% Knot: 20.108\n[1] Max Knot: 20.521\n[1] Coefficient[1]: 0.916\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio10: 0.916\n[1] \n[1] Predictor 3: bio11\n[1] Splines: 3\n[1] Min Knot: 8.418\n[1] 50% Knot: 8.574\n[1] Max Knot: 8.888\n[1] Coefficient[1]: 0.472\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio11: 0.472\n[1] \n[1] Predictor 4: bio16\n[1] Splines: 3\n[1] Min Knot: 234\n[1] 50% Knot: 260.931\n[1] Max Knot: 264.393\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0.282\n[1] Sum of coefficients for bio16: 0.282\n[1] \n[1] Predictor 5: bio5\n[1] Splines: 3\n[1] Min Knot: 26.8\n[1] 50% Knot: 26.99\n[1] Max Knot: 28.2\n[1] Coefficient[1]: 0.148\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio5: 0.148\n[1] \n[1] Predictor 6: Geographic\n[1] Splines: 3\n[1] Min Knot: 13038.405\n[1] 50% Knot: 137784.596\n[1] Max Knot: 309919.344\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for Geographic: 0\n[1] \n[1] Predictor 7: bio2\n[1] Splines: 3\n[1] Min Knot: 10.662\n[1] 50% Knot: 11.037\n[1] Max Knot: 12.348\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio2: 0\n[1] \n[1] Predictor 8: bio3\n[1] Splines: 3\n[1] Min Knot: 46.564\n[1] 50% Knot: 47.058\n[1] Max Knot: 48.499\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio3: 0\n[1] \n[1] Predictor 9: bio4\n[1] Splines: 3\n[1] Min Knot: 458.966\n[1] 50% Knot: 465.267\n[1] Max Knot: 497.734\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio4: 0\n[1] \n[1] Predictor 10: bio6\n[1] Splines: 3\n[1] Min Knot: 2.739\n[1] 50% Knot: 3.496\n[1] Max Knot: 4.183\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio6: 0\n[1] \n[1] Predictor 11: bio7\n[1] Splines: 3\n[1] Min Knot: 22.897\n[1] 50% Knot: 23.354\n[1] Max Knot: 25.461\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio7: 0\n[1] \n[1] Predictor 12: bio8\n[1] Splines: 3\n[1] Min Knot: 15.431\n[1] 50% Knot: 17.728\n[1] Max Knot: 18.157\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio8: 0\n[1] \n[1] Predictor 13: bio9\n[1] Splines: 3\n[1] Min Knot: 8.418\n[1] 50% Knot: 9.225\n[1] Max Knot: 11.148\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio9: 0\n[1] \n[1] Predictor 14: bio12\n[1] Splines: 3\n[1] Min Knot: 699.386\n[1] 50% Knot: 868.321\n[1] Max Knot: 894.97\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio12: 0\n[1] \n[1] Predictor 15: bio13\n[1] Splines: 3\n[1] Min Knot: 84\n[1] 50% Knot: 91.041\n[1] Max Knot: 99\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio13: 0\n[1] \n[1] Predictor 16: bio14\n[1] Splines: 3\n[1] Min Knot: 31.889\n[1] 50% Knot: 47.5\n[1] Max Knot: 51\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio14: 0\n[1] \n[1] Predictor 17: bio15\n[1] Splines: 3\n[1] Min Knot: 16.885\n[1] 50% Knot: 18.46\n[1] Max Knot: 30.845\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio15: 0\n[1] \n[1] Predictor 18: bio17\n[1] Splines: 3\n[1] Min Knot: 101.889\n[1] 50% Knot: 169.587\n[1] Max Knot: 174\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio17: 0\n[1] \n[1] Predictor 19: bio18\n[1] Splines: 3\n[1] Min Knot: 208.388\n[1] 50% Knot: 234.902\n[1] Max Knot: 245.595\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio18: 0\n[1] \n[1] Predictor 20: bio19\n[1] Splines: 3\n[1] Min Knot: 101.889\n[1] 50% Knot: 176.446\n[1] Max Knot: 204.362\n[1] Coefficient[1]: 0\n[1] Coefficient[2]: 0\n[1] Coefficient[3]: 0\n[1] Sum of coefficients for bio19: 0\n\n\n\n\n\n\n\n\nImportant\n\n\nFijaros como el modelo explica un 80% de la desvianza de los datos. Pero tiene un poco de truco, ya que este modelo solo contempla el río como unidad de muestreo, al caer las 3 parcelas (desembocadura, norte y sur) en el mismo pixel."
  },
  {
    "objectID": "AEMER-4-GDM.html#podemos-graficar-los-resultados-del-modelo-y-las-curvas-i-spline",
    "href": "AEMER-4-GDM.html#podemos-graficar-los-resultados-del-modelo-y-las-curvas-i-spline",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Podemos graficar los resultados del modelo y las curvas i-spline",
    "text": "Podemos graficar los resultados del modelo y las curvas i-spline\n\nplot(gdmTab.fit, plot.layout=c(2,3))"
  },
  {
    "objectID": "AEMER-4-GDM.html#también-las-del-modelo-bioclimático",
    "href": "AEMER-4-GDM.html#también-las-del-modelo-bioclimático",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "… también las del modelo bioclimático",
    "text": "… también las del modelo bioclimático\n\nplot(gdmRast.fit, plot.layout = c(2, 4))"
  },
  {
    "objectID": "AEMER-4-GDM.html#si-necesitamos-realizar-gráficos-independientes-podemos-extraer-los-valores-de-las-curvas-i-splines",
    "href": "AEMER-4-GDM.html#si-necesitamos-realizar-gráficos-independientes-podemos-extraer-los-valores-de-las-curvas-i-splines",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Si necesitamos realizar gráficos independientes, podemos extraer los valores de las curvas i-splines",
    "text": "Si necesitamos realizar gráficos independientes, podemos extraer los valores de las curvas i-splines\n\ngdmRast.splines &lt;- isplineExtract(gdmRast.fit)\nstr(gdmRast.splines)\n\nList of 2\n $ x: num [1:200, 1:20] 13038 14530 16022 17514 19006 ...\n  ..- attr(*, \"dimnames\")=List of 2\n  .. ..$ : NULL\n  .. ..$ : chr [1:20] \"Geographic\" \"bio1\" \"bio2\" \"bio3\" ...\n $ y: num [1:200, 1:20] 0 0 0 0 0 0 0 0 0 0 ...\n  ..- attr(*, \"dimnames\")=List of 2\n  .. ..$ : NULL\n  .. ..$ : chr [1:20] \"Geographic\" \"bio1\" \"bio2\" \"bio3\" ..."
  },
  {
    "objectID": "AEMER-4-GDM.html#y-posteriormente-graficarlas-a-mano",
    "href": "AEMER-4-GDM.html#y-posteriormente-graficarlas-a-mano",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "… y posteriormente graficarlas a mano",
    "text": "… y posteriormente graficarlas a mano\n\nplot(gdmRast.splines[[\"x\"]][,\"bio1\"], \n     gdmRast.splines[[\"y\"]][,\"bio1\"], \n     lwd=3,\n     type=\"l\", \n     xlab=\"Mean Annual Temperature (ºC)\", \n     ylab=\"Partial ecological distance\")"
  },
  {
    "objectID": "AEMER-4-GDM.html#podemos-proyectar-el-modelo-para-transformar-cada-variable-ambiental-acorde-a-las-i-splines",
    "href": "AEMER-4-GDM.html#podemos-proyectar-el-modelo-para-transformar-cada-variable-ambiental-acorde-a-las-i-splines",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Podemos proyectar el modelo para transformar cada variable ambiental acorde a las i-splines",
    "text": "Podemos proyectar el modelo para transformar cada variable ambiental acorde a las i-splines\n\ngdmRast.sp_trans &lt;- gdm.transform(gdmRast.fit, bioclim)\n\n\n|---------|---------|---------|---------|\n=========================================\n                                          \n\ngdmRast.sp_trans\n\nclass       : SpatRaster \nsize        : 500, 700, 7  (nrow, ncol, nlyr)\nresolution  : 1000, 1000  (x, y)\nextent      : -100055.4, 599944.6, 5500177, 6000177  (xmin, xmax, ymin, ymax)\ncoord. ref. : WGS 84 / UTM zone 21S (EPSG:32721) \nsource      : spat_27ecbc759f8_10220_o8up7yuDdJ6XHBX.tif \nnames       : xCoord, yCoord,     bio1,     bio5,     bio10,     bio11, ... \nmin values  :      0,      0, 0.000000, 0.000000, 0.0000000, 0.0000000, ... \nmax values  :      0,      0, 1.602153, 0.147566, 0.9155284, 0.4720007, ..."
  },
  {
    "objectID": "AEMER-4-GDM.html#y-graficarlo-en-forma-de-mapa",
    "href": "AEMER-4-GDM.html#y-graficarlo-en-forma-de-mapa",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "… y graficarlo en forma de mapa",
    "text": "… y graficarlo en forma de mapa\n\nterra::plot(gdmRast.sp_trans)"
  },
  {
    "objectID": "AEMER-4-GDM.html#para-reducir-la-dimensionalidad-de-las-distintas-capas-usamos-un-acp-para-seleccionar-los-tres-primeros-ejes",
    "href": "AEMER-4-GDM.html#para-reducir-la-dimensionalidad-de-las-distintas-capas-usamos-un-acp-para-seleccionar-los-tres-primeros-ejes",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Para reducir la dimensionalidad de las distintas capas, usamos un ACP para seleccionar los tres primeros ejes",
    "text": "Para reducir la dimensionalidad de las distintas capas, usamos un ACP para seleccionar los tres primeros ejes\n\npca.rast &lt;- prcomp(gdmRast.sp_trans)\n\n# note the use of the 'index' argument\npca.rast &lt;- terra::predict(gdmRast.sp_trans, pca.rast, index=1:3)\n\n# scale rasters\nmnmx &lt;- range(values(pca.rast), na.rm = TRUE)\npca.rast &lt;- ((pca.rast - mnmx[1]) / diff(mnmx)) * 255\n\npca.rast\n\nclass       : SpatRaster \nsize        : 500, 700, 3  (nrow, ncol, nlyr)\nresolution  : 1000, 1000  (x, y)\nextent      : -100055.4, 599944.6, 5500177, 6000177  (xmin, xmax, ymin, ymax)\ncoord. ref. : WGS 84 / UTM zone 21S (EPSG:32721) \nsource(s)   : memory\nnames       :       PC1,       PC2,     PC3 \nmin values  :  27.01396,  21.78634,   0.000 \nmax values  : 255.00000, 124.18582, 125.431"
  },
  {
    "objectID": "AEMER-4-GDM.html#y-luego-representar-cada-eje-como-un-componente-de-color-rojo-azul-y-verde",
    "href": "AEMER-4-GDM.html#y-luego-representar-cada-eje-como-un-componente-de-color-rojo-azul-y-verde",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Y luego representar cada eje como un componente de color (rojo, azul y verde)",
    "text": "Y luego representar cada eje como un componente de color (rojo, azul y verde)\n\nterra::plotRGB(pca.rast, r=1, g=2, b=3)"
  },
  {
    "objectID": "AEMER-4-GDM.html#también-podemos-analizar-cambios-en-cada-pixel-entre-dos-periodos-concretos",
    "href": "AEMER-4-GDM.html#también-podemos-analizar-cambios-en-cada-pixel-entre-dos-periodos-concretos",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "También podemos analizar cambios en cada pixel entre dos periodos concretos",
    "text": "También podemos analizar cambios en cada pixel entre dos periodos concretos\nPrimero habrá que generar un objeto raster con los datos climáticos modificados\n\nfut_bioclim &lt;- bioclim\nfut_bioclim[[1]] &lt;- fut_bioclim[[1]] + 0.5"
  },
  {
    "objectID": "AEMER-4-GDM.html#posteriormente-hacemos-la-predicción-y-se-dibuja-el-mapa",
    "href": "AEMER-4-GDM.html#posteriormente-hacemos-la-predicción-y-se-dibuja-el-mapa",
    "title": "Modelos Generalizados de Disimilitud en R",
    "section": "Posteriormente hacemos la predicción y se dibuja el mapa",
    "text": "Posteriormente hacemos la predicción y se dibuja el mapa\n\ntimePred &lt;- predict(gdmRast.fit, \n                    bioclim, \n                    time = T, \n                    predRasts = fut_bioclim)\nterra::plot(timePred)"
  },
  {
    "objectID": "AEMER-3-Ejercicios.html",
    "href": "AEMER-3-Ejercicios.html",
    "title": "Análisis espaciales y multivariantes con R (AEMeR) aplicados a estudios de biodiversidad",
    "section": "",
    "text": "Nota\n\n\n\nLos ejercicios tendréis que entregarlos para la evaluación del curso. Para ello, crea un script de R con RStudio. Ponle el nombre ejercicios_t3_[nombre]_[apellido].R. Dicho script deberá estar organizado con comentarios en castellano (poniendo una almohadilla # delante) y justo detrás el código necesario para realizar el ejercicio (ver ejemplo debajo). Además, si el ejercicio pide reflexionar sobre el resultado use los comentarios (con la #) para indicar sus reflexiones debajo del código. Una vez los tengáis completos podéis mandármelos por email.\n\n# Ejercicio 1.\n# Parte 1\nseq(1, 40, by = 2)\n\n# Parte 2\nseq(1, 40, by = -2)\n# Este código da error porque especifiqué algo mal :)\n\n\n\n\nParte 1. Análisis de ordenación\n1. Carga los datos que os he dejado en la página web (muchas gracias Michelle :). Se trata de dos tablas de excel. Una con variables abióticas (ambiente) y otra de variables bióticas (especies) tomados en las zonas de desembocaduras de varios ríos entre Bahía Blanca y Mar de Plata. A la primera llámala env y a la segunda llámala com.\n\n\n\n\n\n\nNota\n\n\n\nHe modificado los datos originales de Michelle en varios sentidos. Por un lado, he rellenado/inventado varios datos de las variables ambientales que no se habían podido medir. Por otro lado, había varios puntos de muestreo que no presentaban ningún individuo de las especies estudiadas. En estos casos, he seleccionado una especie al azar y le he añadido un individuo. Ninguna de las dos cosas es correcta, pero los análisis de ordenación no aceptan puntos sin observación alguna, ni datos ausentes. Lo he hecho intencionadamente para que los datos de Michelle no estén en bruto y podamos realizar los ejercicios sin preocuparnos de los datos NA o sin observaciones.\n\n\n\n\n\n\n\n\nPista\n\n\n\n\n\nAquí vas a necesitar la función read.xlsx, además, deberás especificar el argumento row.names = 1 para asegurarte que lee correctamente los nombres de las filas y los carga como tales. Así no te tendrás que preocupar de eliminar la columna 1 con los nombres de los sitios de muestreo.\n\n\n\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema necesidad.\n\n\n\n\n\n\nlibrary(openxlsx)\n\nWarning: package 'openxlsx' was built under R version 4.3.3\n\nenv &lt;- read.xlsx(\"data/sciberras_ambiente.xlsx\", sheet = 1, rowNames = TRUE)\ncom &lt;- read.xlsx(\"data/sciberras_especies.xlsx\", sheet = 1, rowNames = TRUE)\n\n\n\n\n2. Vamos a preparar un poco los datos. Los datos de comunidades son abundancias, por lo que tienen una distribución muy sesgada hacia la izquierda (muchos valores próximos a cero). En estos casos, es frecuente aplicar una transformación para reducir dicho sesgo. Utiliza la función log1p() sobre la matriz com. El resultado puedes llamarlo comm. Además, la tabla (data frame) env tiene varias columnas y sólo 3 de ellas son variables ambientales. Las otras dos son información que caracteriza el punto de muestreo (información del río, mes de muestreo y ubicación con respecto a la desembocadura: 100 metros al norte, 100 metros al sur, o en la misma desembocadura). Partiendo de este data frame, genera dos data frame distintos; uno llamado sites que tenga la información de caracterización del punto de muestreo (río, sitio y mes) y otro llamado envm con los datos de las variables ambientales medidas (materia_org, temperatura, salinidad y ph).\n\n\n\n\n\n\nPista\n\n\n\n\n\nAquí deberás usar los corchetes ([]), tal y como hemos aprendido en días anteriores.\n\n\n\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema\n\n\n\n\n\n\ncomm &lt;- log1p(com)\nsites &lt;- env[, 1:3]\nenvm &lt;- scale(env[, 4:7])\n\n\n\n\n3. Como hemos comentado en clase, una primera aproximación puede ser realizar un análisis DCA para saber si en nuestros datos dominan las respuestas lineares o unimodales. Ejecuta un DCA sobre los datos transformados de las comunidades (comm) y explica que tipo de análisis realizarás a continuación y justifica por qué.\n\n\n\n\n\n\nPista\n\n\n\n\n\nRecuerda que el análisis DCA se hace con una función del paquete vegan llamada decorana. Una vez realizado el análisis, indica si optas por un análisis linear (PCA) o unimodal (CA). Para ello, comprueba el Axis lengths del primer eje (DCA1) del DCA para ver si presenta un valor inferior a 3 o superior a 4.\n\n\n\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema\n\n\n\n\n\n\nlibrary(vegan)\ndecorana(comm)\n\n\n\n\n4. Realiza el análisis unconstrained que hayas seleccionado en el ejercicio anterior. Guarda el resultado de dicho análisis en un objeto (ponle el nombre que quieras) y dibuja el gráfico de ordenación correspondiente. Asegúrate que el gráfico representa los puntos de los sitio con un color para cada río que se ha muestrado.\n\n\n\n\n\n\nPista\n\n\n\n\n\nLos gráficos de ordenación se pueden realizar con la función plot() o, alternativamente, con la función ordiplot(). La función ordiplot() admite varios argumentos. Uno de ellos es display, que permite representar \"sites\", \"species\" o c(\"sites\", \"species\"). Otro argumento es type = \"n\", que permite controlar si los elementos del gráfico se representan con \"points\", \"text\" o \"none\". Sin embargo, no acepta el argumento col. Por ello, para dibujar los puntos de diferentes colores deberás especificar type = \"n\" y luego usar la función points() para dibujar los puntos con un color diferente en cada río.\n\n\n\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema\n\n\n\n\n\n\ncomm_rda &lt;- rda(comm)\nordiplot(comm_rda, display = \"sites\", type = \"n\")\npoints(comm_rda, col = as.numeric(as.factor(sites[, \"rio\"])))\n\n\n\n\n\n\n\n\n\n\n\n5. Ahora, realiza un análisis constrained del conjunto de datos comm, incorporando el objeto envm al análisis. Consulta la inercia total, y la proporción explicada por la parte constrained y unconstrained. Finalmente, dibuja el gráfico de ordenación resultante. ¿Qué variables explican el eje principal de variación en cuanto a composición?\n\n\n\n\n\n\nPista\n\n\n\n\n\nPara calibrar el modelo constrained, basta con incorporar un segundo argumento a las funciones rda() y cca() con el data frame de variables ambientales.\n\n\n\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema\n\n\n\n\n\n\ncomm_envm_rda &lt;- rda(comm, envm)\ncomm_envm_rda\nordiplot(comm_envm_rda)\n\n\n\n\n\n\nParte 2. Análisis de clasificación\n6. Calcula la matriz de disimilitud, usando la métrica de “Bray Curtis”.\n\n\n\n\n\n\nPista\n\n\n\n\n\nAquí deberás usar la función vegdist sobre el objeto de comunidades original (no el transformado).\n\n\n\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema\n\n\n\n\n\n\ndis &lt;- vegdist(com)\n\n\n\n\n7. Realiza un análisis clúster en base a la matriz de diferencias que se generó en el ejercicio anterior. Para ello, modifica el argumento method para que realice la agrupación con diferentes algoritmos.\n\n\n\n\n\n\nPista\n\n\n\n\n\nPara realizar el análisis necesitas la función hclust(). Los valores del argumento method los puedes consultar en su ayuda (?hclust).\n\n\n\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema\n\n\n\n\n\n\ncom_hc &lt;- hclust(dis, method = \"complete\")\n\n\n\n\n8. Grafica el análisis clúster y usa el argumento hang = -1 para que dibuje el gráfico de manera más amigable. Posteriormente, añade una serie de rectángulos en el gráfico agrupando los puntos de muestreo que son similares entre si. Usa un valor de umbral o un número preestablecido de grupos (a tu elección)\n\n\n\n\n\n\nPista\n\n\n\n\n\nAquí puedes usar la función rect.hclust. En esta función podrás usar un valor de umbral (h = xxx) o un número preestablecido de grupos (n = xxx).\n\n\n\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema\n\n\n\n\n\n\nplot(com_hc, hang = - 1)\nrect.hclust(com_hc, h = 0.7)\n\n\n\n\n\n\n\n\n\n\n\n9. Usando el mismo criterio que en el ejercicio anterior, genera un vector con el grupo resultante de cada sitio.\n\n\n\n\n\n\nPista\n\n\n\n\n\nAquí deberás usar la función cutree(), especificando los grupos con el mismo argumento que en el ejercicio anterior.\n\n\n\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema\n\n\n\n\n\n\ngrp &lt;- cutree(com_hc, h=0.7)\n\n\n\n\n10. Por último, genera de nuevo el gráfico del resultado del análisis constrained RDA. Dibuja el biplot del análisis e incorpora la información de los grupos identificados con el análisis de clasificación.\n\n\n\n\n\n\nPista\n\n\n\n\n\nPara ello deberás dibujar el gráfico con la función ordiplot, points y ordihull, a la cual se especifica el objeto RDA y la matríz de grupos identificados previamente.\n\n\n\n\n\n\n\n\n\nSolución: Mirar sólo en caso de extrema\n\n\n\n\n\n\nordiplot(comm_envm_rda, display = \"sites\", type = \"n\")\npoints(comm_envm_rda, col = as.numeric(as.factor(sites[, \"rio\"])))\nordihull(comm_envm_rda, grp, lty=2, col=\"red\")"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Análisis Espaciales y Multivariantes en R (AEMeR) aplicados a estudios de Biodiversidad",
    "section": "",
    "text": "Carga lectiva: 24h (6 sesiones de 4 horas)\nFechas: 10, 17 y 24 de septiembre, y 1, 8 y 15 de octubre de 2025 de 16 a 20h.\nMateriales del curso:\n\nTema 1: Introducción a R. Presentación 1 -Presentación 2 - Ejercicios - Abundance.csv\n\nEste curso está promovido en el marco del convenio ceiA3 con Banco Santander Universidades. CEI financiado por el Gobierno de España y la Junta de Andalucía en el programa del Marco del Programa Campus de Excelencia Universitaria. \nPara saber más sobre páginas web creadas con Quarto visita https://quarto.org/docs/websites."
  }
]