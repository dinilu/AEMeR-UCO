<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.57">

  <meta name="author" content="Diego Nieto Lugilde">
  <meta name="dcterms.date" content="2024-10-15">
  <title>An√°lisis de datos espaciales en R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">An√°lisis de datos espaciales en R</h1>
  <p class="subtitle">Manejo de datos espaciales en R</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Diego Nieto Lugilde 
</div>
        <p class="quarto-title-affiliation">
            Universidad de C√≥rdoba (Espa√±a)
          </p>
    </div>
</div>

  <p class="date">2024-10-15</p>
</section>
<section>
<section id="introducci√≥n-a-los-datos-espaciales" class="title-slide slide level1 center">
<h1>Introducci√≥n a los datos espaciales</h1>

</section>
<section id="qu√©-son-los-datos-espaciales" class="slide level2">
<h2>¬øQu√© son los datos espaciales?</h2>
<p><a href="img/datos_espaciales.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img data-src="img/datos_espaciales.jpg"></a></p>
</section>
<section id="la-misma-informaci√≥n-se-puede-representar-de-varias-maneras" class="slide level2">
<h2>La misma informaci√≥n se puede representar de varias maneras</h2>
<div class="columns">
<div class="column">
<p>Algunos tipos de datos se ajustan mejor a ciertas formas de representaci√≥n</p>
</div><div class="column">
<p><a href="img/raster_versus_vectorial.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img data-src="img/raster_versus_vectorial.jpg"></a></p>
</div></div>
</section>
<section id="c√≥mo-se-localiza-la-informaci√≥n" class="slide level2">
<h2>¬øC√≥mo se localiza la informaci√≥n?</h2>
<p><a href="img/coordenadas-geograficas.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img data-src="img/coordenadas-geograficas.jpg"></a></p>
</section>
<section id="no-parece-f√°cil-medir-los-√°ngulos" class="slide level2">
<h2>No parece f√°cil medir los √°ngulos ;)</h2>
<p><a href="img/datum.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img data-src="img/datum.jpg"></a></p>
<p>Se calculan aproximaciones usando modelos de la Tierra (Datum)</p>
</section>
<section id="no-es-lo-mismo-saber-donde-ocurre-algo-que-dibujarlo-en-un-mapa" class="slide level2">
<h2>No es lo mismo saber donde ocurre algo que dibujarlo en un mapa</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Para ello es necesario proyectar una esfera sobre un plano</p>
</div><div class="column" style="width:60%;">
<p><a href="img/proyecciones.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img data-src="img/proyecciones.png"></a></p>
</div></div>
</section>
<section id="cada-proyecci√≥n-y-cada-datum-genera-mapas-con-propiedades-diferentes" class="slide level2">
<h2>Cada proyecci√≥n y cada datum genera mapas con propiedades diferentes</h2>
<p>Conformes, equidistantes, equivalentes y afil√°ticas</p>
<p><a href="img/tipos_de_proyecciones.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img data-src="img/tipos_de_proyecciones.jpg"></a></p>
</section></section>
<section>
<section id="manejando-datos-espaciales" class="title-slide slide level1 center" data-background-color="aquamarine">
<h1>Manejando datos espaciales</h1>

</section>
<section id="vamos-a-usar-el-paquete-terra" class="slide level2">
<h2>Vamos a usar el paquete <code>terra</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="co"># install.packages("terra")</span></span>
<span id="cb1-2"><a></a><span class="fu">library</span>(terra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="manejando-datos-vectoriales" class="title-slide slide level1 center" data-background-color="aquamarine">
<h1>Manejando datos vectoriales</h1>

</section>
<section id="podemos-crear-datos-vectoriales-desde-cero" class="slide level2">
<h2>Podemos crear datos vectoriales desde cero</h2>
<p>Los m√°s sencillos de crear son los puntos</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-code-line-numbers="1-2|3|4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>lon <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">116.7</span>, <span class="sc">-</span><span class="fl">120.4</span>, <span class="sc">-</span><span class="fl">116.7</span>, <span class="sc">-</span><span class="fl">113.5</span>, <span class="sc">-</span><span class="fl">115.5</span>, <span class="sc">-</span><span class="fl">120.8</span>, <span class="sc">-</span><span class="fl">119.5</span>, <span class="sc">-</span><span class="fl">113.7</span>, <span class="sc">-</span><span class="fl">113.7</span>, <span class="sc">-</span><span class="fl">110.7</span>) </span>
<span id="cb2-2"><a></a>lat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">45.3</span>, <span class="fl">42.6</span>, <span class="fl">38.9</span>, <span class="fl">42.1</span>, <span class="fl">35.7</span>, <span class="fl">38.9</span>, <span class="fl">36.2</span>, <span class="dv">39</span>, <span class="fl">41.6</span>, <span class="fl">36.9</span>) </span>
<span id="cb2-3"><a></a>lonlat <span class="ot">&lt;-</span> <span class="fu">cbind</span>(lon, lat) </span>
<span id="cb2-4"><a></a>pts <span class="ot">&lt;-</span> <span class="fu">vect</span>(lonlat) </span>
<span id="cb2-5"><a></a>pts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> class       : SpatVector 
 geometry    : points 
 dimensions  : 10, 0  (geometries, attributes)
 extent      : -120.8, -110.7, 35.7, 45.3  (xmin, xmax, ymin, ymax)
 coord. ref. :  </code></pre>
</div>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>Fijaros que el apartado ‚Äúcoord. ref.‚Äù est√° vac√≠o</p>
</div>
</div>
</div>
</section>
<section id="revisamos-el-tipo-de-datos" class="slide level2">
<h2>Revisamos el tipo de datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">class</span>(pts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "SpatVector"
attr(,"package")
[1] "terra"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="fu">geom</span>(pts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      geom part      x    y hole
 [1,]    1    1 -116.7 45.3    0
 [2,]    2    1 -120.4 42.6    0
 [3,]    3    1 -116.7 38.9    0
 [4,]    4    1 -113.5 42.1    0
 [5,]    5    1 -115.5 35.7    0
 [6,]    6    1 -120.8 38.9    0
 [7,]    7    1 -119.5 36.2    0
 [8,]    8    1 -113.7 39.0    0
 [9,]    9    1 -113.7 41.6    0
[10,]   10    1 -110.7 36.9    0</code></pre>
</div>
</div>
</section>
<section id="veamos-la-distribuci√≥n-espacial-de-los-datos" class="slide level2">
<h2>Veamos la distribuci√≥n espacial de los datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="fu">plot</span>(pts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-5-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-5-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="definimos-el-sistema-de-referencia-de-coordenadas-crs" class="slide level2">
<h2>Definimos el sistema de referencia de coordenadas (CRS)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>crdref <span class="ot">&lt;-</span> <span class="st">"+proj=longlat +datum=WGS84"</span></span>
<span id="cb9-2"><a></a>pts <span class="ot">&lt;-</span> <span class="fu">vect</span>(lonlat, <span class="at">crs =</span> crdref)</span>
<span id="cb9-3"><a></a>pts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> class       : SpatVector 
 geometry    : points 
 dimensions  : 10, 0  (geometries, attributes)
 extent      : -120.8, -110.7, 35.7, 45.3  (xmin, xmax, ymin, ymax)
 coord. ref. : +proj=longlat +datum=WGS84 +no_defs </code></pre>
</div>
</div>
</section>
<section id="podemos-comprobar-el-crs-de-un-objeto-vectorial" class="slide level2">
<h2>Podemos comprobar el CRS de un objeto vectorial</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="fu">crs</span>(pts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "GEOGCRS[\"unknown\",\n    DATUM[\"World Geodetic System 1984\",\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]],\n        ID[\"EPSG\",6326]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433],\n        ID[\"EPSG\",8901]],\n    CS[ellipsoidal,2],\n        AXIS[\"longitude\",east,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433,\n                ID[\"EPSG\",9122]]],\n        AXIS[\"latitude\",north,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433,\n                ID[\"EPSG\",9122]]]]"</code></pre>
</div>
</div>
</section>
<section id="la-ubicaci√≥n-sola-no-es-muy-interesante" class="slide level2">
<h2>La ubicaci√≥n sola no es muy interesante‚Ä¶</h2>
<p>Voy a simular valores de precipitaci√≥n al azar (<code>sample</code>), un valor para cada punto</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="1|2-3|4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a>precipvalue <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, <span class="dv">10</span>)</span>
<span id="cb13-2"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(lonlat), </span>
<span id="cb13-3"><a></a>                 <span class="at">precip =</span> precipvalue)</span>
<span id="cb13-4"><a></a>pts <span class="ot">&lt;-</span> <span class="fu">vect</span>(lonlat, <span class="at">atts =</span> df, <span class="at">crs =</span> crdref)</span>
<span id="cb13-5"><a></a>pts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> class       : SpatVector 
 geometry    : points 
 dimensions  : 10, 2  (geometries, attributes)
 extent      : -120.8, -110.7, 35.7, 45.3  (xmin, xmax, ymin, ymax)
 coord. ref. : +proj=longlat +datum=WGS84 +no_defs 
 names       :    ID precip
 type        : &lt;int&gt;  &lt;int&gt;
 values      :     1      8
                   2     76
                   3     12</code></pre>
</div>
</div>
</section>
<section id="veamos-las-precipitaciones-en-su-contexto-espacial" class="slide level2">
<h2>Veamos las precipitaciones en su contexto espacial</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="fu">plot</span>(pts, <span class="st">"precip"</span>, <span class="at">type =</span> <span class="st">"interval"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-9-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-9-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="vamos-a-generar-ahora-un-segundo-conjunto-de-puntos" class="slide level2">
<h2>Vamos a generar ahora un segundo conjunto de puntos‚Ä¶</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" data-code-line-numbers="1-2|3-4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a>lon2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">116.8</span>, <span class="sc">-</span><span class="fl">114.2</span>, <span class="sc">-</span><span class="fl">112.9</span>, <span class="sc">-</span><span class="fl">111.9</span>, <span class="sc">-</span><span class="fl">114.2</span>, <span class="sc">-</span><span class="fl">115.4</span>, <span class="sc">-</span><span class="fl">117.7</span>)</span>
<span id="cb16-2"><a></a>lat2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">41.3</span>, <span class="fl">42.9</span>, <span class="fl">42.4</span>, <span class="fl">39.8</span>, <span class="fl">37.6</span>, <span class="fl">38.3</span>, <span class="fl">37.6</span>)</span>
<span id="cb16-3"><a></a>lonlat2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="at">id =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">part =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), lon2, lat2)</span>
<span id="cb16-4"><a></a>lonlat2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     id part   lon2 lat2
[1,]  1    1 -116.8 41.3
[2,]  1    1 -114.2 42.9
[3,]  1    1 -112.9 42.4
[4,]  1    1 -111.9 39.8
[5,]  1    1 -114.2 37.6
[6,]  1    1 -115.4 38.3
[7,]  1    1 -117.7 37.6</code></pre>
</div>
</div>
</section>
<section id="pero-para-crear-datos-de-l√≠neas" class="slide level2">
<h2>‚Ä¶ pero para crear datos de l√≠neas‚Ä¶</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a>lns <span class="ot">&lt;-</span> <span class="fu">vect</span>(lonlat2, <span class="at">type =</span> <span class="st">"lines"</span>, <span class="at">crs =</span> crdref)</span>
<span id="cb18-2"><a></a>lns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> class       : SpatVector 
 geometry    : lines 
 dimensions  : 1, 0  (geometries, attributes)
 extent      : -117.7, -111.9, 37.6, 42.9  (xmin, xmax, ymin, ymax)
 coord. ref. : +proj=longlat +datum=WGS84 +no_defs </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a><span class="fu">plot</span>(lns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-12-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-12-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="o-un-datos-de-pol√≠gonos" class="slide level2">
<h2>‚Ä¶ o un datos de pol√≠gonos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a>pols <span class="ot">&lt;-</span> <span class="fu">vect</span>(lonlat2, <span class="at">type =</span> <span class="st">"polygons"</span>, <span class="at">crs =</span> crdref)</span>
<span id="cb21-2"><a></a>pols</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> class       : SpatVector 
 geometry    : polygons 
 dimensions  : 1, 0  (geometries, attributes)
 extent      : -117.7, -111.9, 37.6, 42.9  (xmin, xmax, ymin, ymax)
 coord. ref. : +proj=longlat +datum=WGS84 +no_defs </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a><span class="fu">plot</span>(pols)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-14-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-14-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="lo-m√°s-normal-es-usar-datos-generados-con-un-sig" class="slide level2">
<h2>Lo m√°s normal es usar datos generados con un SIG</h2>
<p>Descargar datos de Internet (v.gr. <a href="https://gadm.org">GADM</a>) y cargarlos desde el disco duro</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a>arg <span class="ot">&lt;-</span> <span class="fu">vect</span>(<span class="st">"gadm/gadm41_ARG_1.shp"</span>)</span>
<span id="cb24-2"><a></a>arg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lo-m√°s-normal-es-usar-datos-generados-con-un-sig-1" class="slide level2">
<h2>Lo m√°s normal es usar datos generados con un SIG</h2>
<p>Hay paquetes de R que dan acceso directo a datos vectoriales (v.gr. <code>geodata</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a><span class="co"># install.packages("geodata")</span></span>
<span id="cb25-2"><a></a><span class="fu">library</span>(geodata)</span>
<span id="cb25-3"><a></a>arg <span class="ot">&lt;-</span> <span class="fu">gadm</span>(<span class="st">"ARG"</span>, <span class="at">level =</span> <span class="dv">1</span>, <span class="at">path =</span> <span class="st">"."</span>)</span>
<span id="cb25-4"><a></a>arg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> class       : SpatVector 
 geometry    : polygons 
 dimensions  : 24, 11  (geometries, attributes)
 extent      : -73.56056, -53.59184, -55.06153, -21.78137  (xmin, xmax, ymin, ymax)
 coord. ref. : lon/lat WGS 84 (EPSG:4326) 
 names       :   GID_1 GID_0   COUNTRY       NAME_1       VARNAME_1 NL_NAME_1
 type        :   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;chr&gt;     &lt;chr&gt;
 values      : ARG.1_1   ARG Argentina Buenos Aires Baires|Buenos ~        NA
               ARG.2_1   ARG Argentina    Catamarca              NA        NA
               ARG.3_1   ARG Argentina        Chaco El Chaco|Presi~        NA
    TYPE_1 ENGTYPE_1  CC_1 HASC_1 ISO_1
     &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;
 Provincia  Province    NA  AR.BA  AR-B
 Provincia  Province    NA  AR.CT  AR-K
 Provincia  Province    NA  AR.CC  AR-H</code></pre>
</div>
</div>
</section>
<section id="veamos-si-se-parece-a-lo-que-conocemos" class="slide level2">
<h2>Veamos si se parece a lo que conocemos‚Ä¶</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a></a><span class="fu">plot</span>(arg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-17-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-17-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="estos-datos-se-pueden-guardar-para-no-tener-que-volver-a-descargarlos" class="slide level2">
<h2>Estos datos se pueden guardar para no tener que volver a descargarlos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a><span class="fu">writeVector</span>(arg, <span class="st">"arg.shp"</span>, <span class="at">overwrite =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="comprobemos-el-crs-de-alguno-de-nuestros-datos" class="slide level2">
<h2>Comprobemos el CRS de alguno de nuestros datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a></a><span class="fu">crs</span>(arg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "GEOGCRS[\"WGS 84\",\n    DATUM[\"World Geodetic System 1984\",\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"geodetic latitude (Lat)\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"geodetic longitude (Lon)\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    ID[\"EPSG\",4326]]"</code></pre>
</div>
</div>
</section>
<section id="se-puede-borrar-el-crs-del-conjunto-de-datos" class="slide level2">
<h2>Se puede borrar el CRS del conjunto de datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a></a>arg_sin_crs <span class="ot">&lt;-</span> arg</span>
<span id="cb31-2"><a></a><span class="fu">crs</span>(arg_sin_crs) <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb31-3"><a></a><span class="fu">crs</span>(arg_sin_crs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] ""</code></pre>
</div>
</div>
</section>
<section id="o-se-puede-especificar-a-mano-estandar-proj.4" class="slide level2">
<h2>O se puede especificar a mano (estandar PROJ.4)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a></a>arg_falso_utm <span class="ot">&lt;-</span> arg</span>
<span id="cb33-2"><a></a><span class="fu">crs</span>(arg_falso_utm) <span class="ot">&lt;-</span> <span class="st">"+proj=utm +zone=19 +south +datum=WGS84 +units=m +no_defs +type=crs"</span></span>
<span id="cb33-3"><a></a><span class="fu">crs</span>(arg_falso_utm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PROJCRS[\"unknown\",\n    BASEGEOGCRS[\"unknown\",\n        DATUM[\"World Geodetic System 1984\",\n            ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n                LENGTHUNIT[\"metre\",1]],\n            ID[\"EPSG\",6326]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8901]]],\n    CONVERSION[\"UTM zone 19S\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",-69,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9996,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",10000000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]],\n        ID[\"EPSG\",17019]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1,\n                ID[\"EPSG\",9001]]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1,\n                ID[\"EPSG\",9001]]]]"</code></pre>
</div>
</div>
</section>
<section id="o-se-puede-especificar-con-los-c√≥digos-epsg" class="slide level2">
<h2>O se puede especificar con los c√≥digos <a href="https://epsg.io/">EPSG</a></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a>arg_false_utm2 <span class="ot">&lt;-</span> arg</span>
<span id="cb35-2"><a></a><span class="fu">crs</span>(arg_false_utm2) <span class="ot">&lt;-</span> <span class="st">"EPSG:32719"</span></span>
<span id="cb35-3"><a></a><span class="fu">crs</span>(arg_false_utm2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PROJCRS[\"WGS 84 / UTM zone 19S\",\n    BASEGEOGCRS[\"WGS 84\",\n        ENSEMBLE[\"World Geodetic System 1984 ensemble\",\n            MEMBER[\"World Geodetic System 1984 (Transit)\"],\n            MEMBER[\"World Geodetic System 1984 (G730)\"],\n            MEMBER[\"World Geodetic System 1984 (G873)\"],\n            MEMBER[\"World Geodetic System 1984 (G1150)\"],\n            MEMBER[\"World Geodetic System 1984 (G1674)\"],\n            MEMBER[\"World Geodetic System 1984 (G1762)\"],\n            MEMBER[\"World Geodetic System 1984 (G2139)\"],\n            ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n                LENGTHUNIT[\"metre\",1]],\n            ENSEMBLEACCURACY[2.0]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4326]],\n    CONVERSION[\"UTM zone 19S\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",-69,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9996,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",10000000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Navigation and medium accuracy spatial referencing.\"],\n        AREA[\"Between 72¬∞W and 66¬∞W, southern hemisphere between 80¬∞S and equator, onshore and offshore. Argentina. Bolivia. Brazil. Chile. Colombia. Peru.\"],\n        BBOX[-80,-72,0,-66]],\n    ID[\"EPSG\",32719]]"</code></pre>
</div>
</div>
</section>
<section id="cambia-el-crs-pero-no-las-coordenadas-en-si" class="slide level2">
<h2>Cambia el CRS pero no las coordenadas en si</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>))</span>
<span id="cb37-2"><a></a><span class="fu">plot</span>(arg)</span>
<span id="cb37-3"><a></a><span class="fu">plot</span>(arg_sin_crs)</span>
<span id="cb37-4"><a></a><span class="fu">plot</span>(arg_falso_utm)</span>
<span id="cb37-5"><a></a><span class="fu">plot</span>(arg_false_utm2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-23-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-23-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Cambia la representaci√≥n gr√°fica porque las unidades cambian entre CRS (grados o metros). Mientras los metros se representan igual en el eje horizontal y vertical, los grados geogr√°ficos no.</p>
</div>
</div>
</div>
</section>
<section id="para-convertir-coordenadas-entre-diferentes-crss-tenemos-que-proyectar-los-datos" class="slide level2">
<h2>Para convertir coordenadas entre diferentes CRSs tenemos que proyectar los datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb38" data-code-line-numbers="1|2|3-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a></a>arg_utm19s <span class="ot">&lt;-</span> <span class="fu">project</span>(arg, <span class="st">"+proj=utm +zone=19 +south +datum=WGS84 +units=m +no_defs +type=crs"</span>)</span>
<span id="cb38-2"><a></a>arg_4326 <span class="ot">&lt;-</span> <span class="fu">project</span>(arg, <span class="st">"EPSG:32719"</span>)</span>
<span id="cb38-3"><a></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb38-4"><a></a><span class="fu">plot</span>(arg)</span>
<span id="cb38-5"><a></a><span class="fu">plot</span>(arg_utm19s)</span>
<span id="cb38-6"><a></a><span class="fu">plot</span>(arg_4326)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-24-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-24-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tambi√©n-se-puede-filtrar-la-informaci√≥n-para-una-o-varias-entidades-de-los-datos" class="slide level2">
<h2>Tambi√©n se puede filtrar la informaci√≥n para una o varias entidades de los datos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a><span class="fu">which</span>(arg<span class="sc">$</span>NAME_1 <span class="sc">==</span> <span class="st">"Buenos Aires"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41" data-code-line-numbers="1|2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a>i <span class="ot">&lt;-</span> <span class="fu">which</span>(arg<span class="sc">$</span>NAME_1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Buenos Aires"</span>, <span class="st">"R√≠o Negro"</span>))</span>
<span id="cb41-2"><a></a>g <span class="ot">&lt;-</span> arg[i,]</span>
<span id="cb41-3"><a></a><span class="fu">plot</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-26-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-26-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="momento-para-practicar" class="slide level2">
<h2>Momento para practicar</h2>
<p>Ejercicios de clase</p>
<p>Parte 1: Trabajando con datos vectoriales</p>
</section></section>
<section>
<section id="manejando-datos-r√°ster" class="title-slide slide level1 center" data-background-color="aquamarine">
<h1>Manejando datos r√°ster</h1>

</section>
<section id="podemos-crear-datos-r√°ster-desde-cero" class="slide level2">
<h2>Podemos crear datos r√°ster desde cero</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb42" data-code-line-numbers="1-3|4|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a></a>r <span class="ot">&lt;-</span> <span class="fu">rast</span>(<span class="at">ncol =</span> <span class="dv">10</span>, <span class="at">nrow =</span> <span class="dv">10</span>, </span>
<span id="cb42-2"><a></a>          <span class="at">xmin =</span> <span class="sc">-</span><span class="dv">150</span>, <span class="at">xmax =</span> <span class="sc">-</span><span class="dv">80</span>, </span>
<span id="cb42-3"><a></a>          <span class="at">ymin =</span> <span class="dv">20</span>, <span class="at">ymax =</span> <span class="dv">60</span>)</span>
<span id="cb42-4"><a></a><span class="fu">values</span>(r) <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="fu">ncell</span>(r))</span>
<span id="cb42-5"><a></a>r</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
size        : 10, 10, 1  (nrow, ncol, nlyr)
resolution  : 7, 4  (x, y)
extent      : -150, -80, 20, 60  (xmin, xmax, ymin, ymax)
coord. ref. : lon/lat WGS 84 (CRS84) (OGC:CRS84) 
source(s)   : memory
name        :        lyr.1 
min value   : 0.0005938639 
max value   : 0.9997976008 </code></pre>
</div>
</div>
</section>
<section id="veamos-que-aspecto-tienen" class="slide level2">
<h2>Veamos que aspecto tienen</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a></a><span class="fu">plot</span>(r)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-28-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-28-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="podemos-operar-con-los-datos-r√°ster" class="slide level2">
<h2>Podemos operar con los datos r√°ster</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb45" data-code-line-numbers="1|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a></a>r2 <span class="ot">&lt;-</span> r <span class="sc">*</span> r</span>
<span id="cb45-2"><a></a>r3  <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(r)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>Al operar con datos r√°ster, las operaciones se aplican sobre cada p√≠xel individualmente. Por ello, s√≥lo se pueden realizar operaciones con r√°ster que tienen el mismo √°rea y el mismo tama√±o de p√≠xel. El resultado, por tanto, es un nuevo objeto r√°ster con las mismas caracter√≠sticas geogr√°ficas, pero cuyos p√≠xeles tienen los valores resultantes de aplicar las funciones matem√°ticas.</p>
</div>
</div>
</div>
</section>
<section id="si-trabajamos-con-muchas-capas-mejor-crear-un-objeto-multicapa" class="slide level2">
<h2>Si trabajamos con muchas capas, mejor crear un objeto multicapa</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a></a>stck <span class="ot">&lt;-</span> <span class="fu">c</span>(r, r2, r3)</span>
<span id="cb46-2"><a></a>stck</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
size        : 10, 10, 3  (nrow, ncol, nlyr)
resolution  : 7, 4  (x, y)
extent      : -150, -80, 20, 60  (xmin, xmax, ymin, ymax)
coord. ref. : lon/lat WGS 84 (CRS84) (OGC:CRS84) 
source(s)   : memory
names       :        lyr.1,        lyr.1,      lyr.1 
min values  : 0.0005938639, 3.526743e-07, 0.02436932 
max values  : 0.9997976008, 9.995952e-01, 0.99989880 </code></pre>
</div>
</div>
</section>
<section id="veamos-que-aspecto-tiene-el-objeto-multicapa" class="slide level2">
<h2>Veamos que aspecto tiene el objeto multicapa</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a></a><span class="fu">plot</span>(stck)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-31-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-31-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tambi√©n-se-pueden-extraer-capas-de-objetos-multicapa" class="slide level2">
<h2>Tambi√©n se pueden extraer capas de objetos multicapa</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a></a>r2 <span class="ot">&lt;-</span> stck[[<span class="dv">2</span>]]</span>
<span id="cb49-2"><a></a>r2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
size        : 10, 10, 1  (nrow, ncol, nlyr)
resolution  : 7, 4  (x, y)
extent      : -150, -80, 20, 60  (xmin, xmax, ymin, ymax)
coord. ref. : lon/lat WGS 84 (CRS84) (OGC:CRS84) 
source(s)   : memory
name        :        lyr.1 
min value   : 3.526743e-07 
max value   : 9.995952e-01 </code></pre>
</div>
</div>
</section>
<section id="como-antes-lo-normal-es-cargar-datos-generados-en-sig" class="slide level2">
<h2>Como antes, lo normal es cargar datos generados en SIG</h2>
<p>Para ello podemos descargar datos de distintas fuentes (v.gr. <a href="https://worldclim.org">WorldClim</a>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a></a>tavg <span class="ot">&lt;-</span> <span class="fu">rast</span>(<span class="st">"data/tavg_arg.tif"</span>)</span>
<span id="cb51-2"><a></a>tavg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
size        : 4080, 2460, 12  (nrow, ncol, nlyr)
resolution  : 0.008333333, 0.008333333  (x, y)
extent      : -74, -53.5, -55.5, -21.5  (xmin, xmax, ymin, ymax)
coord. ref. : lon/lat WGS 84 (EPSG:4326) 
source      : tavg_arg.tif 
names       : ARG_w~avg_1, ARG_w~avg_2, ARG_w~avg_3, ARG_w~avg_4, ARG_w~avg_5, ARG_w~avg_6, ... 
min values  :       -11.1,       -11.8,       -12.5,       -14.5,       -16.7,       -19.8, ... 
max values  :        29.2,        28.4,        27.3,        25.0,        22.2,        21.0, ... </code></pre>
</div>
</div>
</section>
<section id="como-antes-lo-normal-es-cargar-datos-generados-en-sig-1" class="slide level2">
<h2>Como antes, lo normal es cargar datos generados en SIG</h2>
<p>‚Ä¶ o podemos usar el paquete <code>geodata</code> para acceder directamente a esa informaci√≥n</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a></a>tavg <span class="ot">&lt;-</span> <span class="fu">worldclim_country</span>(<span class="st">"ARG"</span>, <span class="st">"tavg"</span>, <span class="at">path =</span> <span class="st">"."</span>)</span>
<span id="cb53-2"><a></a>tavg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="veamos-si-se-parece-a-lo-que-conocemos-1" class="slide level2">
<h2>Veamos si se parece a lo que conocemos‚Ä¶</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a></a><span class="fu">plot</span>(tavg, <span class="at">range =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">20</span>, <span class="dv">30</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-35-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-35-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tambi√©n-podemos-guardar-estos-datos-para-no-tener-que-volver-a-descargarlos" class="slide level2">
<h2>Tambi√©n podemos guardar estos datos para no tener que volver a descargarlos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a></a><span class="fu">writeRaster</span>(tavg, <span class="st">"raster_tavg_arg.tif"</span>, <span class="at">overwrite =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="los-datos-r√°ster-tambi√©n-se-pueden-proyectar" class="slide level2">
<h2>Los datos r√°ster tambi√©n se pueden proyectar</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a></a>tavg_utm19s <span class="ot">&lt;-</span> <span class="fu">project</span>(tavg, <span class="st">"EPSG:32719"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
|---------|---------|---------|---------|
=========================================
                                          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a></a>tavg_utm19s</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
size        : 4455, 2454, 12  (nrow, ncol, nlyr)
resolution  : 871.5251, 871.5251  (x, y)
extent      : -18378.29, 2120344, 3739870, 7622514  (xmin, xmax, ymin, ymax)
coord. ref. : WGS 84 / UTM zone 19S (EPSG:32719) 
source      : spat_5cc3a9c19fc_1484_o8up7yuDdJ6XHBX.tif 
names       : ARG_w~avg_1, ARG_w~avg_2, ARG_w~avg_3, ARG_w~avg_4, ARG_w~avg_5, ARG_w~avg_6, ... 
min values  :    -10.0483,   -10.73825,   -11.50091,   -13.56357,   -15.82101,   -19.13140, ... 
max values  :     29.2000,    28.40000,    27.30000,    25.00000,    22.20000,    20.98395, ... </code></pre>
</div>
</div>
</section>
<section id="ahora-las-coordenadas-si-aparecen-desplazadas" class="slide level2">
<h2>Ahora las coordenadas si aparecen ‚Äúdesplazadas‚Äù</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb60-2"><a></a><span class="fu">plot</span>(tavg[[<span class="dv">1</span>]])</span>
<span id="cb60-3"><a></a><span class="fu">plot</span>(tavg_utm19s[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-38-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-38-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>No hay una correspondencia exacta de p√≠xeles. Lo ver√©is m√°s claro si revis√°is las diapositivas anteriores (39 y 43).</p>
</div>
</div>
</div>
</section>
<section id="para-controlar-el-n√∫mero-de-pixeles-y-su-resoluci√≥n-podemos-crear-una-plantilla" class="slide level2">
<h2>Para controlar el n√∫mero de pixeles y su resoluci√≥n podemos crear una ‚Äúplantilla‚Äù</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a></a>plantilla <span class="ot">&lt;-</span> <span class="fu">rast</span>(tavg_utm19s)</span>
<span id="cb61-2"><a></a><span class="fu">res</span>(plantilla) <span class="ot">&lt;-</span> <span class="dv">800</span></span>
<span id="cb61-3"><a></a>plantilla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
size        : 4853, 2673, 12  (nrow, ncol, nlyr)
resolution  : 800, 800  (x, y)
extent      : -18378.29, 2120022, 3739870, 7622270  (xmin, xmax, ymin, ymax)
coord. ref. : WGS 84 / UTM zone 19S (EPSG:32719) </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a></a>tavg_utm19s_plantilla <span class="ot">&lt;-</span> <span class="fu">project</span>(tavg, plantilla)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
|---------|---------|---------|---------|
=========================================
                                          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a></a>tavg_utm19s_plantilla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
size        : 4853, 2673, 12  (nrow, ncol, nlyr)
resolution  : 800, 800  (x, y)
extent      : -18378.29, 2120022, 3739870, 7622270  (xmin, xmax, ymin, ymax)
coord. ref. : WGS 84 / UTM zone 19S (EPSG:32719) 
source      : spat_5cc6ac33f27_1484_zxzxx9jyyx6UnnI.tif 
names       : ARG_w~avg_1, ARG_w~avg_2, ARG_w~avg_3, ARG_w~avg_4, ARG_w~avg_5, ARG_w~avg_6, ... 
min values  :   -10.77633,   -11.47463,   -12.17463,   -14.20292,   -16.40292,   -19.51049, ... 
max values  :    29.20000,    28.40000,    27.30000,    25.00000,    22.20000,    20.94756, ... </code></pre>
</div>
</div>
</section>
<section id="veamos-el-resultado" class="slide level2">
<h2>Veamos el resultado</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb67-2"><a></a><span class="fu">plot</span>(tavg[[<span class="dv">2</span>]])</span>
<span id="cb67-3"><a></a><span class="fu">plot</span>(tavg_utm19s[[<span class="dv">2</span>]])</span>
<span id="cb67-4"><a></a><span class="fu">plot</span>(tavg_utm19s_plantilla[[<span class="dv">2</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-41-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-41-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="momento-de-practicar-por-vuestra-cuenta" class="slide level2">
<h2>Momento de practicar por vuestra cuenta</h2>
<p>Ejercicios de clase</p>
<p>Parte 2. Manejo de datos r√°ster</p>
</section></section>
<section>
<section id="manipular-datos-espaciales" class="title-slide slide level1 center" data-background-color="aquamarine">
<h1>Manipular datos espaciales</h1>

</section>
<section id="podemos-dibujar-los-mapas-en-base-a-informaci√≥n-de-los-atributos" class="slide level2">
<h2>Podemos dibujar los mapas en base a informaci√≥n de los atributos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a></a><span class="fu">plot</span>(arg, <span class="st">"NAME_1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-42-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-42-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="podemos-combinar-informaci√≥n-r√°ster-y-vectorial-en-el-mismo-gr√°fico" class="slide level2">
<h2>Podemos combinar informaci√≥n r√°ster y vectorial en el mismo gr√°fico</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a></a><span class="fu">plot</span>(tavg[[<span class="dv">1</span>]])</span>
<span id="cb69-2"><a></a><span class="fu">plot</span>(arg, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-43-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-43-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tambi√©n-se-puede-extraer-informaci√≥n-de-atributos-para-trabajar-con-ella" class="slide level2">
<h2>Tambi√©n se puede extraer informaci√≥n de atributos para trabajar con ella</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a></a>d <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(arg)</span>
<span id="cb70-2"><a></a><span class="fu">head</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    GID_1 GID_0   COUNTRY                 NAME_1
1 ARG.1_1   ARG Argentina           Buenos Aires
2 ARG.2_1   ARG Argentina              Catamarca
3 ARG.3_1   ARG Argentina                  Chaco
4 ARG.4_1   ARG Argentina                 Chubut
5 ARG.5_1   ARG Argentina Ciudad de Buenos Aires
6 ARG.6_1   ARG Argentina                C√≥rdoba
                         VARNAME_1 NL_NAME_1           TYPE_1        ENGTYPE_1
1              Baires|Buenos Ayres      &lt;NA&gt;        Provincia         Province
2                             &lt;NA&gt;      &lt;NA&gt;        Provincia         Province
3   El Chaco|Presidente Juan Peron      &lt;NA&gt;        Provincia         Province
4                             &lt;NA&gt;      &lt;NA&gt;        Provincia         Province
5 BUENOS AIRES D.F.|Capital Federa      &lt;NA&gt; Distrito Federal Federal District
6                          Cordova      &lt;NA&gt;        Provincia         Province
  CC_1 HASC_1 ISO_1
1 &lt;NA&gt;  AR.BA  AR-B
2 &lt;NA&gt;  AR.CT  AR-K
3 &lt;NA&gt;  AR.CC  AR-H
4 &lt;NA&gt;  AR.CH  AR-U
5 &lt;NA&gt;  AR.DF  &lt;NA&gt;
6 &lt;NA&gt;  AR.CB  &lt;NA&gt;</code></pre>
</div>
</div>
</section>
<section id="o-puedo-extraer-la-informaci√≥n-de-uno-s√≥lo-de-los-atributos" class="slide level2">
<h2>O puedo extraer la informaci√≥n de uno s√≥lo de los atributos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a></a>arg<span class="sc">$</span>NAME_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Buenos Aires"           "Catamarca"              "Chaco"                 
 [4] "Chubut"                 "Ciudad de Buenos Aires" "C√≥rdoba"               
 [7] "Corrientes"             "Entre R√≠os"             "Formosa"               
[10] "Jujuy"                  "La Pampa"               "La Rioja"              
[13] "Mendoza"                "Misiones"               "Neuqu√©n"               
[16] "R√≠o Negro"              "Salta"                  "San Juan"              
[19] "San Luis"               "Santa Cruz"             "Santa Fe"              
[22] "Santiago del Estero"    "Tierra del Fuego"       "Tucum√°n"               </code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a></a>arg[, <span class="st">"NAME_1"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> class       : SpatVector 
 geometry    : polygons 
 dimensions  : 24, 1  (geometries, attributes)
 extent      : -73.56056, -53.59184, -55.06153, -21.78137  (xmin, xmax, ymin, ymax)
 coord. ref. : lon/lat WGS 84 (EPSG:4326) 
 names       :       NAME_1
 type        :        &lt;chr&gt;
 values      : Buenos Aires
                  Catamarca
                      Chaco</code></pre>
</div>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>Notad que en este caso, las dos formas de extraer informaci√≥n no se comportan exactamente igual</p>
</div>
</div>
</div>
</section>
<section id="tambi√©n-podemos-extraer-las-caracter√≠sticas-geogr√°ficas-espaciales" class="slide level2">
<h2>Tambi√©n podemos extraer las caracter√≠sticas geogr√°ficas (espaciales)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a></a>g <span class="ot">&lt;-</span> <span class="fu">geom</span>(arg_utm19s) </span>
<span id="cb76-2"><a></a><span class="fu">head</span>(g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     geom part       x       y hole
[1,]    1    1 1084262 5487852    0
[2,]    1    1 1084239 5487854    0
[3,]    1    1 1084236 5487823    0
[4,]    1    1 1084213 5487825    0
[5,]    1    1 1084206 5487732    0
[6,]    1    1 1084159 5487735    0</code></pre>
</div>
</div>
</section>
<section id="es-posible-incorporar-informaci√≥n-a-nuestros-datos-vectoriales" class="slide level2">
<h2>Es posible incorporar informaci√≥n a nuestros datos vectoriales</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a></a><span class="fu">perim</span>(arg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 6542992.70 2141772.81 1833193.58 4072812.99   75022.34 1898965.96
 [7] 1546899.19 1391962.59 1887284.93 1410538.99 1816741.56 1613964.82
[13] 2160729.22 1272355.56 2006884.02 2829645.14 3018996.89 1897253.64
[19] 1379291.29 3552443.52 2159600.76 1709915.38 2035550.57  814874.32</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a></a>arg<span class="sc">$</span>perimetro <span class="ot">&lt;-</span> <span class="fu">perim</span>(arg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a></a><span class="fu">expanse</span>(arg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 307005689751 101325015569  99764195922 224358261357    211011750
 [6] 164663835095  88958640476  78008027779  75592720001  53125295415
[11] 142947760813  91104159966 148772281932  29980009644  94504843837
[16] 202539975187 155196050532  88821613819  75844534099 242892543838
[21] 133097028860 136911867268  20884464648  22539627987</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a></a>arg<span class="sc">$</span>area <span class="ot">&lt;-</span> <span class="fu">expanse</span>(arg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="qu√©-pasa-si-quiero-borrar-una-columna" class="slide level2">
<h2>¬øQu√© pasa si quiero borrar una columna?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a></a>arg<span class="sc">$</span>area <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="a-veces-tenemos-los-datos-en-una-tabla-aparte" class="slide level2">
<h2>A veces tenemos los datos en una tabla aparte</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Me descargu√© datos del <a href="https://censo.gob.ar/index.php/datos_definitivos_total_pais/">censo poblacional del pa√≠s</a></p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a></a>d <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/c2022_tp_c_resumen.csv"</span>, </span>
<span id="cb85-2"><a></a>              <span class="at">header =</span> <span class="cn">TRUE</span>, </span>
<span id="cb85-3"><a></a>              <span class="at">encoding =</span> <span class="st">"latin1"</span>)</span>
<span id="cb85-4"><a></a>d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                provincia poblacion
1  Ciudad de Buenos Aires   3121707
2            Buenos Aires  17523996
3               Catamarca    429562
4                   Chaco   1129606
5                  Chubut    592621
6                 C√≥rdoba   3840905
7              Corrientes   1212696
8              Entre R√≠os   1425578
9                 Formosa    607419
10                  Jujuy    811611
11               La Pampa    361859
12               La Rioja    383865
13                Mendoza   2043540
14               Misiones   1278873
15                Neuqu√©n    710814
16              R√≠o Negro    750768
17                  Salta   1441351
18               San Juan    822853
19               San Luis    542069
20             Santa Cruz    337226
21               Santa Fe   3544908
22    Santiago del Estero   1060906
23       Tierra del Fuego    185732
24                Tucum√°n   1731820</code></pre>
</div>
</div>
</section>
<section id="podemos-vincularla-con-los-datos-espaciales" class="slide level2">
<h2>Podemos vincularla con los datos espaciales</h2>
<p>Para vincularla necesitamos un campo en com√∫n</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a></a>arg <span class="ot">&lt;-</span> <span class="fu">merge</span>(arg, d, </span>
<span id="cb87-2"><a></a>             <span class="at">by.x =</span> <span class="st">"NAME_1"</span>, </span>
<span id="cb87-3"><a></a>             <span class="at">by.y =</span> <span class="st">"provincia"</span>)</span>
<span id="cb87-4"><a></a>arg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> class       : SpatVector 
 geometry    : polygons 
 dimensions  : 24, 13  (geometries, attributes)
 extent      : -73.56056, -53.59184, -55.06153, -21.78137  (xmin, xmax, ymin, ymax)
 coord. ref. : lon/lat WGS 84 (EPSG:4326) 
 names       :       NAME_1   GID_1 GID_0   COUNTRY       VARNAME_1 NL_NAME_1
 type        :        &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;           &lt;chr&gt;     &lt;chr&gt;
 values      : Buenos Aires ARG.1_1   ARG Argentina Baires|Buenos ~        NA
                  Catamarca ARG.2_1   ARG Argentina              NA        NA
                      Chaco ARG.3_1   ARG Argentina El Chaco|Presi~        NA
    TYPE_1 ENGTYPE_1  CC_1 HASC_1 (and 3 more)
     &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;             
 Provincia  Province    NA  AR.BA             
 Provincia  Province    NA  AR.CT             
 Provincia  Province    NA  AR.CC             </code></pre>
</div>
</div>
</section>
<section id="veamos-la-poblaci√≥n-argentina-por-provincias" class="slide level2">
<h2>Veamos la poblaci√≥n argentina por provincias</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a></a><span class="fu">plot</span>(arg, <span class="st">"poblacion"</span>, <span class="at">type =</span> <span class="st">"continuous"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-52-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-52-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="a-veces-necesitamos-fusionar-las-formas-de-varios-pol√≠gonos-o-l√≠neas-en-uno-de-mayor-tama√±o" class="slide level2">
<h2>A veces necesitamos fusionar las formas de varios pol√≠gonos (o l√≠neas) en uno de mayor tama√±o</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a></a>arg_0 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(arg, <span class="at">by =</span> <span class="st">"COUNTRY"</span>) </span>
<span id="cb90-2"><a></a><span class="fu">plot</span>(arg_0, <span class="at">col =</span> <span class="st">"white"</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">border =</span> <span class="st">"cyan"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-53-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-53-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="los-objetos-r√°ster-tambi√©n-se-pueden-agregar" class="slide level2">
<h2>Los objetos r√°ster tambi√©n se pueden agregar</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>La agregaci√≥n aqu√≠ trabaja a nivel de p√≠xel, por lo que se usan para cambiar la resoluci√≥n de los datos.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb91" data-code-line-numbers="1|2-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a></a>tavg_10 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(tavg, <span class="at">fact =</span> <span class="dv">100</span>, <span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb91-2"><a></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb91-3"><a></a><span class="fu">plot</span>(tavg[[<span class="dv">1</span>]])</span>
<span id="cb91-4"><a></a><span class="fu">plot</span>(tavg_10[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-54-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-54-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="podemos-usar-una-capa-vectorial-como-m√°scara-para-seleccionar-objetos-dentro-de-otra-capa-vectorial" class="slide level2">
<h2>Podemos usar una capa vectorial como m√°scara para seleccionar objetos dentro de otra capa vectorial</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb92" data-code-line-numbers="1|2|3|4-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a></a>clip <span class="ot">&lt;-</span> <span class="fu">rast</span>(<span class="at">ext =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">70</span>, <span class="sc">-</span><span class="dv">60</span>, <span class="sc">-</span><span class="dv">47</span>, <span class="sc">-</span><span class="dv">30</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb92-2"><a></a><span class="fu">values</span>(clip) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb92-3"><a></a><span class="fu">names</span>(clip) <span class="ot">&lt;-</span> <span class="st">"Zona"</span></span>
<span id="cb92-4"><a></a>clip <span class="ot">&lt;-</span> <span class="fu">as.polygons</span>(clip)</span>
<span id="cb92-5"><a></a>clip </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> class       : SpatVector 
 geometry    : polygons 
 dimensions  : 4, 1  (geometries, attributes)
 extent      : -70, -60, -47, -30  (xmin, xmax, ymin, ymax)
 coord. ref. : lon/lat WGS 84 (CRS84) (OGC:CRS84) 
 names       :  Zona
 type        : &lt;int&gt;
 values      :     1
                   2
                   3</code></pre>
</div>
</div>
</section>
<section id="veamos-que-aspecto-presentan-las-dos-capas" class="slide level2">
<h2>Veamos que aspecto presentan las dos capas</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a></a><span class="fu">plot</span>(arg) </span>
<span id="cb94-2"><a></a><span class="fu">plot</span>(clip, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">border =</span> <span class="st">"blue"</span>, <span class="at">lwd =</span> <span class="dv">5</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-56-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-56-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="hagamos-la-intersecci√≥n-y-veamos-el-resultado" class="slide level2">
<h2>Hagamos la intersecci√≥n y veamos el resultado</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a></a>arg_clip <span class="ot">&lt;-</span> <span class="fu">intersect</span>(arg, clip) </span>
<span id="cb95-2"><a></a><span class="fu">plot</span>(arg_clip)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-57-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-57-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="los-objetos-r√°ster-tambi√©n-se-pueden-cortar-con-un-vectorial" class="slide level2">
<h2>Los objetos r√°ster tambi√©n se pueden cortar con un vectorial</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a></a>tavg_arg <span class="ot">&lt;-</span> <span class="fu">mask</span>(tavg, arg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
|---------|---------|---------|---------|
=========================================
                                          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb98-2"><a></a><span class="fu">plot</span>(tavg[[<span class="dv">1</span>]])</span>
<span id="cb98-3"><a></a><span class="fu">plot</span>(tavg_arg[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-58-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-58-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="otras-veces-necesitamos-combinar-las-formas-de-dos-objetos-vectoriales-diferentes" class="slide level2">
<h2>Otras veces necesitamos combinar las formas de dos objetos vectoriales diferentes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a></a>u <span class="ot">&lt;-</span> <span class="fu">union</span>(arg, clip)</span>
<span id="cb99-2"><a></a><span class="fu">plot</span>(u, <span class="at">col =</span> <span class="fu">sample</span>(<span class="fu">rainbow</span>(<span class="fu">length</span>(u))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-59-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-59-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="es-muy-√∫til-extraer-informaci√≥n-de-una-capa-vectorial-en-los-puntos-l√≠neas-o-pol√≠gonos-de-otra-capa-vectorial" class="slide level2">
<h2>Es muy √∫til extraer informaci√≥n de una capa vectorial en los puntos, l√≠neas o pol√≠gonos de otra capa vectorial</h2>
<p>Para ello creamos una capa de puntos cualquiera</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a></a>pnts <span class="ot">&lt;-</span> <span class="fu">spatSample</span>(arg, <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a></a><span class="fu">plot</span>(arg)</span>
<span id="cb101-2"><a></a><span class="fu">plot</span>(clip, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">border =</span> <span class="st">"cyan"</span>)</span>
<span id="cb101-3"><a></a><span class="fu">plot</span>(pnts, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-61-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-61-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="veamos-los-valores-de-las-capas-en-los-puntos" class="slide level2">
<h2>Veamos los valores de las capas en los puntos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a></a>pnts_arg <span class="ot">&lt;-</span> <span class="fu">extract</span>(arg, pnts)</span>
<span id="cb102-2"><a></a><span class="fu">head</span>(pnts_arg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id.y       NAME_1    GID_1 GID_0   COUNTRY                      VARNAME_1
1    1   Entre R√≠os  ARG.8_1   ARG Argentina                     Entre-Rios
2    2   Santa Cruz ARG.20_1   ARG Argentina                           &lt;NA&gt;
3    3        Chaco  ARG.3_1   ARG Argentina El Chaco|Presidente Juan Peron
4    4     Santa Fe ARG.21_1   ARG Argentina                       Santa F√©
5    5 Buenos Aires  ARG.1_1   ARG Argentina            Baires|Buenos Ayres
6    6    R√≠o Negro ARG.16_1   ARG Argentina                           &lt;NA&gt;
  NL_NAME_1    TYPE_1 ENGTYPE_1 CC_1 HASC_1 ISO_1 perimetro poblacion
1      &lt;NA&gt; Provincia  Province &lt;NA&gt;  AR.ER  &lt;NA&gt;   1391963   1425578
2      &lt;NA&gt; Provincia  Province &lt;NA&gt;  AR.SC  AR-Z   3552444    337226
3      &lt;NA&gt; Provincia  Province &lt;NA&gt;  AR.CC  AR-H   1833194   1129606
4      &lt;NA&gt; Provincia  Province &lt;NA&gt;  AR.SF  AR-S   2159601   3544908
5      &lt;NA&gt; Provincia  Province &lt;NA&gt;  AR.BA  AR-B   6542993  17523996
6      &lt;NA&gt; Provincia  Province &lt;NA&gt;  AR.RN  &lt;NA&gt;   2829645    750768</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a></a>pnts_clip <span class="ot">&lt;-</span> <span class="fu">extract</span>(clip, pnts)</span>
<span id="cb104-2"><a></a><span class="fu">head</span>(pnts_clip)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id.y Zona
1    1   NA
2    2   NA
3    3   NA
4    4   NA
5    5    2
6    6    3</code></pre>
</div>
</div>
</section>
<section id="igual-podemos-hacer-con-respecto-a-los-valores-de-los-p√≠xeles-en-cada-punto-de-un-vectorial" class="slide level2">
<h2>Igual podemos hacer con respecto a los valores de los p√≠xeles en cada punto de un vectorial</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a></a>pnts_tavg <span class="ot">&lt;-</span> <span class="fu">extract</span>(tavg, pnts)</span>
<span id="cb106-2"><a></a><span class="fu">head</span>(pnts_tavg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ID ARG_wc2.1_30s_tavg_1 ARG_wc2.1_30s_tavg_2 ARG_wc2.1_30s_tavg_3
1  1                 25.0                 23.7                 22.0
2  2                  6.9                  6.5                  4.6
3  3                 27.8                 26.8                 24.4
4  4                 26.5                 25.6                 23.5
5  5                 23.3                 21.9                 19.7
6  6                 16.5                 15.7                 12.8
  ARG_wc2.1_30s_tavg_4 ARG_wc2.1_30s_tavg_5 ARG_wc2.1_30s_tavg_6
1                 18.1                 15.0                 11.6
2                  1.5                 -1.6                 -4.4
3                 21.4                 18.6                 15.8
4                 19.9                 17.1                 14.7
5                 16.0                 12.5                  9.2
6                  8.3                  4.6                  1.4
  ARG_wc2.1_30s_tavg_7 ARG_wc2.1_30s_tavg_8 ARG_wc2.1_30s_tavg_9
1                 11.4                 12.6                 14.6
2                 -4.8                 -3.6                 -1.4
3                 15.5                 18.6                 21.0
4                 14.1                 16.2                 17.8
5                  8.9                 10.7                 13.1
6                  1.3                  3.0                  5.5
  ARG_wc2.1_30s_tavg_10 ARG_wc2.1_30s_tavg_11 ARG_wc2.1_30s_tavg_12
1                  17.5                  20.3                  23.2
2                   1.4                   3.7                   5.6
3                  24.2                  25.6                  27.7
4                  20.5                  23.0                  25.3
5                  16.1                  19.2                  22.2
6                   9.0                  12.6                  15.2</code></pre>
</div>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>Fijaros que extrae un valor de cada capa del r√°ster stack</p>
</div>
</div>
</div>
</section>
<section id="tambi√©n-funciona-con-pol√≠gonos" class="slide level2">
<h2>Tambi√©n funciona con pol√≠gonos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb108" data-code-line-numbers="1|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a></a>prov_tavg <span class="ot">&lt;-</span> <span class="fu">extract</span>(tavg, arg, <span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">bind =</span> <span class="cn">TRUE</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb108-2"><a></a><span class="fu">plot</span>(prov_tavg, <span class="st">"ARG_wc2.1_30s_tavg_1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-65-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-65-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="los-objetos-r√°ster-se-puede-operar-matem√°ticamente-con-ellos-para-generar-estad√≠sticos" class="slide level2">
<h2>Los objetos r√°ster se puede operar matem√°ticamente con ellos para generar estad√≠sticos</h2>
<p><code>min</code>, <code>max</code>, <code>mean</code>, <code>prod</code>, <code>sum</code>, <code>median</code>, <code>cv</code>, <code>range</code>, <code>any</code> y <code>all</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a></a>min_tavg <span class="ot">&lt;-</span> <span class="fu">min</span>(tavg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
|---------|---------|---------|---------|
=========================================
                                          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a></a><span class="fu">plot</span>(min_tavg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-66-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-31"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-66-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tambi√©n-hay-multitud-de-funciones-avanzadas-propias-de-un-sig-tanto-para-vectoriales-como-r√°ster" class="slide level2">
<h2>Tambi√©n hay multitud de funciones avanzadas propias de un SIG, tanto para vectoriales como r√°ster</h2>
<p><code>crop</code>, <code>trim</code>, <code>merge</code>, <code>disagg</code>, <code>resample</code>, <code>classify</code> o <code>cover</code></p>
<p>El paquete <code>gdistance</code> ofrece an√°lisis de distancias complejos (least cost path, etc√©tera)</p>
</section>
<section id="last-but-not-least-se-pueden-transformar-datos-vectoriales-en-r√°ster" class="slide level2">
<h2><em>Last but not least!</em> Se pueden transformar datos vectoriales en r√°ster‚Ä¶</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a></a>arg_raster <span class="ot">&lt;-</span> <span class="fu">rasterize</span>(arg, tavg, <span class="at">field =</span> <span class="st">"NAME_1"</span>)</span>
<span id="cb112-2"><a></a><span class="fu">class</span>(arg_raster)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "SpatRaster"
attr(,"package")
[1] "terra"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a></a><span class="fu">plot</span>(arg_raster)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><a href="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-67-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-32"><img data-src="AEMER-2_Analisis_espacial_files/figure-revealjs/unnamed-chunk-67-1.png" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="y-viceversa" class="slide level2">
<h2>‚Ä¶ y viceversa</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a></a><span class="fu">as.polygons</span>(tavg[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> class       : SpatVector 
 geometry    : polygons 
 dimensions  : 41, 1  (geometries, attributes)
 extent      : -74, -53.5, -55.5, -21.5  (xmin, xmax, ymin, ymax)
 coord. ref. : lon/lat WGS 84 (EPSG:4326) 
 names       : ARG_wc2.1_30s_tavg_1
 type        :                &lt;int&gt;
 values      :                  -11
                                -10
                                 -9</code></pre>
</div>
</div>
</section>
<section id="hora-de-trabajar-por-vuestra-cuenta" class="slide level2">
<h2>Hora de trabajar por vuestra cuenta‚Ä¶</h2>
<p>Ejercicios de clase</p>
<p>Parte 3. Manipulaci√≥n de datos r√°ster y vectoriales</p>

<div class="quarto-auto-generated-content">
<p><img src="img/logos.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://dnietolugilde.com/AEMeR">AEMeR</a></p>
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/dinilu\.github\.io\/AEMeR-UCO\/");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    <script>var lightboxQuarto = GLightbox({"openEffect":"zoom","selector":".lightbox","descPosition":"bottom","closeEffect":"zoom","loop":false});
    (function() {
      let previousOnload = window.onload;
      window.onload = () => {
        if (previousOnload) {
          previousOnload();
        }
        lightboxQuarto.on('slide_before_load', (data) => {
          const { slideIndex, slideNode, slideConfig, player, trigger } = data;
          const href = trigger.getAttribute('href');
          if (href !== null) {
            const imgEl = window.document.querySelector(`a[href="${href}"] img`);
            if (imgEl !== null) {
              const srcAttr = imgEl.getAttribute("src");
              if (srcAttr && srcAttr.startsWith("data:")) {
                slideConfig.href = srcAttr;
              }
            }
          } 
        });
      
        lightboxQuarto.on('slide_after_load', (data) => {
          const { slideIndex, slideNode, slideConfig, player, trigger } = data;
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(slideNode);
          }
        });
      
      };
      
    })();
              </script>
    

</body></html>